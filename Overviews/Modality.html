<html><head><title>Modality</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider OVERVIEWS (extension)</div>
<div id='categories'><a href='./../Browse.html#Libraries>Modality'>Libraries>Modality</a>, <a href='./../Browse.html#External Control'>External Control</a></div>
<h1>Modality<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>A toolkit for creating flexible personal electronic instruments using a variety of  controllers.</div>
</div>
<div class='subheader'>
<div id='related'>See also: <a href="./../Overviews/Modality.html">Modality</a>, <a href="./../Classes/MKtl.html">MKtl</a>, <a href="./../Tutorials/ModalityTutorial.html">Modality Tutorial</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#Features'>Features</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Tutorials,%20how-tos,%20examples'>Tutorials, how-tos, examples</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Advanced%20Tutorials%20and%20further%20reading'>Advanced Tutorials and further reading</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#First%20Steps'>First Steps</a></li>
<ul class='toc'><li class='toc2'><a href='#Example%20NanoKontrol2'>Example NanoKontrol2</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Example%20BCR2000'>Example BCR2000</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Bonus:%20Knob%20rotation%20demo'>Bonus: Knob rotation demo</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Adding%20More%20Controllers'>Adding More Controllers</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Acknowledgements'>Acknowledgements</a></li>
<ul class='toc'></ul></ul></div>
<p>The Modality toolkit simplifies using controllers in SuperCollider. It was created by a team of developers and users of SuperCollider.
<p>see <a href="http://modality.bek.no/">http://modality.bek.no/</a>, or in browser:<pre class='code prettyprint lang-sc'>"http://modality.bek.no/".openOS;</pre>
<h2><a class='anchor' name='Features'>Features</a></h2>
<ul>
<li>Modality allows creating highly personal performance instruments with a wide variety of controllers. A common code interface, MKtl, is used to set up controllers from various sources and protocols like HID, MIDI and OSC.<li>With Modality, the same set of physical interfaces (sliders, buttons, motion sensors etc.) can control many different processes. Modality allows a highly modal approach to mapping and on-the-fly remapping to make setups much more flexible, powerful, and interesting to play. For example, when improvising, highly modal interfaces allow much faster changes of overall musical direction.<li>Modality allows quick substitution of controllers for others, whether for experiment (how do the sounds in my setup feel when played with a gaming joystick instead of this faderbox?) or in emergencies (My faderbox broke and my show starts in 30 minutes!).<li>Users can add description files for their own controllers locally and are welcome to contribute them to Modality.</ul>

<p>SCDoc<h2><a class='anchor' name='Tutorials,%20how-tos,%20examples'>Tutorials, how-tos, examples</a></h2>
<ul>
<li>Begin here (or jump to <a href="./../Overviews/Modality.html#First%20Steps">Modality: First%20Steps</a> below):
<p><a href="./../Tutorials/ModalityTutorial.html">Modality Tutorial</a><li>Supported Devices are:<pre class='code prettyprint lang-sc'>"https://modalityteam.github.io/controllers/".openOS;
// or in SC:
MKtlDesc.postLoadable;
MKtlDesc.web;</pre>
<li>Tutorials for special modality features:
<p><a href="./../Tutorials/Creating_Named_Groups.html">Creating Named Groups</a>
<p><a href="./../Tutorials/Creating_Custom_Elements_and_Groups.html">Creating Custom Elements and Groups</a>
<p><a href="./../Tutorials/Creating_Presets_for_MKtl_Values.html">Creating Presets for MKtl Element Values</a>
<p><a href="./../Tutorials/Using_Hardware_Pages.html">Using Hardware Pages</a>
<p><a href="./../Tutorials/Substituting_MKtls.html">Substituting MKtls</a>
<p><a href="./../Tutorials/Coding_for_Modal_Flexibility.html">Coding for Modal Flexibility</a>
<p><a href="./../Classes/CompMKtl.html">CompMKtl</a> - Composing an MKtl from several MKtls
<p><a href="./../Classes/PagedMKtl.html">PagedMKtl</a> - Paging by using multiple MKtls for the same device<li>Practical issues:
<p><a href="./../Tutorials/Fix_Missing_hutDirectory_osx.html">Fix Missing hutDirectory on OSX</a>
<p><a href="./../Tutorials/Connecting_generic_devices.html">Connecting generic devices</a>
<p><a href="./../Tutorials/Connecting_multiple_identical_devices.html">Connecting multiple identical devices</a>
<p><a href="./../Tutorials/Connecting_external_MIDI_devices.html">Connecting external MIDI devices</a>
<p><a href="./../Tutorials/Connecting_multiport_MIDI_devices.html">Connecting multiport MIDI devices</a>
<p><a href="./../Tutorials/Connecting_OSC_devices.html">Connecting OSC devices</a>
<p>Find many tutorial files and examples of common use cases of MKtl here: <a href="https://github.com/ModalityTeam/ModalityWorkshop">https://github.com/ModalityTeam/ModalityWorkshop</a>
<p>Also, some description files have little examples for each device:<pre class='code prettyprint lang-sc'>MKtlDesc.openFolder;
MKtlDesc.loadDescs.choose.openFile;

// generate code to test a device:
MKtlDesc.loadDescs.choose.openTestCode;
MKtlDesc("*icontrols*102").openTestCode;</pre>

<p>Longer examples for some specific devices are here - please contribute examples for your device:<pre class='code prettyprint lang-sc'>(MKtlDesc.defaultFolder.dirname +/+ "DeviceExamples").openOS;</pre>
</ul>
<h2><a class='anchor' name='Advanced%20Tutorials%20and%20further%20reading'>Advanced Tutorials and further reading</a></h2>
<ul>
<li>Adding your own controller(s) to Modality:
<p><a href="./../Tutorials/How_to_adapt_a_description_file.html">How to adapt a description file</a> - to be written
<p><a href="./../Tutorials/How_to_create_a_description_file_for_MIDI.html">How to create a description file for a MIDI device</a>
<p><a href="./../Tutorials/How_to_create_a_description_file_for_HID.html">How to create a description file for an HID device</a>
<p><a href="./../Tutorials/How_to_create_a_description_file_for_OSC.html">How to create a description file for an OSC device</a></ul>
<h2><a class='anchor' name='First%20Steps'>First Steps</a></h2>

<p>This section is intended as a rough and quick overview. For more detailed information, see <a href="./../Tutorials/ModalityTutorial.html">Modality Tutorial</a>.
<p>In Modality, an <code class='code prettyprint lang-sc'>MKtl</code> represents a supported hardware controller, and one assigns functionality to its controller elements. To find your device, evaluate<pre class='code prettyprint lang-sc'>MKtl.find;</pre>
<div class='note'><span class='notelabel'>NOTE:</span> You may have to install drivers before <code class='code prettyprint lang-sc'>MKtl.find</code> is able to find your device. Some devices may show up in multiple protocols. For example, the <code class='code prettyprint lang-sc'>ICON IControls</code> show up as both <code class='code prettyprint lang-sc'>MIDI</code> and <code class='code prettyprint lang-sc'>HID</code>.</div>
<p>Each <code class='code prettyprint lang-sc'>MKtl</code> contains <code class='code prettyprint lang-sc'>MKtlElement</code>s, which represent the hardware elements of the controller, e.g. the sliders or knobs on a faderbox. You can assign actions to these elements and to groups of elements. They will get evaluated every time the value that element is activated.<h3><a class='anchor' name='Example%20NanoKontrol2'>Example NanoKontrol2</a></h3>
<pre class='code prettyprint lang-sc'>// plug in a NanoKontrol2 and evaluate this line.
// ( if you don't have one at hand, do it anyhow :)
k = MKtl('nk2', "korg-nanokontrol2");

// alternatively, you can evaluate
MKtl.find(\midi);
// grab the last line pasted, and change its short name:
k = MKtl('nk2', "korg-nanokontrol2");

// If no controller is connected, use its gui instead:
k.gui;

// turn on trace, then move some elements to see that it works
k.trace;
k.trace(false);

// the elements (knobs, sliders, buttons) are in hierarchical groups
k.elementGroup;
k.postElements;

// elements can be accessed by hierarchical names or indices:
k.elAt(\kn, 0);
k.elAt(\kn, \1);
k.elAt(\tr, \play);
k.elAt(\bt, 1, 4);
k.elAt(\bt, \M, \5);


// make sure there are no current assigned actions
k.resetActions;

// boot the server
s.boot;

(
// play a sound
x = {
    Splay.ar(
        LFSaw.ar([
            \freq1.kr(700, lag: 0.3),
            \freq2.kr(150, lag: 0.3),
            \freq3.kr(100, lag: 0.3)
    ])) * 0.2
}.play;

// add a spec for the controls
Spec.add(\freq1, [100, 1000, \exp]);
)

// set actions to the first three sliders
(
k.elAt(\sl, 0).action = {arg el; x.set(\freq1, \freq1.asSpec.map(el.value)) };
k.elAt(\sl, 1).action = {arg el; x.set(\freq2, \freq1.asSpec.map(el.value)) };
k.elAt(\sl, 2).action = {arg el; x.set(\freq3, \freq1.asSpec.map(el.value)) };
)

// after testing, free sound
x.free;

// and free the device
k.free;</pre>
<h3><a class='anchor' name='Example%20BCR2000'>Example BCR2000</a></h3>
<pre class='code prettyprint lang-sc'>// plug in your BCR2000 and evaluate this line.
k = MKtl('myBCR', "behringer-bcr2000");

// If there is no controller connected, use its gui:
k.gui;

// turn on trace, then move some elements to see that it works
k.trace;


// make sure there are no current assigned actions
k.resetActions;

// the elements (knobs, sliders, buttons) are in hierarchical groups
k.elementGroup;
k.postElements;

// elements can be accessed by hierarchical names or indices:
k.elAt(\kn, 0);
k.elAt(\kn, 0, 0);

// all knobs of the first row
k.elAt(\kn, 0); // -&gt; MKtlElementGroup

// elements have a type:
k.elAt(\kn, 0, 0).type;

// select elements by their type:
k.elementsDict.select { |x| x.type == \encoder };

// perform an action on turning knob [0,0] (upper left)
k.elAt(\kn, 0, 0).action = { |el| [el.name, el.value.round(0.001)].postln };

// boot the server
s.boot;

// simple sound example
x = { Splay.ar(RLPF.ar(Saw.ar(\freq.kr(440, 0.1), mul: 0.1), 1000))}.play;

// .action overrides previously set actions
(
k.elAt(\kn, 0, 0).action_({ |el|
    x.set(\freq.postln, el.value.linlin(0.0, 1, 300.0, 600));
});
)

// after testing, free sound
x.free;

// send data back to the device
k.elAt(\kn,0,0).value_(0.5);

// remove all assigned actions
k.resetActions;</pre>
<h3><a class='anchor' name='Bonus:%20Knob%20rotation%20demo'>Bonus: Knob rotation demo</a></h3>
<pre class='code prettyprint lang-sc'>(
d = 0;
{
    loop {
        0.05.wait;
        d = d + 0.01;
        8.do { |i|
            k.elAt(\kn, 0, i).value_(
                (d + (i/7)).mod(1.0);
            );
        };
    }
}.fork;
)</pre>
<h2><a class='anchor' name='Adding%20More%20Controllers'>Adding More Controllers</a></h2>

<p>If your controller is not supported yet, you can add it by yourself! See <a href="./../Tutorials/How_to_adapt_a_description_file.html">How to adapt a description file</a> or <a href="./../Tutorials/How_to_create_a_description_file.html">How to create a description file</a>.<h2><a class='anchor' name='Acknowledgements'>Acknowledgements</a></h2>

<p>Modality and its research meetings have kindly been supported by BEK in Bergen, Norway, and STEIM, Amsterdam. The ModalityTeam is, in no particular order:<pre class='code prettyprint lang-sc'>["Jeff Carey", "Bjørnar Habbestad", "Marije Baalman", "Alberto de Campo", "Tijs Ham", "Wouter Snoei", "Till Bovermann", "Miguel Negrão", "Robert van Heumen", "Hannes Hoelzl", "Tim Blechmann", "Amelie Hinrichsen", "Dominik Hildebrand Marques Lopes"].scramble;</pre>

<p><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/Modality-toolkit/Modality/HelpSource/Overviews/Modality.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/Modality-toolkit/Modality/HelpSource/Overviews/Modality.schelp</a><br>link::Overviews/Modality::<br>sc version: 3.9dev</div></div></body></html>