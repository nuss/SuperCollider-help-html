<!doctype html><html lang='en'><head><title>CVCenterKeyboard | SuperCollider 3.10.2 Help</title>
<link rel='stylesheet' href='./scdoc.css' type='text/css' />
<link rel='stylesheet' href='./codemirror.css' type='text/css' />
<link rel='stylesheet' href='./editor.css' type='text/css' />
<link rel='stylesheet' href='./frontend.css' type='text/css' />
<link rel='stylesheet' href='./custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./lib/jquery.min.js'></script>
<script src='./lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = '.';
var scdoc_title = 'CVCenterKeyboard';
var scdoc_sc_version = '3.10.2';
</script>
<script src='./scdoc.js' type='text/javascript'></script>
<script src='./docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>CVCenterKeyboard:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*all'>all</a> </li>
<li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*newSynthDef'>newSynthDef</a> </li>
<li class='toc3'><a href='#*initClass'>initClass</a> </li>
<li class='toc3'><a href='#*at'>at</a> </li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-currentSynthDef'>currentSynthDef</a> </li>
<li class='toc3'><a href='#-clearSamples'>clearSamples</a> </li>
<li class='toc3'><a href='#-prResetSampling'>prResetSampling</a> </li>
<li class='toc3'><a href='#-addOutProxy'>addOutProxy</a> </li>
<li class='toc3'><a href='#-synthDefNames'>synthDefNames</a> </li>
<li class='toc3'><a href='#-reInit'>reInit</a> </li>
<li class='toc3'><a href='#-switchKeyboard'>switchKeyboard</a> </li>
<li class='toc3'><a href='#-addSynthDef'>addSynthDef</a> </li>
<li class='toc3'><a href='#-out'>out</a> </li>
<li class='toc3'><a href='#-controls'>controls</a> </li>
<li class='toc3'><a href='#-prInitCVs'>prInitCVs</a> </li>
<li class='toc3'><a href='#-init'>init</a> </li>
<li class='toc3'><a href='#-setUpControls'>setUpControls</a> </li>
<li class='toc3'><a href='#-bendSpec'>bendSpec</a> </li>
<li class='toc3'><a href='#-pdef'>pdef</a> </li>
<li class='toc3'><a href='#-initSynthDef'>initSynthDef</a> </li>
<li class='toc3'><a href='#-removeOutProxy'>removeOutProxy</a> </li>
<li class='toc3'><a href='#-debug'>debug</a> </li>
<li class='toc3'><a href='#-sample'>sample</a> </li>
<li class='toc3'><a href='#-activateSampling'>activateSampling</a> </li>
<li class='toc3'><a href='#-prAddWidgetActionsForKeyboard'>prAddWidgetActionsForKeyboard</a> </li>
<li class='toc3'><a href='#-prInitKeyboard'>prInitKeyboard</a> </li>
<li class='toc3'><a href='#-server'>server</a> </li>
<li class='toc3'><a href='#-name'>name</a> </li>
<li class='toc3'><a href='#-wdgtNames'>wdgtNames</a> </li>
<li class='toc3'><a href='#-outProxy'>outProxy</a> </li>
<li class='toc3'><a href='#-free'>free</a> </li>
<li class='toc3'><a href='#-sampleEvents'>sampleEvents</a> </li>
<li class='toc3'><a href='#-prMidiInit'>prMidiInit</a> </li>
<li class='toc3'><a href='#-prDurSum'>prDurSum</a> </li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'> (extension)</span>
<span id='categories'><a href='./Browse.html#Conductor'>Conductor</a>&#8201;&gt;&#8201;<a href='./Browse.html#Conductor>CVCenter'>CVCenter</a> | <a href='./Browse.html#External Control'>External Control</a>&#8201;&gt;&#8201;<a href='./Browse.html#External Control>MIDI'>MIDI</a></span>
</div><h1>CVCenterKeyboard<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>A MIDI keyboard implementation for CVCenter</div>
</div>
<div class='subheader'>
<div id='related'>See also: <a href="./Classes/CVCenter.html">CVCenter</a>, <a href="./Guides/UsingMIDI.html">Using MIDI</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>CVCenterKeyboard lets you create a <a href="./Guides/UsingMIDI.html">MIDI keyboard</a> layout instantly from any SynthDef that provides a <code>\gate</code> key, meaning that a Synth that has been instiated upon receiving a note-on message gets finished when it gets a not-off message from an external MIDI keyboard. That allows for playing sustained notes that can be controlled through <code>asr</code> or <code>adsr</code> envelopes.
<p>Seting up the keyboard basically involves to steps: First instantiating a keyboard (through <a href="#-new">-new</a> or <a href="#-newSynthDef">-newSynthDef</a>) and then setting up the keyboard for a given SynthDef through <a href="./-setUpControls">-setUpControls</a> (will start the Server).
<p>You can assign four arbitray controls from your SynthDef to the following standard parameters<dl>
<dt>outControl<dd>the arg that sets the output bus of the Synth<dt>keyboardControl<dd>what ever you want to play with your keyboard (e.g. Frequency). You'll get midi notes back<dt>velocControl<dd>whatever you want to control through keyboard velocity<dt>bendControl<dd>whatever you want to control through the pitch bend weal (the internal control  will automatically assigned a spec <code>ControlSpec(0.midicps.neg, 0.midicps, \lin, 0, 0, " hz")</code>)</dl>

<p>All other controls you may have defined in your SynthDef will automatically be picked up by the setup process and get assigned appropriate widgets automatically.
<p>Especially after loading an already existing CVCenter setup you possibly have to re-init the keyboard through <a href="./-reInit">-reInit</a>
<p>Additionally an output proxy - a <a href="./Classes/NodeProxy.html">NodeProxy</a> or an <a href="./Classes/Ndef.html">Ndef</a> - can be added through <a href="./-addOutProxy">-addOutProxy</a> which allows you to do filtering and all kinds of NodeProxy trickery. First code examples:<textarea class='editor'>(
SynthDef(\pmosc, {
    var env = Env.adsr(\atk.kr(0.01), \dec.kr(0.3), \sust.kr(0.5), \rel.kr(0.7));
    var son = PMOsc.ar(
        \carfreq.kr(100),
        \modfreq.kr(300!2, 0.02),
        \pmindex.kr(0!2, 0.02),
        \modphase.kr(0!2, 0.02)
    );
    env = EnvGen.ar(env, \gate.kr(1), doneAction: Done.freeSelf);
    Out.ar(\out.kr(0), son * \veloc.kr(1) * \amp.kr(0.5) * env);
}).add;
)

// set a couple of useful specs ahead from keyboard creation
(
Spec.add(\atk, #[0.01, 1.0]);
Spec.add(\dec, #[0.1, 2.0]);
Spec.add(\sust, #[0.1, 1.0]);
Spec.add(\rel, #[0.1, 2.0, \exp]);
Spec.add(\carfreq, #[40, 2000, \exp]);
Spec.add(\modfreq, #[40, 2000, \exp]);
Spec.add(\pmindex, #[0, 30]);
Spec.add(\modphase, \phase);
)

//
~kb = CVCenterKeyboard.newSynthDef(\pmosc, \myKeyboard);
~kb.setUpControls(\pmosc, \kb, \out, \carfreq, \veloc, \carfreq);
// just in case, won't do no harm
~kb.reInit(\pmosc);
~kb.addOutProxy(useNdef: true);</textarea>
<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*all' href='./Overviews/Methods.html#all'>all</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*new' href='./Overviews/Methods.html#new'>new</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*newSynthDef' href='./Overviews/Methods.html#newSynthDef'>newSynthDef</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>connectMidi<td class='argumentdesc'><tr><td class='argumentname'>keyboardName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*initClass' href='./Overviews/Methods.html#initClass'>initClass</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='*at' href='./Overviews/Methods.html#at'>at</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>keyboardName<td class='argumentdesc'></table></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-currentSynthDef' href='./Overviews/Methods.html#currentSynthDef'>currentSynthDef</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clearSamples' href='./Overviews/Methods.html#clearSamples'>clearSamples</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>... indices<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prResetSampling' href='./Overviews/Methods.html#prResetSampling'>prResetSampling</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addOutProxy' href='./Overviews/Methods.html#addOutProxy'>addOutProxy</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>numChannels<td class='argumentdesc'><tr><td class='argumentname'>useNdef<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-synthDefNames' href='./Overviews/Methods.html#synthDefNames'>synthDefNames</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-reInit' href='./Overviews/Methods.html#reInit'>reInit</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-switchKeyboard' href='./Overviews/Methods.html#switchKeyboard'>switchKeyboard</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addSynthDef' href='./Overviews/Methods.html#addSynthDef'>addSynthDef</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>connectMidi<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-out' href='./Overviews/Methods.html#out'>out</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-controls' href='./Overviews/Methods.html#controls'>controls</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prInitCVs' href='./Overviews/Methods.html#prInitCVs'>prInitCVs</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>args<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-init' href='./Overviews/Methods.html#init'>init</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setUpControls' href='./Overviews/Methods.html#setUpControls'>setUpControls</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>prefix<td class='argumentdesc'><tr><td class='argumentname'>outControl<td class='argumentdesc'><tr><td class='argumentname'>keyboardControl<td class='argumentdesc'><tr><td class='argumentname'>velocControl<td class='argumentdesc'><tr><td class='argumentname'>bendControl<td class='argumentdesc'><tr><td class='argumentname'>theServer<td class='argumentdesc'><tr><td class='argumentname'>out<td class='argumentdesc'><tr><td class='argumentname'>deactivateDefaultWidgetActions<td class='argumentdesc'><tr><td class='argumentname'>srcID<td class='argumentdesc'><tr><td class='argumentname'>tab<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bendSpec' href='./Overviews/Methods.html#bendSpec'>bendSpec</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pdef' href='./Overviews/Methods.html#pdef'>pdef</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-initSynthDef' href='./Overviews/Methods.html#initSynthDef'>initSynthDef</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>connectMidi<td class='argumentdesc'><tr><td class='argumentname'>keyboardName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-removeOutProxy' href='./Overviews/Methods.html#removeOutProxy'>removeOutProxy</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>out<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./Overviews/Methods.html#debug'>debug</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-sample' href='./Overviews/Methods.html#sample'>sample</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-activateSampling' href='./Overviews/Methods.html#activateSampling'>activateSampling</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>onOff<td class='argumentdesc'><tr><td class='argumentname'>synthDefName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prAddWidgetActionsForKeyboard' href='./Overviews/Methods.html#prAddWidgetActionsForKeyboard'>prAddWidgetActionsForKeyboard</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>deactivateDefaultActions<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prInitKeyboard' href='./Overviews/Methods.html#prInitKeyboard'>prInitKeyboard</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-server' href='./Overviews/Methods.html#server'>server</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-name' href='./Overviews/Methods.html#name'>name</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-wdgtNames' href='./Overviews/Methods.html#wdgtNames'>wdgtNames</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-outProxy' href='./Overviews/Methods.html#outProxy'>outProxy</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-free' href='./Overviews/Methods.html#free'>free</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-sampleEvents' href='./Overviews/Methods.html#sampleEvents'>sampleEvents</a></h3>
<div class='method'>
<p></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prMidiInit' href='./Overviews/Methods.html#prMidiInit'>prMidiInit</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'><tr><td class='argumentname'>connectMidi<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prDurSum' href='./Overviews/Methods.html#prDurSum'>prDurSum</a></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>durs<td class='argumentdesc'></table></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>_some_example_code_</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/HelpSource/CVCenterKeyboard.schelp'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/HelpSource/CVCenterKeyboard.schelp</a><br>link::CVCenterKeyboard::<br></div></div><script src='./editor.js' type='text/javascript'></script>
</body></html>