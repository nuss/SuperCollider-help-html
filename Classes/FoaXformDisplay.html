<!doctype html><html lang='en'><head><title>FoaXformDisplay | SuperCollider 3.11.2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'FoaXformDisplay';
var scdoc_sc_version = '3.11.2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>FoaXformDisplay:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-chain'>chain</a> </li>
<li class='toc3'><a href='#-curXformMatrix'>curXformMatrix</a> </li>
<li class='toc3'><a href='#-free'>free</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#Understanding%20the%20Transform%20Display'>Understanding the Transform Display</a></li>
<ul class='toc'><li class='toc2'><a href='#Gain'>Gain</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Angular%20Warping'>Angular Warping</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Directivity'>Directivity</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Inspecting%20the%20transform%20matrix%20and%20providing%20a%20custom%20matrix'>Inspecting the transform matrix and providing a custom matrix</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Auditioning'>Auditioning</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>Ambisonic Toolkit'>Ambisonic Toolkit</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>Ambisonic Toolkit>Utilities'>Utilities</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>Ambisonic Toolkit>Utilities>FOA'>FOA</a></span>
</div><h1>FoaXformDisplay<span id='superclasses'> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>Visualize, audition and customize FOA soundfield transforms.</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/atk-sc3/Classes/FoaXformDisplay.sc' title='/home/stefan/.local/share/SuperCollider/downloaded-quarks/atk-sc3/Classes/FoaXformDisplay.sc'>FoaXformDisplay.sc</a></div><div id='related'>See also: <a href="./../Classes/FoaMatrixChain.html">FoaMatrixChain</a>, <a href="./../Classes/FoaAudition.html">FoaAudition</a>, <a href="./../Classes/FoaXformerMatrix.html">FoaXformerMatrix</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>An interface to view the imaging characteristics of a soundfield after being transformed by a custom matrix, an <a href="./../Classes/FoaXformerMatrix.html">FoaXformerMatrix</a>, or a chain of transforms. The resultant transform matrix can be auditioned, through an embeded <a href="./../Classes/FoaAudition.html">FoaAudition</a>, and parameters may be changed in real-time.
<p>See <a href="#Understanding%20the%20Transform%20Display">Understanding the Transform Display</a> below.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>FoaXformDisplay.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>numDisplayPoints: 12</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numDisplayPoints<td class='argumentdesc'>
<p>The number of points arrayed around the soundfield circle, which represent incoming planewaves spaced evenly around the horizontal plane.</table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-chain' href='./../Overviews/Methods.html#chain'>chain</a></h3>
<div class='method'>
<p>Returns the current <a href="./../Classes/FoaMatrixChain.html">FoaMatrixChain</a>, the output of which is displayed.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-curXformMatrix' href='./../Overviews/Methods.html#curXformMatrix'>curXformMatrix</a></h3>
<div class='method'>
<p>Returns the resultant <a href="./../Classes/Matrix.html">Matrix</a> from the transform chain.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-free' href='./../Overviews/Methods.html#free'>free</a></h3>
<div class='method'>
<p>Clean up the windows and free resources on the server.</div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='Understanding%20the%20Transform%20Display'>Understanding the Transform Display</a></h2>

<p>The transform display shows points which represent incoming planewaves from many directions evenly spaced across the horizontal plane. As you adjust your transforms, these planewaves are warped in both arrival direction and perceived directivity, depending on the transforms chosen. <em>Gain</em>, <em>arrival direction</em>, and <em>directivity</em> are linked and often change together.<div class='image'><img src='FoaXformDisplay.png'/></div>
<h3><a class='anchor' name='Gain'>Gain</a></h3>

<p>Gain<a class='footnote anchor' name='footnote_org_1' href='#footnote_1'><sup>1</sup></a> changes are indicated by the color of the planewave dots, where increasing gain causes a warmer shift (toward red) and attenuation causes a cooler shift (toward blue). The gain is also listed next to the point to show specifically how sound from that initial arrival direction changes gain. When the display is set to "Radius Only", the gain value follows the point. The max and min gain values across all of the planewave probes are listed in the bottom right, which is useful to see the range of the transformed gain in the new spatial image. This is also useful to spot if the transform(s) are going to drive your soundfield to clip, or if you need to re-normalize your soundfield at the tail of a transform chain (with the Gain "transform").<h3><a class='anchor' name='Angular%20Warping'>Angular Warping</a></h3>

<p>Many transforms will warp your soundfield so that a sound originally approaching from one direction appears to arrive from a different direction after the transform has been applied. Notice how the points change their angular position as you change your transform parameters. As points spread apart, the original image in that direction will widen, and as points gather together, the spatial image collapses in that direction. Note though that the angular change is often accompanied by a change in gain and/or directivity.
<p>For example, <a href="./../Classes/FoaXformerMatrix.html#*newZoom">Zoom</a>, <a href="./../Classes/FoaXformerMatrix.html#*newFocus">Focus</a>, and <a href="./../Classes/FoaXformerMatrix.html#*newDominate">Dominate</a> warp the image in the direction of the transform while also imposing a gain differential. <a href="./../Classes/FoaXformerMatrix.html#*newPush">Push</a> and <a href="./../Classes/FoaXformerMatrix.html#*newPress">Press</a>, on the other hand, warp the image in the direction of the transform while maintaining the gains, at the "cost" of decreasing directivity in the direction opposite of the transform.
<p>For convenience, the azimuth point representing the front of the original soundfield, 0 degrees arrival, is marked by a red circle so you can track it's orientation after it has been transformed.<h3><a class='anchor' name='Directivity'>Directivity</a></h3>

<p>A point at the edge of the circle represents a planewave arriving from the specified azimuth. As a point approachs the me middle of the soundfield display, it loses directivity.<a class='footnote anchor' name='footnote_org_2' href='#footnote_2'><sup>2</sup></a> 
<p><strong>A point inside the circle is NOT sound moving inside the perimeter of your loudspeaker array.</strong> Rather, it represents a sound with less directivity. I.e. a directivity of zero, at the center of the circle, has no perceived arrival direction. This effect is illustrated graphically by an increased size and transparency of the planewave circle. This representation can be turned off with the dropdown menu at the top right for a clearer view of the angular distortion of the original soundfield. In this case directivity is shown only by the distance from the center of the display.<h2><a class='anchor' name='Inspecting%20the%20transform%20matrix%20and%20providing%20a%20custom%20matrix'>Inspecting the transform matrix and providing a custom matrix</a></h2>

<p>The <strong>Post Matrix</strong> button will show you the resultant matrix from your transform or <a href="./../Classes/FoaMatrixChain.html">transform chain</a>. You can manually alter it and click <strong>Evaluate</strong> to update the display. You can enter your own matrix to visualize and audition using the <strong>Enter Matrix</strong> button. You may also enter code that returns a <a href="./../Classes/Matrix.html">Matrix</a> or <a href="./../Classes/FoaXformerMatrix.html">FoaXformerMatrix</a>.<div class='image'><img src='EvaluateMatrix.png'/></div>
<h2><a class='anchor' name='Auditioning'>Auditioning</a></h2>

<p>The <strong>Audition</strong> button will bring up an <a href="./../Classes/FoaAudition.html">FoaAudition</a> window so you can play your own b-format soundfile, live sound (via a <a href="./../Classes/Bus.html">Bus</a>), or test signals through the transform matrix and change its parameters in real-time.<h2><a class='anchor' name='Examples'>Examples</a></h2>
<textarea class='editor'>// default
d = FoaXformDisplay();
d.free;

// more points, but overkill for FOA and hits CPU harder
d = FoaXformDisplay( 32 );
d.free;


// now use it with some sound!
s.boot
d = FoaXformDisplay();

// Once open, you can audition the results of
// your transform. Press the "Audition" button
// to play a test signal or load a file to play.

// If you aren't already playing through a decoder,
// make one now:

// select a decoder of your choice
~decoder = FoaDecoderKernel.newSpherical

(
SynthDef(\decoder_spherical, { arg outbus = 0, inbus;
    // ReplaceOut here in case you'be selected a
    // hardware out for the auditioner
    ReplaceOut.ar( outbus,
        FoaDecode.ar(
            In.ar( inbus, 4 ),
            ~decoder
        )
    )
}).send(s);
)

// Note: this assumes you've already opened the
// "Audition" window (thus the auditioning synths are on the
// node tree). So place your decoder AFTER the
// Audition synth group:

x = Synth(\decoder_spherical, [\inbus, d.audition.outbus], d.audition.group, \addAfter);

// now play with the transforms/chain...

// Just close the windows to clean up when you're done, or use .free
d.free

// free your decoder kernels
~decoder.free
// and your decoder synth
x.free</textarea>

<p><div class='footnotes'>
<a class='anchor' name='footnote_1'/><div class='footnote'>[<a href='#footnote_org_1'>1</a>] - Gain is returned as a change in <em>Soundfield Energy Level</em>, <em>SFWL</em>. See also: <a href="./../Classes/FoaSFWL.html">FoaSFWL</a>.</div><a class='anchor' name='footnote_2'/><div class='footnote'>[<a href='#footnote_org_2'>2</a>] - Directivity is measured as the <em>Magnitude of the Active Energy Vector</em>, <em>||Wa||</em>, aka <em>rE</em>. See also: <a href="./../Classes/FoaMagWa.html">FoaMagWa</a>.</div></div><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/atk-sc3/HelpSource/Classes/FoaXformDisplay.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/atk-sc3/HelpSource/Classes/FoaXformDisplay.schelp</a><br>link::Classes/FoaXformDisplay::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>