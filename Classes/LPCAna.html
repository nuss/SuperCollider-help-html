<html><head><title>LPCAna</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Libraries>JoshUGens'>Libraries>JoshUGens</a>, <a href='./../Browse.html#Classes'>Classes</a></div>
<h1>LPCAna</h1>
<div id='summary'>Create an LPC analysis file</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/AnaUtils.sc'>/usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/AnaUtils.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='related'>See also: <a href="./../Classes/LPCFile.html">LPCFile</a>, <a href="./../Classes/LPCSynth.html">LPCSynth</a>, <a href="./../Classes/LPCVals.html">LPCVals</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-ana'>ana</a> </li>
<li class='toc3'><a href='#-lperr'>lperr</a> </li>
<li class='toc3'><a href='#-lprms'>lprms</a> </li>
<li class='toc3'><a href='#-lppch'>lppch</a> </li>
<li class='toc3'><a href='#-saveToLPCFile'>saveToLPCFile</a> </li>
<li class='toc3'><a href='#-saveToFiles'>saveToFiles</a> </li>
<li class='toc3'><a href='#-calcLaguerre'>calcLaguerre</a> </li>
<li class='toc3'><a href='#-checkRoots'>checkRoots</a> </li>
<li class='toc3'><a href='#-findRoots'>findRoots</a> </li>
<li class='toc3'><a href='#-getpch'>getpch</a> </li>
<li class='toc3'><a href='#-clock'>clock</a> </li>
<li class='toc3'><a href='#-data'>data</a> </li>
<li class='toc3'><a href='#-resrms'>resrms</a> </li>
<li class='toc3'><a href='#-sr'>sr</a> </li>
<li class='toc3'><a href='#-hop'>hop</a> </li>
<li class='toc3'><a href='#-channel'>channel</a> </li>
<li class='toc3'><a href='#-initLPCAna'>initLPCAna</a> </li>
<li class='toc3'><a href='#-analyzeWindow'>analyzeWindow</a> </li>
<li class='toc3'><a href='#-path'>path</a> </li>
<li class='toc3'><a href='#-frames'>frames</a> </li>
<li class='toc3'><a href='#-nPoles'>nPoles</a> </li>
<li class='toc3'><a href='#-initAna'>initAna</a> </li>
<li class='toc3'><a href='#-pchcps'>pchcps</a> </li>
<li class='toc3'><a href='#-coefs'>coefs</a> </li>
<li class='toc3'><a href='#-anaBuf'>anaBuf</a> </li>
<li class='toc3'><a href='#-frameSize'>frameSize</a> </li>
<li class='toc3'><a href='#-hopSamps'>hopSamps</a> </li>
<li class='toc3'><a href='#-origrms'>origrms</a> </li>
<li class='toc3'><a href='#-inc'>inc</a> </li>
<li class='toc3'><a href='#-tmpBuf'>tmpBuf</a> </li>
<li class='toc3'><a href='#-err'>err</a> </li>
<li class='toc3'><a href='#-sf'>sf</a> </li>
<li class='toc3'><a href='#-calcOrigRMS'>calcOrigRMS</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>Adapted and expanded from R. Moore's LPC analysis code from <em>Computer Music</em>.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>path</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'>
<p>The path for a mono sound file to analyze.</table></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-ana' href='./../Overviews/Methods.html#ana'>ana</a> (<span class='argstr'>nPoles: 35</span>, <span class='argstr'>frameSize: 400</span>, <span class='argstr'>hop: 0.5</span>, <span class='argstr'>channel: 0</span>, <span class='argstr'>minFreq: 70</span>, <span class='argstr'>maxFreq: 200</span>, <span class='argstr'>check: 0</span>, <span class='argstr'>conditionSignal: 0</span>, <span class='argstr'>completion</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>nPoles<td class='argumentdesc'>
<p>the number of poles for the all-pole filter (default: 35, must be less the 200)<tr><td class='argumentname'>frameSize<td class='argumentdesc'>
<p>the number of samples to use for each from of analysis (default: 400)<tr><td class='argumentname'>hop<td class='argumentdesc'>
<p>a percentage of the frameSize to skip for the next window (default: 0.5)<tr><td class='argumentname'>channel<td class='argumentdesc'>
<p>the channel to analyze if the file at 'path' is multi-channel (default: 0)<tr><td class='argumentname'>minFreq<td class='argumentdesc'>
<p>a minFreq to search for in pitch tracking (defautl: 70)<tr><td class='argumentname'>maxFreq<td class='argumentdesc'>
<p>a maxFreq to search for in pitch tracking (default: 200)<tr><td class='argumentname'>check<td class='argumentdesc'>
<p>Attempts to check poles for stability.<div class='warning'><span class='warninglabel'>WARNING:</span> Somewhere in this code, I've made a terrible mistake. It actually CAUSES instabilities rather then getting rid of them... but I can't, for the life of me, see where the error is. Don't use it. Moore's basic algorithm is pretty good, and the filters seems fairly stable. If you have problems, try increasing the number of poles (default: 0).</div><tr><td class='argumentname'>conditionSignal<td class='argumentdesc'>
<p>Default: 0, 1 works well, choose 2 if you want exploding filters that might (?) be interesting.<ul>
<li>0: does nothing,<li>1: applies a simple low pass filter to each window before doing the analysis (which helps avoid instabilities)<li>2: apply a DRASTIC low pass filter to the signal that I saw in some of CSounds LPC code. This REALLY smoothes out the signal, and usually causes some pretty crazy instabilities because the output of the filter is SO resonant.</ul>
<tr><td class='argumentname'>completion<td class='argumentdesc'>
<p>A function to evaluate when the analysis is finished. Handy for bulk analyzing files, and auto saving them.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-lperr' href='./../Overviews/Methods.html#lperr'>lperr</a> (<span class='argstr'>numTurns: 1</span>)</h3>
<div class='method'>
<p>low pass the error signal numTurns times<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numTurns<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-lprms' href='./../Overviews/Methods.html#lprms'>lprms</a> (<span class='argstr'>numTurns: 1</span>)</h3>
<div class='method'>
<p>low pass the overall rms signal numTurns times<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numTurns<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-lppch' href='./../Overviews/Methods.html#lppch'>lppch</a> (<span class='argstr'>numTurns: 1</span>)</h3>
<div class='method'>
<p>Low pass the pchcps signal numTurns times<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numTurns<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-saveToLPCFile' href='./../Overviews/Methods.html#saveToLPCFile'>saveToLPCFile</a> (<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>save file to an LPC file usable by LPCFile, LPCSynth and LPCVals.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-saveToFiles' href='./../Overviews/Methods.html#saveToFiles'>saveToFiles</a> (<span class='argstr'>path</span>)</h3>
<div class='method'>
<p>Save file to an LPC file usable by LPCFile, LPCSynth and LPCVals, as well as a floating point .aif data file for use in NRT.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>path<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-calcLaguerre' href='./../Overviews/Methods.html#calcLaguerre'>calcLaguerre</a> (<span class='argstr'>a</span>, <span class='argstr'>m</span>, <span class='argstr'>x</span>, <span class='argstr'>eps</span>, <span class='argstr'>p</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>a<td class='argumentdesc'><tr><td class='argumentname'>m<td class='argumentdesc'><tr><td class='argumentname'>x<td class='argumentdesc'><tr><td class='argumentname'>eps<td class='argumentdesc'><tr><td class='argumentname'>p<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-checkRoots' href='./../Overviews/Methods.html#checkRoots'>checkRoots</a> (<span class='argstr'>theseCoefs</span>, <span class='argstr'>check</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>theseCoefs<td class='argumentdesc'><tr><td class='argumentname'>check<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-findRoots' href='./../Overviews/Methods.html#findRoots'>findRoots</a> (<span class='argstr'>a</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>a<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-getpch' href='./../Overviews/Methods.html#getpch'>getpch</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a> = </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-data' href='./../Overviews/Methods.html#data'>data</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-resrms' href='./../Overviews/Methods.html#resrms'>resrms</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-resrms' href='./../Overviews/Methods.html#resrms'>resrms</a> = value</h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-sr' href='./../Overviews/Methods.html#sr'>sr</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-hop' href='./../Overviews/Methods.html#hop'>hop</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-channel' href='./../Overviews/Methods.html#channel'>channel</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-initLPCAna' href='./../Overviews/Methods.html#initLPCAna'>initLPCAna</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-analyzeWindow' href='./../Overviews/Methods.html#analyzeWindow'>analyzeWindow</a> (<span class='argstr'>check</span>, <span class='argstr'>conditionSignal</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>check<td class='argumentdesc'><tr><td class='argumentname'>conditionSignal<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-path' href='./../Overviews/Methods.html#path'>path</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-frames' href='./../Overviews/Methods.html#frames'>frames</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-nPoles' href='./../Overviews/Methods.html#nPoles'>nPoles</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-initAna' href='./../Overviews/Methods.html#initAna'>initAna</a> (<span class='argstr'>argNPoles</span>, <span class='argstr'>argFrameSize</span>, <span class='argstr'>argHop</span>, <span class='argstr'>argChannel</span>, <span class='argstr'>argMinFreq</span>, <span class='argstr'>argMaxFreq</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>argNPoles<td class='argumentdesc'><tr><td class='argumentname'>argFrameSize<td class='argumentdesc'><tr><td class='argumentname'>argHop<td class='argumentdesc'><tr><td class='argumentname'>argChannel<td class='argumentdesc'><tr><td class='argumentname'>argMinFreq<td class='argumentdesc'><tr><td class='argumentname'>argMaxFreq<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-pchcps' href='./../Overviews/Methods.html#pchcps'>pchcps</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-pchcps' href='./../Overviews/Methods.html#pchcps'>pchcps</a> = value</h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-coefs' href='./../Overviews/Methods.html#coefs'>coefs</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-anaBuf' href='./../Overviews/Methods.html#anaBuf'>anaBuf</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-frameSize' href='./../Overviews/Methods.html#frameSize'>frameSize</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-hopSamps' href='./../Overviews/Methods.html#hopSamps'>hopSamps</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-origrms' href='./../Overviews/Methods.html#origrms'>origrms</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-origrms' href='./../Overviews/Methods.html#origrms'>origrms</a> = value</h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-inc' href='./../Overviews/Methods.html#inc'>inc</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-tmpBuf' href='./../Overviews/Methods.html#tmpBuf'>tmpBuf</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-err' href='./../Overviews/Methods.html#err'>err</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-err' href='./../Overviews/Methods.html#err'>err</a> = value</h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-sf' href='./../Overviews/Methods.html#sf'>sf</a> </h3>
<div class='method'></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-calcOrigRMS' href='./../Overviews/Methods.html#calcOrigRMS'>calcOrigRMS</a> </h3>
<div class='method'></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>a = LPCAna.new(Platform.resourceDir +/+ "sounds/a11wlk01.wav");
a.ana(50, 400, 0.5, 0, 70, 300);

// low pass an aspect of the analysis
a.err.plot
a.lperr;
a.err.plot;

a.pchcps.plot;
a.lppch;
a.pchcps.plot;</pre>

<p><div class='doclink'>helpfile source: <a href='file:///usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/LPCAna.schelp'>/usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/LPCAna.schelp</a><br>link::Classes/LPCAna::<br>sc version: 3.8dev</div></div></body></html>