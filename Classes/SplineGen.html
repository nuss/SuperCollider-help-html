<html><head><title>SplineGen</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Splines'>Splines</a>, <a href='./../Browse.html#UGens>Generators'>UGens>Generators</a></div>
<h1>SplineGen</h1>
<div id='summary'>Like EnvGen but for Splines</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/splines/SplineOsc.sc'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/splines/SplineOsc.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/SplineOsc.html">SplineOsc</a></div>
<div id='related'>See also: <a href="./../Classes/LinearSpline.html">LinearSpline</a>, <a href="./../Classes/BezierSpline.html">BezierSpline</a>, <a href="./../Classes/EnvGen.html">EnvGen</a>, <a href="./../Classes/KrSplinePlayer">KrSplinePlayer</a>, <a href="./../Classes/SplineFr">SplineFr</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-spline'>spline</a> </li>
<li class='toc3'><a href='#-dimension'>dimension</a> </li>
<li class='toc3'><a href='#-loop'>loop</a> </li>
<li class='toc3'><a href='#-storeArgs'>storeArgs</a> </li>
<li class='toc3'><a href='#-duration'>duration</a> </li>
<li class='toc3'><a href='#-asLocalBuf'>asLocalBuf</a> </li>
<li class='toc3'><a href='#-kr'>kr</a> </li>
<li class='toc3'><a href='#-readKr'>readKr</a> </li>
<li class='toc3'><a href='#-xyKr'>xyKr</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>Plays a spline along one dimension for use in automation and control rate modulation. This is the equivalent of EnvGen
<p>This technique interpolates the spline along one dimension (usually X) producing values for Y that are then passed to a LocalBuf and embeded in the SynthDef and played with a BufRd.
<p>A SplineInterpolator class is planned that will allow live updating from the gui to a buffer on the server. At present I am using SplineFr (frame rate device) and playing the spline in the language, messaging control changes to the server. This allows relocating and live editing and patching. The cost is more communication with the server. I run it at 24/fps.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>spline</span>, <span class='argstr'>dimension: 0</span>, <span class='argstr'>loop: false</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>spline<td class='argumentdesc'>
<p>any Spline subclass.<tr><td class='argumentname'>dimension<td class='argumentdesc'>
<p>The dimension that represents time. Usually 0<tr><td class='argumentname'>loop<td class='argumentdesc'>
<p>boolean: can loop the control back to the beginning</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(returnvalue)</div></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-spline' href='./../Overviews/Methods.html#spline'>spline</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-spline' href='./../Overviews/Methods.html#spline'>spline</a> = value</h3>
<div class='method'>
<p>get/set spline<h4>Returns:</h4>
<div class='returnvalue'>
<p>(returnvalue)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-dimension' href='./../Overviews/Methods.html#dimension'>dimension</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-dimension' href='./../Overviews/Methods.html#dimension'>dimension</a> = value</h3>
<div class='method'>
<p>get/set the dimension that represents time. Usually 0. The value dimension is then considered to be 1.<h4>Returns:</h4>
<div class='returnvalue'>
<p>Integer</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-loop' href='./../Overviews/Methods.html#loop'>loop</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-loop' href='./../Overviews/Methods.html#loop'>loop</a> = value</h3>
<div class='method'>
<p>get/set loop<h4>Returns:</h4>
<div class='returnvalue'>
<p>Boolean</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-storeArgs' href='./../Overviews/Methods.html#storeArgs'>storeArgs</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(returnvalue)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-duration' href='./../Overviews/Methods.html#duration'>duration</a> </h3>
<div class='method'>
<p>Total time length of the spline. Using the default values for the play methods kr etc. then time will be in seconds.<h4>Returns:</h4>
<div class='returnvalue'>
<p>float</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-asLocalBuf' href='./../Overviews/Methods.html#asLocalBuf'>asLocalBuf</a> (<span class='argstr'>divisions: 512</span>)</h3>
<div class='method'>
<p>Returns a <a href="./../Classes/LocalBuf.html">LocalBuf</a> with the spline as an interpolated lookup table. Must be called from within a SynthDef<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>divisions<td class='argumentdesc'>
<p>Number of interpolated values in the Buffer.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a LocalBuf</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-kr' href='./../Overviews/Methods.html#kr'>kr</a> (<span class='argstr'>timeScale: 1</span>, <span class='argstr'>doneAction: 0</span>, <span class='argstr'>divisions: 512</span>)</h3>
<div class='method'>
<p>Like EnvGen.kr(env), this plays the spline.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>timeScale<td class='argumentdesc'>
<p>If timeScale is tempo then the x values are beats. eg. Tempo.tempo<tr><td class='argumentname'>doneAction<td class='argumentdesc'>
<p>Like EnvGen etc.<tr><td class='argumentname'>divisions<td class='argumentdesc'>
<p>Total number of points in the interpolation</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>control rate (a BufRd.kr)<pre class='code prettyprint lang-sc'>s.boot;

// BSpline
(
b = BSpline([ [ 0, 2.275 ], [ 1, 1 ], [ 2.5102880658436, 3.1 ], [ 4, 4 ] ], 2.0, false);

b.gui(nil,1000@300);

)

(
{
    PinkNoise.ar * SplineGen(b).kr(doneAction:2)
}.play
)



// Linear
(

b = LinearSpline( Array.fill(60,{ arg i; [ i,1.0.rand ] }) );

b.gui(nil,1200@300);


)
(
{
    PinkNoise.ar * SplineGen(b).kr(doneAction:2)
}.play
)</pre>
</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-readKr' href='./../Overviews/Methods.html#readKr'>readKr</a> (<span class='argstr'>position</span>, <span class='argstr'>timeScale: 1</span>, <span class='argstr'>divisions: 512</span>)</h3>
<div class='method'>
<p>Plays the spline with a modulatable position input.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>position<td class='argumentdesc'>
<p>kr modulator in X units (seconds)<tr><td class='argumentname'>timeScale<td class='argumentdesc'>
<p>Default 1.0 means that x units are seconds. If timeScale is tempo (bps) then the x values are beats. eg. Tempo.tempo<tr><td class='argumentname'>divisions<td class='argumentdesc'>
<p>Total number of points in the interpolation</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>control rate (a BufRd.kr)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-xyKr' href='./../Overviews/Methods.html#xyKr'>xyKr</a> (<span class='argstr'>speed</span>, <span class='argstr'>divisions: 512</span>, <span class='argstr'>rate: 'kr'</span>)</h3>
<div class='method'>
<p>Returns an array of kr following each dimension. Returns as many dimensions as your spline have, not just xy as the name implies.
<p>Time is the path along the spine of the spline. The total tangent length along spline could be summed to figure out the length of time needed for one oscillation, but that would only be calculatable if it is 2 dimensions. So just crank the speed up until you like it.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>speed<td class='argumentdesc'>
<p>float. how fast. range ? that depends<tr><td class='argumentname'>divisions<td class='argumentdesc'>
<p>Total number of points in the interpolation<tr><td class='argumentname'>rate<td class='argumentdesc'>
<p>'kr' or 'ar' see also <a href="./../Classes/SplineOsc.html">SplineOsc</a></table><h4>Returns:</h4>
<div class='returnvalue'>
<p>control or audio rate BufRd<pre class='code prettyprint lang-sc'>(
b = BSpline( Array.fill(8,{ arg i; [ exprand(40,500),1.0.rand ] }), 3.0,false );

b.gui(nil,1200@300);

)

(
{
    # f , w = SplineGen(b,0,loop:true).xyKr(MouseY.kr(0.1,20),32);
    Pulse.ar(f.clip(40,500),w.clip(0.0,1.0),0.4).dup
}.play
)

b.interpolate(32).flop.plot</pre>
</div></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>(
//Its not the spline that loops (that would be a loop in 2 dimensional space) but the SplineGen that is set to loop.

// the spline does NOT loop,
b = BSpline( Array.fill(16,{ arg i; [ i * 0.25,1.0.rand ] }), 3.0,false );

b.gui(nil,1200@300);


)
(
// the SplineGen loops
{
    Saw.ar(SplineGen(b,loop:true).kr.linexp(0.0,1.0,40,500).clip(40,500)).dup * 0.4
}.play
)</pre>

<p><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/splines/HelpSource/Classes/SplineGen.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/splines/HelpSource/Classes/SplineGen.schelp</a><br>link::Classes/SplineGen::<br>sc version: 3.8dev</div></div></body></html>