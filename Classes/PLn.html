<!doctype html><html lang='en'><head><title>PLn | SuperCollider 3.11.0 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'PLn';
var scdoc_sc_version = '3.11.0';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>PLn:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-envir'>envir</a> </li>
<li class='toc3'><a href='#-item'>item</a> </li>
<li class='toc3'><a href='#-repeats'>repeats</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'><li class='toc2'><a href='#Ex.1:%20Protection%20of%20periods'>Ex.1: Protection of periods</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Ex.2:%20Protection%20of%20periods%20for%20syncing'>Ex.2: Protection of periods for syncing</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Ex.3:%20Protection%20of%20periods%20and%20subperiods%20with%20event%20streams'>Ex.3: Protection of periods and subperiods with event streams</a></li>
<ul class='toc'></ul></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>miSCellaneous'>miSCellaneous</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>miSCellaneous>PLx suite'>PLx suite</a> | <a href='./../Browse.html#Streams-Patterns-Events'>Streams-Patterns-Events</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Streams-Patterns-Events>PLx suite'>PLx suite</a></span>
</div><h1>PLn<span id='superclasses'> : <a href="../Classes/Pn.html">Pn</a> : <a href="../Classes/FilterPattern.html">FilterPattern</a> : <a href="../Classes/Pattern.html">Pattern</a> : <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>dynamic scope placeholder pattern whose streams will be finished before replacements</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/Classes/Patterns/PL.sc' title='/home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/Classes/Patterns/PL.sc'>PL.sc</a></div><div id='related'>See also: <a href="./../Overviews/miSCellaneous.html">miSCellaneous</a>, <a href="./../Tutorials/PLx_suite.html">PLx suite</a>, <a href="./../Tutorials/Event_patterns_and_Functions.html">Event patterns and Functions</a>, <a href="./../Classes/VarGui.html">VarGui</a>, <a href="./../Tutorials/VarGui_shortcut_builds.html">VarGui shortcut builds</a>, <a href="./../Classes/PL.html">PL</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>Takes Symbol args for later reference by the Streams, which will read from variables in the Environments of their instantiation. See <a href="./../Tutorials/PLx_suite.html">PLx suite</a>. In contrast to <a href="./../Classes/PL.html">PL</a> a replacement doesn't take effect immediately, but with the next embedding. This behaviour might be preferred with syncing.<div class='note'><span class='notelabel'>NOTE:</span> As sources are finished before next replacements are possible, infinite source streams, other than with other PLx patterns, inhibit further replacements at all. For the option of finishing substreams with PLx list patterns see their cutItems arg and <a href="#Ex.3">Ex.3</a>.</div><h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>PLn.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>item</span>, <span class='argstr'>repeats: inf</span>, <span class='argstr'>envir: 'current'</span>)</h3>
<div class='method'>
<p>Creates a new PL object.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>item<td class='argumentdesc'>
<p>Symbol or other Object.  If a Symbol is passed, item can be assigned to an envir variable later on. Can be dynamically replaced by Patterns or Streams.<tr><td class='argumentname'>repeats<td class='argumentdesc'>
<p>Symbol or repeats arg. If a Symbol is passed, repeats can be assigned to an envir variable later on. Defaults to inf.<tr><td class='argumentname'>envir<td class='argumentdesc'>
<p>Dictionary or one of the Symbols  \top, \t (topEnvironment), \current, \c (currentEnvironment). Dictionary to be taken for variable reference. Defaults to \current.</table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-envir' href='./../Overviews/Methods.html#envir'>envir</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-envir' href='./../Overviews/Methods.html#envir'>envir</a> = value</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-item' href='./../Overviews/Methods.html#item'>item</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-item' href='./../Overviews/Methods.html#item'>item</a> = value</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-repeats' href='./../Overviews/Methods.html#repeats'>repeats</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-repeats' href='./../Overviews/Methods.html#repeats'>repeats</a> = value</h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>(
s = Server.local;
Server.default = s;
s.boot;
)</textarea>

<p><a class='anchor' name='Ex.1'>&nbsp;</a> <h3><a class='anchor' name='Ex.1:%20Protection%20of%20periods'>Ex.1: Protection of periods</a></h3>
<textarea class='editor'>// compare PL and PLn, start with polling two items from each Stream
// Note that Pseq defaults to repeats = 1 and PL/PLn default to repeats = inf

(
~a = Pseq([1, 2, 3]);
x = PLn(\a).asStream;
y = PL(\a).asStream;

x.nextN(2);
y.nextN(2);
)


// replace proxy source 

~a = ~a * 100;


// Stream from PLn finishes before replacement

x.nextN(2)

// With PL substream is replaced immediately

y.nextN(2)</textarea>

<p><a class='anchor' name='Ex.2'>&nbsp;</a> <h3><a class='anchor' name='Ex.2:%20Protection%20of%20periods%20for%20syncing'>Ex.2: Protection of periods for syncing</a></h3>
<textarea class='editor'>// playing two interval lines in parallel

(
~a = Pseq([4, 2, 0]) + [0, -5];
~b = Pseq([7, 5, 4]) + [0, 5];
        
p = Pbind(
    \dur, Pseq([0.4, 0.2, 0.2], inf),
    \note, PLn(\a)
);
        
q = Pbindf(p, \note, PLn(\b));

x = Ppar([p, q]).play;    
)

    

// replace the lower event stream, new notes start after end of embedding Pseq
    
~a = Pseq([3, 2, 0]) + [0, -5];


// replace second line

~b = Pseq([7, 5, 4]) + [5, 12];


// source nil stops event stream after end of embedding Pseq

~a = nil;</textarea>

<p><a class='anchor' name='Ex.3'>&nbsp;</a> <h3><a class='anchor' name='Ex.3:%20Protection%20of%20periods%20and%20subperiods%20with%20event%20streams'>Ex.3: Protection of periods and subperiods with event streams</a></h3>
<textarea class='editor'>// define two Pbinds of same length, play first

(
x = Pbind(
    \dur, Pseq([0.4, 0.2, 0.2]),
    \note, Pseq([4, 2, 0]) 
);

y = Pbind(
    \dur, 0.2,
    \note, Pseq([7, 7, 5, 4]) 
);

~a = x;

PLn(\a).play;
)

// switch between them several times, periods are protected

~a = y;

~a = x;


// define a sequence of parts, we want to exchange parts later on

(
~trill_1 = Pbind(
    \dur, 0.4/3,
    \note, Pseq([7, 9, 7]) 
);    

~trill_2 = Pbind(
    \dur, 0.4/5,
    \note, Pseq([7, 8, 7, 8, 7]) 
);

~fin = Pbind(
    \dur, 0.2,
    \note, Pseq([5, 4]) 
);

~b = [~trill_1, ~fin];
)

// replace with a PLseq
// note that source must have repeats = 1,
// in order to protect substreams with PLseq and change the behaviour later on
// we pass to cutItmes a Function that, for now, returns false

(
~cutItems = false;
~a = PLseq(\b, 1, cutItems: \cutItems);

~b[0] = ~trill_2;
)

// helper function to generate trill patterns

~trill = { |lo, hi, dur, reps| Pbind(\dur, dur / reps, \note, Pser([lo, hi], reps)) };


// replace with a long slow trill

~b[0] = ~trill_3 = ~trill.(7, 9, 0.9, 5);



// replace back while long trill, 
// due to the current value ~cutItems = false it will be completed and
// replacement takes effect in next loop
    
~b[0] = ~trill_2;

// replace back

~b[0] = ~trill_3;


// change replacing behaviour

~cutItems = true;


// now replacing while long trill will take immediate effect

~b[0] = ~trill_2;


// stop

~a = nil</textarea>

<p> <div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/HelpSource/Classes/PLn.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/HelpSource/Classes/PLn.schelp</a><br>link::Classes/PLn::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>