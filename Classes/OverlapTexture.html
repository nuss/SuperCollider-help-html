<html><head><title>OverlapTexture</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Libraries>JoshUGens'>Libraries>JoshUGens</a></div>
<h1>OverlapTexture</h1>
<div id='summary'>Overlap events</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/OverlapTexture.sc'>/usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/OverlapTexture.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-synthdef'>synthdef</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-init'>init</a> </li>
<li class='toc3'><a href='#-stop'>stop</a> </li>
<li class='toc3'><a href='#-isPlaying'>isPlaying</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><a class='anchor' name='kw_JoshUGens'>&nbsp;</a><h2><a class='anchor' name='description'>Description</a></h2>

<p>Where OverlapTexture in SC2 was a Spawn wrapper, in SC3 OverlapTexture is a Task wrapper. To work properly, your synthdef MUST have arguments for \susdur and \transdur which control an envelope's attack, sustain and decay portions (e.g. Env([0, 1, 1, 0], [transdur, susdur, transdur], \sin) ). Values for these arguments will be passed into the Synth from the OverlapTexture class, and do not need to be included with the arguments.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>synth</span>, <span class='argstr'>inserver</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synth<td class='argumentdesc'>
<p>A valid synthdef (or an array of synthdefs). If the synthdef is an array of synthdefs, OverlapTexture will randomly choose which synthdef to play on each new synth creation.<tr><td class='argumentname'>inserver<td class='argumentdesc'>
<p>If not specified, will use the default server.</table></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-synthdef' href='./../Overviews/Methods.html#synthdef'>synthdef</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-synthdef' href='./../Overviews/Methods.html#synthdef'>synthdef</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-play' href='./../Overviews/Methods.html#play'>play</a> (<span class='argstr'>overlaps</span>, <span class='argstr'>susdur</span>, <span class='argstr'>transdur</span>, <span class='argstr'>maxRepeats: inf</span>, <span class='argstr'>addaction: 0</span>, <span class='argstr'>target: 0</span>, <span class='argstr'>args</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>overlaps<td class='argumentdesc'>
<p>The number of events that should occur at one time<tr><td class='argumentname'>susdur<td class='argumentdesc'>
<p>The sustain portion of the synths envelope<tr><td class='argumentname'>transdur<td class='argumentdesc'>
<p>The attack and decay portions of the the synths envelopes<tr><td class='argumentname'>maxRepeats<td class='argumentdesc'>
<p>If an integer is specified here, then the function will create no more then this number of synths. Defaults to inf.<tr><td class='argumentname'>addaction<td class='argumentdesc'><ul>
<li>0 - add the new node to the the head of the group specified by the add target ID.<li>1 - add the new node to the the tail of the group specified by the add target ID.<li>2 - add the new node just before the node specified by the add target ID.<li>3 - add the new node just after the node specified by the add target ID.<li>4 - the new node replaces the node specified by the add target ID.</ul>
<tr><td class='argumentname'>target<td class='argumentdesc'>
<p>A target ID<tr><td class='argumentname'>args<td class='argumentdesc'>
<p>An array containing arguments to be passed to the synth (transdur and susdur should be excluded). arg values can also be functions that will be evaluated when the synth is called. Can also be an array of args that correspond with the array of synthdefs.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-init' href='./../Overviews/Methods.html#init'>init</a> (<span class='argstr'>synth</span>, <span class='argstr'>inserver</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synth<td class='argumentdesc'><tr><td class='argumentname'>inserver<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-stop' href='./../Overviews/Methods.html#stop'>stop</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-isPlaying' href='./../Overviews/Methods.html#isPlaying'>isPlaying</a> </h3>
<div class='method'>
<p><h4>Returns:</h4>
<div class='returnvalue'>
<p>Boolean</div></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>s.boot;

(
SynthDef(\sinetest, {arg freq, amp = 0.2, susdur = 4, transdur = 1;
    var env, sound;
    env = EnvGen.kr(
        Env([0, 1, 1, 0], [transdur, susdur, transdur], \sin),
        doneAction: 2);
    sound = SinOsc.ar(freq * [0.99, 1.01], 0, amp) * env;
    Out.ar(0, sound);
}).add;
)

a = OverlapTexture.new(\sinetest);

(
var numSynths = 60;
a.play(overlaps: numOscs, susdur: 4, transdur: 1, args: [\freq, {110.rrand(2200)}, \amp, numSynths.reciprocal]);
)

a.stop;
a.isPlaying;

// with a array of synthdefs

(
SynthDef(\sinetest, {arg freq, amp = 0.2, susdur = 4, transdur = 1;
    var env, sound;
    env = EnvGen.kr(
        Env([0, 1, 1, 0], [transdur, susdur, transdur], \sin),
        doneAction: 2);
    sound = SinOsc.ar(freq, 0, amp) * env;
    Out.ar(0, Pan2.ar(sound, Rand.new(-1.0, 1.0)));
}).add;

SynthDef(\noisetest, {arg amp = 0.2, susdur = 4, transdur = 1;
    var env, sound, freq;
    env = EnvGen.kr(
        Env([0, 1, 1, 0], [transdur, susdur, transdur], \sin),
        doneAction: 2);
    freq = 440.0.rrand(110.0).dup + [0, 5.0.rrand(50.0)];
    sound = BPF.ar(PinkNoise.ar(amp), freq, 0.01.rrand(0.1)) * env ;
    Out.ar(0, sound);
}).add;
)

a = OverlapTexture.new([\sinetest, \noisetest], s);

a.play(60, 1, 1, 200, args: [[\freq, {440.rrand(880)}, \amp, 60.reciprocal], [\amp, 10.reciprocal]])

a.stop;

a.isPlaying</pre>

<p><div class='doclink'>helpfile source: <a href='file:///usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/OverlapTexture.schelp'>/usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/OverlapTexture.schelp</a><br>link::Classes/OverlapTexture::<br>sc version: 3.8dev</div></div></body></html>