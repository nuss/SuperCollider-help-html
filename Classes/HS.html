<!doctype html><html lang='en'><head><title>HS | SuperCollider 3.10.4-rc2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'HS';
var scdoc_sc_version = '3.10.4-rc2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>HS:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-demandLatency'>demandLatency</a> </li>
<li class='toc3'><a href='#-respondLatency'>respondLatency</a> </li>
<li class='toc3'><a href='#-postOSC'>postOSC</a> </li>
<li class='toc3'><a href='#-granularity'>granularity</a> </li>
<li class='toc3'><a href='#-inputCheck'>inputCheck</a> </li>
<li class='toc3'><a href='#-listen'>listen</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-clearBookkeeping'>clearBookkeeping</a> </li>
<li class='toc3'><a href='#-stop'>stop</a> </li>
<li class='toc3'><a href='#-sleep'>sleep</a> </li>
<li class='toc3'><a href='#-busFree'>busFree</a> </li>
<li class='toc3'><a href='#-free'>free</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>miSCellaneous'>miSCellaneous</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>miSCellaneous>HS and HSpar'>HS and HSpar</a> | <a href='./../Browse.html#Streams-Patterns-Events'>Streams-Patterns-Events</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Streams-Patterns-Events>HS and HSpar'>HS and HSpar</a></span>
</div><h1>HS<span id='superclasses'> : <a href="../Classes/HelpSynth.html">HelpSynth</a> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>object for use of synth values in the language by event patterns</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/Classes/HS/HelpSynth.sc' title='/home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/Classes/HS/HelpSynth.sc'>HelpSynth.sc</a></div><div id='related'>See also: <a href="./../Overviews/miSCellaneous.html">miSCellaneous</a>, <a href="./../Guides/Guide_to_HS_and_HSpar.html">Guide to HS and HSpar</a>, <a href="./../Tutorials/HS_with_VarGui.html">HS with VarGui</a>, <a href="./../Classes/PHS.html">PHS</a>, <a href="./../Classes/PHSuse.html">PHSuse</a>, <a href="./../Classes/PHSplayer.html">PHSplayer</a>, <a href="./../Classes/PHSusePlayer.html">PHSusePlayer</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>To be used in connection with <a href="./../Classes/PHS.html">PHS</a> / <a href="./../Classes/PHSuse.html">PHSuse</a> to play event patterns using synth values. Holds a singular synth definition, keeps track of OSC traffic when PHS / PHSuse are played. For using several help synths in parallel or setting controllers of a singular help synth see <a href="./../Classes/HSpar.html">HSpar</a> and related.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>HS.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>server</span>, <span class='argstr'>ugenFunc</span>, <span class='argstr'>demandLatency: 0.15</span>, <span class='argstr'>respondLatency: 0.15</span>, <span class='argstr'>postOSC: false</span>, <span class='argstr'>granularity: 200</span>, <span class='argstr'>inputCheck: true</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Creates a new HS object.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>server<td class='argumentdesc'>
<p>Must be running server.<tr><td class='argumentname'>ugenFunc<td class='argumentdesc'>
<p>Function that defines the synth. <tr><td class='argumentname'>demandLatency<td class='argumentdesc'>
<p>Latency of help synth in seconds. Default value 0.15. <tr><td class='argumentname'>respondLatency<td class='argumentdesc'>
<p>Time in seconds, given to the response to be received by the client on time.  Default value 0.15.<tr><td class='argumentname'>postOSC<td class='argumentdesc'>
<p>Boolean for posting of (server to client) OSC messages. Defaults to false.<tr><td class='argumentname'>granularity<td class='argumentdesc'>
<p>Time grains per second, quantization for bookkeeping. Defaults to 200.<tr><td class='argumentname'>inputCheck<td class='argumentdesc'>
<p>Boolean for checking input data. Defaults to true.</table><h4>Discussion:</h4>
<textarea class='editor'>(
s = Server.local;
Server.default = s;
s.boot;
)

// make a new HS 
// This compiles the SynthDef and prepares the HS to be played with a PHS,
// no Synth object is yet instantiated.

h = HS(s, { LFDNoise3.kr(0.7, 15, 75) });</textarea>

<p>A PHS, like a Pbind, defines event stream behaviour, only durations are given separately. Here values are demanded just by one stream with constant duration,  but more than one duration pattern per HS and more than one Pbind per duration pattern may be defined - see the <a href="./../Classes/PHS.html">PHS</a> help file for examples. 
<p>The play method of a PHS creates a PHSplayer which plays a synth from HS's synth definition,  synth values are accessible within the PHS definition by the variable <code>~val</code>, e.g. by <code>Pkey(\val)</code>. If HS's synthdef has no args, this must be specified in the PHS by <code>nil</code> or <code>[]</code>.<textarea class='editor'>p = PHS(h, [], 0.15, [ \midinote, Pkey(\val) ]).play;

// also:
// p = PHS(h, [], 0.15, [ \midinote, Pfunc { |e| e.use { ~val } }  ]).play;

// stop allows resuming, cleanup with free or Cmd-. 

p.stop; // HS synth still playing 

p.play; // resume the PHSplayer

p.stop(true); // HS synth also paused 

p.play; // resume the PHSplayer together with HS synth

p.free; // also stop HS synth and cleanup - PHSplayer and HS object are freed</textarea>
</div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-demandLatency' href='./../Overviews/Methods.html#demandLatency'>demandLatency</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-demandLatency' href='./../Overviews/Methods.html#demandLatency'>demandLatency</a> = value</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Set or get latency of help synth in seconds. Defaults to 0.15. </div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-respondLatency' href='./../Overviews/Methods.html#respondLatency'>respondLatency</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-respondLatency' href='./../Overviews/Methods.html#respondLatency'>respondLatency</a> = value</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Set or get time (in seconds) given to the response to be received by the client on time. Defaults to 0.15.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-postOSC' href='./../Overviews/Methods.html#postOSC'>postOSC</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-postOSC' href='./../Overviews/Methods.html#postOSC'>postOSC</a> = value</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Set or get the flag that defines whether OSC messages should be posted or not. Boolean. Defaults to false.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-granularity' href='./../Overviews/Methods.html#granularity'>granularity</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-granularity' href='./../Overviews/Methods.html#granularity'>granularity</a> = value</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Set or get the (Integer) number of time grains per second, denoting the quantization for bookkeeping. Defaults to 200.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-inputCheck' href='./../Overviews/Methods.html#inputCheck'>inputCheck</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-inputCheck' href='./../Overviews/Methods.html#inputCheck'>inputCheck</a> = value</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Set or get the flag that defines whether input data should be checked. Boolean. Defaults to true.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-listen' href='./../Overviews/Methods.html#listen'>listen</a>(<span class='argstr'>num: 1</span>, <span class='argstr'>latency</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Make HS ready to poll values from a synth, demanded by possibly more than one stream.  Therefore <strong>num</strong> trigger synths are run, ready to receive triggers for sending help synth values back to client, but a synth from HS's ugenFunc definition is not yet playing after that. If PHS / PHSuse are played there is no need to call <strong>listen</strong> explicitely.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>num<td class='argumentdesc'>
<p>Integer. Number of trigger synths.<tr><td class='argumentname'>latency<td class='argumentdesc'>
<p>Float. Latency in seconds.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-play' href='./../Overviews/Methods.html#play'>play</a>(<span class='argstr'>args</span>, <span class='argstr'>latency</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Play a synth derived from HS's ugenFunc definition. HS must already be listening. If PHS / PHSuse are played there is no need to call <strong>play</strong> explicitely.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>args<td class='argumentdesc'>
<p>Synth args.<tr><td class='argumentname'>latency<td class='argumentdesc'>
<p>Float. Latency in seconds.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clearBookkeeping' href='./../Overviews/Methods.html#clearBookkeeping'>clearBookkeeping</a></h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Cleanup OSC bookkeeping.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-stop' href='./../Overviews/Methods.html#stop'>stop</a>(<span class='argstr'>latency</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Free the playing help synth and cleanup OSC bookkeeping.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-sleep' href='./../Overviews/Methods.html#sleep'>sleep</a>(<span class='argstr'>latency</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Free the listening trigger synths.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-busFree' href='./../Overviews/Methods.html#busFree'>busFree</a>(<span class='argstr'>latency</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Deallocate the bus.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-free' href='./../Overviews/Methods.html#free'>free</a>(<span class='argstr'>latency</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/HelpSynth.html'>HelpSynth</a></div>
<div class='method'>
<p>Free all related PHSplayers / PHSusePlayers, then <strong>stop</strong>, <strong>sleep</strong> and <strong>busFree</strong>.<div class='note'><span class='notelabel'>NOTE:</span> <strong>stop</strong> and <strong>free</strong> will normally be called by the respective player methods, see <a href="./../Classes/PHSplayer.html">PHSplayer</a>.</div></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>(
s = Server.local;
Server.default = s;
s.boot;
)

// define a tendency for chord density

h = HS(s, { LFDNoise3.kr(0.5, 4, 5) });


// language operations used for building chords from synth values

(
p = PHS(h, [], 0.18, 
    [\midinote, Pkey(\val).collect {|x| 
        Array.series(x.round, 60 - (x * 1.2), 5) + Array.rand(x.round, -0.8, 0.8)  },
    \legato, 0.6, 
    \amp, 0.05]
).play;
)

// cleanup (freeing buses and nodes) by pressing Cmd-. or explicitely

p.free;


/////////////////////////////////////////////////////////////////////

// example with other than default instrument
// define synth to move between two sounds

(
SynthDef(\simpleMorph, {|out = 0, freq = 440, amp = 0.1, morphQ = 0|
    var src, normalMorphQ = morphQ.mod(1);
    src = Saw.ar(freq, mul: amp) * (1 - normalMorphQ) + (SinOsc.ar(freq, mul: amp) * normalMorphQ);
    Out.ar(out, src ! 2 * EnvGen.ar(Env.perc, doneAction: 2));
}).add;
)

// HelpSynth definition, values between 0 and 1
// Clock and quant for syncing

(
h = HS(s, { LFTri.kr(0.5, mul: 0.5, add: 0.5) });

c = TempoClock.new;
q = 0.2;
)

// help synth values for pitch and synth arg \morphQ 
 
(
p = PHS(h, [], 0.2, 
    [\instrument, \simpleMorph, 
    \midinote, Pkey(\val) * 30 + 60 + [0, 9] + Pxrand([0, 1.5, -1.5], inf), 
    \amp, 0.07,
    \morphQ, Pkey(\val) ]
).play(c,q);
)


// sync it with a normal pbind (EventStreamPlayer) with default instrument
// no use of HS / PHS

(
r = Pbind(
    \dur, 0.2, 
    \midinote, Pxrand([58, 60, 61, 63, 64, 67, 69, 70], inf) + 
        [-7, 0, 5, 9] + Pseq([0.2, -0.2],inf), 
    \amp, 0.03
).play(c, quant: q);
)

// pause and stop are synonym

p.pause;


// resume p in sync

p.play(c, q);


// stop and free

(
r.stop;
p.free;
)</textarea>

<p> <div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/HelpSource/Classes/HS.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/miSCellaneous_lib/HelpSource/Classes/HS.schelp</a><br>link::Classes/HS::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>