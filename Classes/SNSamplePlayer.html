<!doctype html><html lang='en'><head><title>SNSamplePlayer | SuperCollider 3.11.0 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'SNSamplePlayer';
var scdoc_sc_version = '3.11.0';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>SNSamplePlayer:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*all'>all</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-setupPlayer'>setupPlayer</a> </li>
<li class='toc3'><a href='#-initDef'>initDef</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-pause'>pause</a> </li>
<li class='toc3'><a href='#-resume'>resume</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
<li class='toc3'><a href='#-freeHangingNodes'>freeHangingNodes</a> </li>
<li class='toc3'><a href='#-setLoopMaxLength'>setLoopMaxLength</a> </li>
<li class='toc2'><a href='#Instance%20variables'>Instance variables</a></li>
<ul class='toc'><li class='toc3'><a href='#-debug'>debug</a> </li>
<li class='toc3'><a href='#-numOutChannels'>numOutChannels</a> </li>
<li class='toc3'><a href='#-loopLengths'>loopLengths</a> </li>
<li class='toc3'><a href='#-name'>name</a> </li>
<li class='toc3'><a href='#-bufLength'>bufLength</a> </li>
<li class='toc3'><a href='#-server'>server</a> </li>
<li class='toc3'><a href='#-looperPlayer'>looperPlayer</a> </li>
<li class='toc3'><a href='#-out'>out</a> </li>
<li class='toc3'><a href='#-group'>group</a> </li>
<li class='toc3'><a href='#-buffers'>buffers</a> </li>
<li class='toc3'><a href='#-mode'>mode</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#SNSampler'>SNSampler</a></span>
</div><h1>SNSamplePlayer<span id='superclasses'> : <a href="../Classes/AbstractSNSampler.html">AbstractSNSampler</a> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>A sample looper, allowing to loop samples in various ways.</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/SNSampler/SNSamplePlayer.sc' title='/home/stefan/.local/share/SuperCollider/Extensions/SNSampler/SNSamplePlayer.sc'>SNSamplePlayer.sc</a></div><div id='related'>See also: <a href="./../Classes/SNSampler.html">SNSampler</a>, <a href="./../Classes/AbstractSNSampler.html">AbstractSNSampler</a>, <a href="./../Classes/CVCenter.html">CVCenter</a>, <a href="./../Overviews/JITLib.html">JITLib</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>Within its built-in looping modes a SNSamplePlayer lets you loop an array of consecutive buffers in such a way that all buffers are spread in the stereo or multichannel panorama. The built-in looping modes basically provide different ways of sequencing - either as audio grains within a <a href="./../Classes/Pbind.html">Pbind</a> or non-granular within a <a href="./../Classes/Pmono.html">Pmono</a> or <a href="./../Classes/Ndef.html">Ndef</a>. All these modes will create different output characteristics. However, to make playing most convenient and flexible, they all make use of the wonderful <a href="./../Overviews/JITLib.html">JITLib</a> library, that allows an extremely flexible way of combining different concepts of sequencing and signal processing.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>SNSamplePlayer.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>name: 'Looper'</span>, <span class='argstr'>bufLength: 60</span>, <span class='argstr'>mode: 'grain'</span>, <span class='argstr'>numOutChannels: 2</span>, <span class='argstr'>server</span>)</h3>
<div class='method'>
<p>Create a new SNSampleLooper instance<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>Optional - a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a>, denoting the name of the new instance. If not given this willdefault to <code>\Looper</code>.<tr><td class='argumentname'>bufLength<td class='argumentdesc'>
<p>Optional - the maximum length of a single loop in seconds. If not given this will default to <code>60</code>. Often you will want to set this to the length of the buffers stored with an <a href="./../Classes/SNSampler.html">SNSampler</a>.<tr><td class='argumentname'>mode<td class='argumentdesc'>
<p>Optional - a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a>, denoting the mode in which to play the looper. As of currently this may be one of the following:<dl>
<dt><code>\grain</code> (default)<dd>loops will be created as <a href="./../Classes/Synth.html">Synth</a> grains in parallel playing <a href="./../Classes/Pbind.html">Pbind</a>s within a <a href="./../Classes/Ppar.html">Ppar</a><dt><code>\mono</code><dd>loops will be created in a continously playing <a href="./../Classes/Pmono.html">Pmono</a> within a <a href="./../Classes/Ppar.html">Ppar</a><dt><code>\ndef</code><dd>loops will be playing in an <a href="./../Classes/Ndef.html">Ndef</a>, using a <a href="./../Classes/BufRd.html">BufRd</a>. Looping will be handled by a <a href="./../Classes/Phasor.html">Phasor</a></dl>
<tr><td class='argumentname'>numOutChannels<td class='argumentdesc'>
<p>Optional - a <a href="./../Classes/Integer.html">Integer</a>, denoting the number of output channels. The looped buffers will automatically be spread accross all channels. Spreading the output is handled either by a <a href="./../Classes/Splay.html">Splay</a> (if <code>numOutChannels</code> is set to <code>2</code>) or a <a href="./../Classes/SplayAz.html">SplayAz</a> ugen (for <code>numOutChannels</code> set to a value greater than <code>2</code>). If not set this defaults to <code>2</code>.<tr><td class='argumentname'>server<td class='argumentdesc'>
<p>Optional - the <a href="./../Classes/Server.html">Server</a> on which to play the looper. If not set this will default to <code>Server.default</code>.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>an SNSamplePlayer instance</div></div><h3 class='method-code'><span class='method-prefix'>SNSamplePlayer.</span><a class='method-name' name='*all' href='./../Overviews/Methods.html#all'>all</a></h3>
<div class='method'>
<p><h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Event.html">Event</a>, holding all current SNSamplePlayer instances</div></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setupPlayer' href='./../Overviews/Methods.html#setupPlayer'>setupPlayer</a>(<span class='argstr'>bufferArray</span>, <span class='argstr'>volumeControlNode: 1000</span>)</h3>
<div class='method'>
<p>Set up the SNSamplePlayer before it can actually be played: Add an <a href="./../Classes/Array.html">Array</a> of buffers and define a node for an over-all volume control - setting the volume will be handled in a filter synth (more precisely: a <a href="./../Reference/NodeProxy_roles.html">NodeProxy role</a> added to the end of an <a href="./../Classes/Ndef.html">Ndef</a>). If not given explicitely the volume control will be created with an ID <code>1000</code>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bufferArray<td class='argumentdesc'>
<p>An <a href="./../Classes/Array.html">Array</a> of buffers that will be looped in the instance. Often this will be identical with an array of buffers created when setting up an <a href="./../Classes/SNSampler.html">SNSampler</a><tr><td class='argumentname'>volumeControlNode<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a>, denoting the position of the volume control in the chain of synths and filters (defined in an <a href="./../Classes/Ndef.html">Ndef</a> or <a href="./../Classes/NodeProxy.html">NodeProxy</a>).<div class='note'><span class='notelabel'>NOTE:</span> This ID is not a regular node ID in the server tree!</div></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-initDef' href='./../Overviews/Methods.html#initDef'>initDef</a>(<span class='argstr'>argMode</span>, <span class='argstr'>bufferArray</span>)</h3>
<div class='method'>
<p>Initialize or switch the mode in which the player will play. Available modes will be the ones described in <a href="#*new">*new</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>argMode<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> - either <code>\grain</code>, <code>\mono</code> or <code>\ndef</code><tr><td class='argumentname'>bufferArray<td class='argumentdesc'>
<p>Optional - an array of buffers, initialized with <a href="./../Classes/Buffer.html#*allocConsecutive">Buffer: *allocConsecutive</a>.<div class='note'><span class='notelabel'>NOTE:</span> The number of buffers must be the same as the number of buffers for which the player was initialized!</div></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-play' href='./../Overviews/Methods.html#play'>play</a></h3>
<div class='method'>
<p>Start playing the SNSamplePlayer. Internally this will start playing the Ndef that keeps the loopers for all buffers. You may inspect the Ndef using an <a href="./../Classes/NdefMixer.html">NdefMixer</a>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pause' href='./../Overviews/Methods.html#pause'>pause</a></h3>
<div class='method'>
<p>Pause the player. Internally this will pause the Ndef that keeps the loopers for all buffers.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-resume' href='./../Overviews/Methods.html#resume'>resume</a></h3>
<div class='method'>
<p>Resume a paused player. Internally this will resume the Ndef that keeps the loopers for all buffers.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clear' href='./../Overviews/Methods.html#clear'>clear</a>(<span class='argstr'>fadeTime: 0.2</span>)</h3>
<div class='method'>
<p>Clear the player. This will clear the loopers <em>and</em> all effects that have been chained to the output of the player. Once an SNSamplePlayer has been cleared it can not be restarted.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>fadeTime<td class='argumentdesc'>
<p>A <a href="./../Classes/Float.html">Float</a> or <a href="./../Classes/Integer.html">Integer</a>, determining the fade-out time of the player in seconds.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-freeHangingNodes' href='./../Overviews/Methods.html#freeHangingNodes'>freeHangingNodes</a></h3>
<div class='method'>
<p>When using mode <code>\grain</code> (the default) it may happen under certain circumstances that grains are not freed properly (they remain on the server, consuming memory). In these cases calling this method will clear all nodes and free memory. Though this may have an audible effect new grains should build up automatically and it will often be preferable to have a short moment of silence than running out of memory.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setLoopMaxLength' href='./../Overviews/Methods.html#setLoopMaxLength'>setLoopMaxLength</a>(<span class='argstr'>index</span>, <span class='argstr'>length</span>)</h3>
<div class='method'>
<p>SNSamplePlayer has originally been designed to be used in combination with <a href="./../Classes/SNSampler.html">SNSampler</a>, allowing you to record sound sequences up to a specified length on the fly. However, sound sequences won't necessarily fill up a whole buffer which means, when looping over the buffer, silence at the end of the buffer will be part of the loop. This method tells the looper how much of the buffer should be used for looping.
<p>The method especially makes sense in combination with the <a href="./../Classes/SNSampler.html#-doneAction">doneAction</a> of an <a href="./../Classes/SNSampler.html">SNSampler</a>. The <code>doneAction</code> can be passed a numerical <code>index</code> (the index of the buffer in the array of consecutive buffers for which the maximum loop length shall be set) and the <code>length</code> of the loop in seconds.<textarea class='editor'>// ~sampler is an existing instance of an SNSampler
// ~looper is an existing instrance of an SNSamplePlayer
~sampler.doneAction_({ |index, length|
    ~looper.setLoopMaxLength(index, length);
});</textarea>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p>An <a href="./../Classes/Integer.html">Integer</a> or a whole-numbered <a href="./../Classes/Float.html">Float</a>, denoting the index of the buffer in the array of consecutive buffers.<tr><td class='argumentname'>length<td class='argumentdesc'>
<p>A <a href="./../Classes/Float.html">Float</a>, denoting the length of the loop in seconds.</table></div><h3><a class='anchor' name='Instance%20variables'>Instance variables</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a> = <span class='argstr'>bool</span></h3>
<div class='method'>
<p>If set to <code>true</code> the player will post information on the just played loops to the console.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bool<td class='argumentdesc'>
<p>A <a href="./../Classes/Boolean.html">Boolean</a> (either <code>true</code> or <code>false</code>)</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-numOutChannels' href='./../Overviews/Methods.html#numOutChannels'>numOutChannels</a></h3>
<div class='method'>
<p>The number of output channels. This is not the same as the number of buffers. Internally each buffers plays to its own channel(s). All buffer channels will then be spread over the panorama either using <a href="./../Classes/Splay.html">Splay</a> (stereo) or <a href="./../Classes/SplayAz.html">SplayAz</a> (<code>numOutChannels</code> &gt; 2).<h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Integer.html">Integer</a>s</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-loopLengths' href='./../Overviews/Methods.html#loopLengths'>loopLengths</a></h3>
<div class='method'>
<p>As eplained in <a href="#-setLoopMaxLength">-setLoopMaxLength</a> a buffer may be larger than the actual audio that it contains, leaving silence at the end of the buffer. This variable contains the lengths of actually recorded audio in seconds for all buffers as set by <a href="#-setLoopMaxLength">-setLoopMaxLength</a>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Float.html">Float</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-name' href='./../Overviews/Methods.html#name'>name</a></h3>
<div class='method'>
<p>The name of the instance as assigned in <a href="#*new">*new</a> (internally converted to a <a href="./../Classes/Symbol.html">Symbol</a> if given as <a href="./../Classes/String.html">String</a>).<h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bufLength' href='./../Overviews/Methods.html#bufLength'>bufLength</a></h3>
<div class='method'>
<p>The full length of the buffers as given in <a href="#*new">*new</a>. This will not be the same as actual length of audio written to them (see <a href="#-loopLengths">-loopLengths</a>).<h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/Integer.html">Integer</a> or <a href="./../Classes/Float.html">Float</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-server' href='./../Overviews/Methods.html#server'>server</a></h3>
<div class='method'>
<p>The <a href="./../Classes/Server.html">Server</a> on which to play the audio - either explicitely given in <a href="#*new">*new</a> or simply <code>Server.default</code>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-looperPlayer' href='./../Overviews/Methods.html#looperPlayer'>looperPlayer</a></h3>
<div class='method'>
<p>The <a href="./../Classes/Ndef.html">Ndef</a> that holds the looper as its source. The looper can basically be a <a href="./../Classes/Function.html">Function</a> or a <a href="./../Classes/Pattern.html">Pattern</a>. If desired the output can be further processed by hooking up <a href="./../Reference/NodeProxy_roles.html">NodeProxy roles</a>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Ndef.html">Ndef</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-out' href='./../Overviews/Methods.html#out'>out</a></h3>
<div class='method'>
<p>The <a href="./../Classes/Ndef.html">Ndef</a> that's actually playing to the out channels. The number of channels will be determined by the <code>numOutChannels</code> argument in <a href="#*new">*new</a>. If desired the output can be further processed by hooking up <a href="./../Reference/NodeProxy_roles.html">NodeProxy roles</a>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Ndef.html">Ndef</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-group' href='./../Overviews/Methods.html#group'>group</a></h3>
<div class='method'>
<p>The <a href="./../Classes/Group.html">Group</a>, respectively <a href="./../Classes/ParGroup.html">ParGroup</a> in which the Ndef returned by <a href="#*out">*out</a> will play. If <a href="./../Classes/Server.html#*scsynth">scsynth</a> is set engine this will resolve to <a href="./../Classes/Group.html">Group</a>. If <a href="./../Classes/Server.html#*supernova">supernova</a> is used (multicore virtualistaion) a <a href="./../Classes/ParGroup.html">ParGroup</a> will be returned. Setting the Ndef to explicit a group allows you to free all contained nodes contained in the group without stopping the player. See <a href="#-freeHangingNodes">-freeHangingNodes</a> for further explanation.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/Group.html">Group</a> or a <a href="./../Classes/ParGroup.html">ParGroup</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-buffers' href='./../Overviews/Methods.html#buffers'>buffers</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-buffers' href='./../Overviews/Methods.html#buffers'>buffers</a> = value</h3>
<div class='method'>
<p>Get or set the array of consecutive buffers to be looped over.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Buffer.html">Buffer</a>s</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-mode' href='./../Overviews/Methods.html#mode'>mode</a></h3>
<div class='method'>
<p>The mode to which the SNSamplePlayer has been initialized: <code>\grain</code>, <code>\mono</code> or <code>\ndef</code>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a></div></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<textarea class='editor'>// initialize a sampler
// name = 'Sampler', 5 buffers, buffer length = 60 seconds
~sampler = SNSampler.new;

// setting up the sampler will automatically allocate the array
// of consecutive buffers andgenerate controls within CVCenter
~sampler.setupSampler;

// initialize a player
// name = 'Looper', buffer length = 60 seconds, mode = 'grain'
~player = SNSamplePlayer.new;

// set up the player, pass in the buffers to be used
~player.setupPlayer(~sampler.buffers);

// set a done action, to be executed sampling a sequence is done
(
~sampler.doneAction_({ |index, length|
    ~player.setLoopMaxLength(index, length)
})
)</textarea>

<p><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/SNSampler/HelpSource/Classes/SNSamplePlayer.schelp'>/home/stefan/.local/share/SuperCollider/Extensions/SNSampler/HelpSource/Classes/SNSamplePlayer.schelp</a><br>link::Classes/SNSamplePlayer::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>