<!doctype html><html lang='en'><head><title>Sample | SuperCollider 3.11.1 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'Sample';
var scdoc_sc_version = '3.11.1';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>Sample:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*newClear'>newClear</a> </li>
<li class='toc3'><a href='#*roster'>roster</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-soundFile'>soundFile</a> </li>
<li class='toc3'><a href='#-beats'>beats</a> </li>
<li class='toc3'><a href='#-tempo'>tempo</a> </li>
<li class='toc3'><a href='#-beatsize'>beatsize</a> </li>
<li class='toc3'><a href='#-end'>end</a> </li>
<li class='toc3'><a href='#-storeArgs'>storeArgs</a> </li>
<li class='toc3'><a href='#-printOn'>printOn</a> </li>
<li class='toc3'><a href='#-load'>load</a> </li>
<li class='toc3'><a href='#-prLoad'>prLoad</a> </li>
<li class='toc3'><a href='#-reloadBuffer'>reloadBuffer</a> </li>
<li class='toc3'><a href='#-bpm'>bpm</a> </li>
<li class='toc3'><a href='#-calculate'>calculate</a> </li>
<li class='toc3'><a href='#-guessBeats'>guessBeats</a> </li>
<li class='toc3'><a href='#-initForSynthDef'>initForSynthDef</a> </li>
<li class='toc3'><a href='#-pchRatioKr'>pchRatioKr</a> </li>
<li class='toc3'><a href='#-getTempoBus'>getTempoBus</a> </li>
<li class='toc3'><a href='#-beatsizeIr'>beatsizeIr</a> </li>
<li class='toc3'><a href='#-sampleTempoIr'>sampleTempoIr</a> </li>
<li class='toc3'><a href='#-prepareToBundle'>prepareToBundle</a> </li>
<li class='toc3'><a href='#-guiClass'>guiClass</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-asSignal'>asSignal</a> </li>
<li class='toc3'><a href='#-addToDefName'>addToDefName</a> </li>
<li class='toc3'><a href='#-spec'>spec</a> </li>
<li class='toc3'><a href='#-rand'>rand</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#methods%20usable%20inside%20an%20Instr%20function.'>methods usable inside an Instr function.</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#Beat%20Synching'>Beat Synching</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>crucial'>crucial</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>crucial>Buffers'>Buffers</a> | <a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>crucial'>crucial</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>crucial>SoundFiles'>SoundFiles</a></span>
</div><h1>Sample<span id='superclasses'> : <a href="../Classes/AbstractSample.html">AbstractSample</a> : <a href="../Classes/BufferProxy.html">BufferProxy</a> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>a soundfile small enough to be loaded in memory</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/Sample/Sample.sc' title='/home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/Sample/Sample.sc'>Sample.sc</a></div><div id='related'>See also: <a href="./../Classes/SoundFile.html">SoundFile</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>This class can be used as an argument to a Patch. It will take care of all the troubles of loading, allocating, measuring, and even beat synchronizing of a small sound file. It will not clear the copyright.
<p>It will not play by itself, its just like a Buffer.
<p>But within the Instr function you can use many useful methods on your Sample object such as .bufDurKr<textarea class='editor'>(

p = Patch({ arg sample;

    PlayBuf.ar(sample.numChannels,
            sample.bufnumIr,
            sample.bufRateScaleKr,
            1.0,
            0.0,
            1.0)

},[
    Sample("a11wlk01.wav")
]);

p.gui;

)</textarea>

<p>Notice that the path to the sample is relative to the sounds/ directory, not to SuperCollider's own directory. You can set the Sample.soundsDir to the directory of your choice (eg, ~/Library/Sounds/ or ~/Sounds/ ). Copy a11wlk01.wav to your own sounds directory so you can still play examples.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>Sample.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>soundFilePath</span>, <span class='argstr'>tempo</span>, <span class='argstr'>startFrame: 0</span>, <span class='argstr'>endFrame: -1</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>soundFilePath<td class='argumentdesc'><tr><td class='argumentname'>tempo<td class='argumentdesc'>
<p>If the sample is a rhythmic loop then this specifies what the tempo of that loop is. This can then be used for beat sync or beat splicing calculations. If the sample is an even 4 or 8 beats then it will do a fairly good job of guessing the tempo.<tr><td class='argumentname'>startFrame<td class='argumentdesc'><tr><td class='argumentname'>endFrame<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>Sample.</span><a class='method-name' name='*newClear' href='./../Overviews/Methods.html#newClear'>newClear</a>(<span class='argstr'>numFrames: 44100</span>, <span class='argstr'>numChannels: 1</span>, <span class='argstr'>sampleRate: 44100.0</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numFrames<td class='argumentdesc'><tr><td class='argumentname'>numChannels<td class='argumentdesc'><tr><td class='argumentname'>sampleRate<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>Sample.</span><a class='method-name' name='*roster' href='./../Overviews/Methods.html#roster'>roster</a>: METHOD NOT FOUND!</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>perItems<td class='argumentdesc'><tr><td class='argumentname'>globals<td class='argumentdesc'></table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-soundFile' href='./../Overviews/Methods.html#soundFile'>soundFile</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-soundFile' href='./../Overviews/Methods.html#soundFile'>soundFile</a> = value</h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-beats' href='./../Overviews/Methods.html#beats'>beats</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-beats' href='./../Overviews/Methods.html#beats'>beats</a> = <span class='argstr'>bt</span></h3>
<div class='method'>
<p>number of beats in the sample if its a rhythmic loop. this co-depends on the tempo setting.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bt<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-tempo' href='./../Overviews/Methods.html#tempo'>tempo</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-tempo' href='./../Overviews/Methods.html#tempo'>tempo</a> = <span class='argstr'>tm</span></h3>
<div class='method'>
<p>tempo of the musical content of the sample if its a rhythmic loop. this co-depends on the beats setting.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>tm<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-beatsize' href='./../Overviews/Methods.html#beatsize'>beatsize</a></h3>
<div class='method'>
<p>number of samples per beat based on beat or tempo setting.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-end' href='./../Overviews/Methods.html#end'>end</a></h3>
<div class='method'>
<p>signal.size - 1  the last indexable position in the signal</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-storeArgs' href='./../Overviews/Methods.html#storeArgs'>storeArgs</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-printOn' href='./../Overviews/Methods.html#printOn'>printOn</a>(<span class='argstr'>stream</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>stream<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-load' href='./../Overviews/Methods.html#load'>load</a>(<span class='argstr'>thing</span>, <span class='argstr'>tempo</span>, <span class='argstr'>argStartFrame: 0</span>, <span class='argstr'>argEndFrame: -1</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>thing<td class='argumentdesc'><tr><td class='argumentname'>tempo<td class='argumentdesc'><tr><td class='argumentname'>argStartFrame<td class='argumentdesc'><tr><td class='argumentname'>argEndFrame<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prLoad' href='./../Overviews/Methods.html#prLoad'>prLoad</a>(<span class='argstr'>thing</span>, <span class='argstr'>t</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>thing<td class='argumentdesc'><tr><td class='argumentname'>t<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-reloadBuffer' href='./../Overviews/Methods.html#reloadBuffer'>reloadBuffer</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bpm' href='./../Overviews/Methods.html#bpm'>bpm</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bpm' href='./../Overviews/Methods.html#bpm'>bpm</a> = <span class='argstr'>bpm</span></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bpm<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-calculate' href='./../Overviews/Methods.html#calculate'>calculate</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-guessBeats' href='./../Overviews/Methods.html#guessBeats'>guessBeats</a>(<span class='argstr'>min: 80</span>, <span class='argstr'>max: 140</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>min<td class='argumentdesc'><tr><td class='argumentname'>max<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-initForSynthDef' href='./../Overviews/Methods.html#initForSynthDef'>initForSynthDef</a>(<span class='argstr'>synthDef</span>, <span class='argstr'>argi</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDef<td class='argumentdesc'><tr><td class='argumentname'>argi<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pchRatioKr' href='./../Overviews/Methods.html#pchRatioKr'>pchRatioKr</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-getTempoBus' href='./../Overviews/Methods.html#getTempoBus'>getTempoBus</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-beatsizeIr' href='./../Overviews/Methods.html#beatsizeIr'>beatsizeIr</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-sampleTempoIr' href='./../Overviews/Methods.html#sampleTempoIr'>sampleTempoIr</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-prepareToBundle' href='./../Overviews/Methods.html#prepareToBundle'>prepareToBundle</a>(<span class='argstr'>group</span>, <span class='argstr'>bundle</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>group<td class='argumentdesc'><tr><td class='argumentname'>bundle<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-guiClass' href='./../Overviews/Methods.html#guiClass'>guiClass</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-play' href='./../Overviews/Methods.html#play'>play</a></h3>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-asSignal' href='./../Overviews/Methods.html#asSignal'>asSignal</a>(<span class='argstr'>channel</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>channel<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addToDefName' href='./../Overviews/Methods.html#addToDefName'>addToDefName</a>(<span class='argstr'>stream</span>)</h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/Instr/instrSupport.sc'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/Instr/instrSupport.sc</a></div>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>stream<td class='argumentdesc'></table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-spec' href='./../Overviews/Methods.html#spec'>spec</a></h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/Instr/instrSupport.sc'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/Instr/instrSupport.sc</a></div>
<div class='method'></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-rand' href='./../Overviews/Methods.html#rand'>rand</a>: METHOD NOT FOUND!</h3>
<div class='method'></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>

<p>You can swap the samples while playing. Click on the name of the sample (in black font) and browse for a stereo sample. Then start play, and you can browse for more and change it while playing.<textarea class='editor'>(
Instr("help-Sample",{ arg sample,pchRatio=0.50;
    PlayBuf.ar(sample.numChannels,
                sample.bufnumIr, // finds the buffer number when the synth starts
                sample.bufRateScaleKr * pchRatio,
                1.0,0.0,1.0);
});

p = Patch("help-Sample",[
    Sample()
]);

p.gui

)</textarea>

<p>The def name was : help-SampleO8NEut
<p>You can build up a library of Instr functions and exploit them with Patch.<textarea class='editor'>(
Instr([\help,\Sample],{ arg sample,pchRatio=1.0,start=0.0;
    PlayBuf.ar(sample.numChannels,
                sample.bufnumIr, // finds the buffer number when the synth starts
                sample.sampleRateKr / 44100 * pchRatio,
                1.0,
                start * sample.bufFramesKr,
                1.0); // loop
});
)</textarea>

<p>Patch object:<textarea class='editor'>(
    p = Patch([\help,\Sample],
    [
        Sample("a11wlk01.wav")
    ]);

    // edit controls on the gui
    p.gui
)</textarea>

<p>You can save it to disk and reload it the settings will be restored.<textarea class='editor'>(
    Patch.new(
        [ 'help', 'Sample' ], [ Sample.new("a11wlk01.wav", 1.6347258775994),
            0.46511627906977, 0.17441860465116 ]
    ).play
)</textarea>
<h2><a class='anchor' name='methods%20usable%20inside%20an%20Instr%20function.'>methods usable inside an Instr function.</a></h2>

<p>These methods will work inside an Instr but not when used in a normal SynthDef.
<p> bufnumIr  at the start of the synth, this will get the dynamic bufferID of your Sample object.  this Instr will reuse SynthDefs where possible. Multiple synths may use the same  basic sample synthDef for many voices with no need to compile new SynthDefs  and send to the server.
<p> sampleRate  a float of the current sample's sample rate, embedded into the SynthDef as a constant.  the def will be resuable for all samples of that sample rate, and will be slightly more efficient.  sampleRateKr  a kr rate signal that will change if you load a different sample into the buffer,even  while playing.  sampleRateIr  a ir rate signal that will NOT change if you load a different sample into the buffer.  use when you know the sample will not change, or if you know that all samples are the  same sampleRate anyway.
<p> bufRateScaleKr  the nominal pitchRatio value needed to play at the original pitch  bufRateScaleIr  the nominal pitchRatio value needed to play at the original pitch.  will NOT change if you load a different sample into the buffer.
<p> bufFramesKr  a kr rate signal with the number of frames of the current sample  bufFramesIr  an ir rate signal with the number of frames of the sample
<p> bufSamplesKr  a kr rate signal with the number of samples of the current sample  bufSamplesIr  an ir rate signal with the number of samples of the current sample
<p> duration  duration in seconds of current sample, embedded into SynthDef as a constant.  bufDurKr  duration in seconds  bufDurIr  duration in seconds
<p> numChannels  integer, number of channels of the current sample. this will be embedded  into the SynthDef as a constant. the SynthDef will still be reusable for  all samples of the same numChannels.  bufChannelsKr  number of channels of the current sample. you cannot use this to modulate  a PlayBuf.  bufChannelsIr  number of channels of the sample. you cannot use this to modulate  a PlayBuf.<h2><a class='anchor' name='Beat%20Synching'>Beat Synching</a></h2>
<textarea class='editor'>(
    Instr([\help,\Sample],{ arg sample;
        PlayBuf.ar(
            sample.numChannels,
            sample.bufnumIr,
            sample.pchRatioKr,
            1.0,
            0.0,
            1.0);
    });

    p = Patch([\help,\Sample],
    [
        Sample("a11wlk01-44_1.aiff")
    ]);

    // move the tempo slider
    p.gui
)</textarea>

<p>Note that the patch will not play starting on the even bar division unless it is started with p.play(atTime: 1)<div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/HelpSource/Classes/Sample.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/crucial-library/HelpSource/Classes/Sample.schelp</a><br>link::Classes/Sample::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>