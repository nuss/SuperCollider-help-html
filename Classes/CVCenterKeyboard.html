<!doctype html><html lang='en'><head><title>CVCenterKeyboard | SuperCollider 3.14.0-dev Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'CVCenterKeyboard';
var scdoc_sc_version = '3.14.0-dev';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../frontend.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>CVCenterKeyboard:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*newSynthDef'>newSynthDef</a> </li>
<li class='toc3'><a href='#*at'>at</a> </li>
<li class='toc3'><a href='#*all'>all</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-addSynthDef'>addSynthDef</a> </li>
<li class='toc3'><a href='#-removeSynthDef'>removeSynthDef</a> </li>
<li class='toc3'><a href='#-setUpControls'>setUpControls</a> </li>
<li class='toc3'><a href='#-setSynthDef'>setSynthDef</a> </li>
<li class='toc2'><a href='#Using%20multiple%20SynthDefs%20on%20one%20keyboard'>Using multiple SynthDefs on one keyboard</a></li>
<ul class='toc'><li class='toc3'><a href='#-keysBlockSize'>keysBlockSize</a> </li>
<li class='toc3'><a href='#-keysDistribution'>keysDistribution</a> </li>
</ul><li class='toc2'><a href='#Other%20utility%20methods'>Other utility methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-clear'>clear</a> </li>
<li class='toc3'><a href='#-free'>free</a> </li>
<li class='toc3'><a href='#-freeHangingNodes'>freeHangingNodes</a> </li>
<li class='toc3'><a href='#-addTouchOSC'>addTouchOSC</a> </li>
</ul><li class='toc2'><a href='#MIDI%20related%20Instance%20variables'>MIDI related Instance variables</a></li>
<ul class='toc'><li class='toc3'><a href='#-on'>on</a> </li>
<li class='toc3'><a href='#-off'>off</a> </li>
<li class='toc3'><a href='#-bend'>bend</a> </li>
</ul><li class='toc2'><a href='#MIDIFunc%20storage%20for%20added%20SynthDefs'>MIDIFunc storage for added SynthDefs</a></li>
<ul class='toc'><li class='toc3'><a href='#-onFuncs'>onFuncs</a> </li>
<li class='toc3'><a href='#-offFuncs'>offFuncs</a> </li>
<li class='toc3'><a href='#-bendFuncs'>bendFuncs</a> </li>
</ul><li class='toc2'><a href='#Instance%20variables'>Instance variables</a></li>
<ul class='toc'><li class='toc3'><a href='#-debug'>debug</a> </li>
<li class='toc3'><a href='#-currentSynthDef'>currentSynthDef</a> </li>
<li class='toc3'><a href='#-synthParams'>synthParams</a> </li>
<li class='toc3'><a href='#-synthDefNames'>synthDefNames</a> </li>
<li class='toc3'><a href='#-keyboardDefName'>keyboardDefName</a> </li>
<li class='toc3'><a href='#-group'>group</a> </li>
<li class='toc3'><a href='#-namesCVs'>namesCVs</a> </li>
<li class='toc3'><a href='#-bendSpec'>bendSpec</a> </li>
<li class='toc3'><a href='#-pairs'>pairs</a> </li>
<li class='toc3'><a href='#-valuePairs'>valuePairs</a> </li>
<li class='toc3'><a href='#-out'>out</a> </li>
<li class='toc3'><a href='#-server'>server</a> </li>
<li class='toc3'><a href='#-touchOSC'>touchOSC</a> </li>
</ul><li class='toc2'><a href='#Adding%20an%20effects%20chain'>Adding an effects chain</a></li>
<ul class='toc'><li class='toc3'><a href='#-addOutProxy'>addOutProxy</a> </li>
<li class='toc3'><a href='#-removeOutProxy'>removeOutProxy</a> </li>
<li class='toc3'><a href='#-outProxy'>outProxy</a> </li>
</ul><li class='toc2'><a href='#Recording%20sequences'>Recording sequences</a></li>
<ul class='toc'><li class='toc3'><a href='#-addRecorder'>addRecorder</a> </li>
<li class='toc3'><a href='#-record'>record</a> </li>
<li class='toc3'><a href='#-recorder'>recorder</a> </li>
</ul><li class='toc2'><a href='#Setting%20synth%20controls%20through%20busses'>Setting synth controls through busses</a></li>
<ul class='toc'><li class='toc3'><a href='#-mapBus'>mapBus</a> </li>
<li class='toc3'><a href='#-unmapBus'>unmapBus</a> </li>
<li class='toc3'><a href='#-mappedBusses'>mappedBusses</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Conductor'>Conductor</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Conductor>CVCenter'>CVCenter</a> | <a href='./../Browse.html#External Control'>External Control</a>&#8201;&gt;&#8201;<a href='./../Browse.html#External Control>MIDI'>MIDI</a></span>
</div><h1>CVCenterKeyboard<span id='superclasses'> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>A MIDI keyboard implementation for CVCenter</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/CVCenterKeyboard.sc' title='/home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/CVCenterKeyboard.sc'>CVCenterKeyboard.sc</a></div><div id='related'>See also: <a href="./../Classes/CVCenter.html">CVCenter</a>, <a href="./../Guides/UsingMIDI.html">Using MIDI</a>, <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>A CVCenterKeyboard consists of a collection of SynthDefs and provides a convenient way to play them on a MIDI keyboard.
<p>CVCenterKeyboard lets you create a <a href="./../Guides/UsingMIDI.html#Playing%20notes%20on%20your%20MIDI%20keyboard">MIDI keyboard</a> layout instantly from any <a href="./../Classes/SynthDef.html">SynthDef</a> that provides a <code>\gate</code> key, meaning that a <a href="./../Classes/Synth.html">Synth</a> that has been instanced upon receiving a note-on message gets finished when it gets a not-off message from an external MIDI keyboard. That allows for playing sustained notes that can be controlled through <code>asr</code> or <code>adsr</code> envelopes. A SynthDef with a "gated" envelope should answer <code>true</code> on executing the following line:<textarea class='editor'>SynthDescLib.at(yourSynthDefName).hasGate;</textarea>

<p>Beyond the just explained procedure you may add an arbitrary number of other SynthDefs. You may switch between these SynthDefs by calling <a href="#-setSynthDef">-setSynthDef</a>. Playing the keyboard should immediately play generated nodes using the selected SynthDef.
<p>Setting up the keyboard basically involves two steps: First instancing a keyboard (through <a href="#*new">*new</a> or <a href="#*newSynthDef">*newSynthDef</a>) and then setting up the keyboard for a given <a href="./../Classes/SynthDef.html">SynthDef</a> through <a href="#-setUpControls">-setUpControls</a> (will boot the <a href="./../Classes/Server.html">Server</a>).
<p>You can assign four arbitray controls from your SynthDef to the following standard parameters:<dl>
<dt>outControl<dd>the arg that sets the output bus of the Synth<dt>keyboardControl<dd>whatever you want to play with your keyboard (e.g. Frequency). You'll get midi notes back<dt>velocControl<dd>whatever you want to control through keyboard velocity<dt>bendControl<dd>whatever you want to control through the pitch bend wheel (the internal control will automatically assigned a spec <code>ControlSpec(0.midicps.neg, 0.midicps, \lin, 0, 0, " hz")</code>)</dl>

<p>All other controls you may have defined in your SynthDef will automatically be picked up by the setup process and get assigned appropriate widgets automatically.<div class='note'><span class='notelabel'>NOTE:</span> Differently to normal usage within CVCenter the <a href="./../Classes/Synth.html">Synth</a> instances created by playing the keyboard are addressed anonymously when setting their controls. I.e. the Synths are not assigned to a variable which serves as the reference to the Synth instance when setting a control. That means you can use controls of the same name within more than one SynthDef and they will be considered within every playing Synth instance. However, you should think about the <a href="./../Classes/ControlSpec.html">ControlSpec</a>s for your controls beforehand. E.g. if you have an argument <code>\freq</code> in two different SynthDefs and one should have a range of 20-20000 and the other one 20-4000 the range of the argument that has been created first will take precendence over the second (even if there is more than one widget setting a control <code>\freq</code> in CVCenter all these widgets will set any control named <code>\freq</code>).</div>
<p>Additionally an output proxy - a <a href="./../Classes/NodeProxy.html">NodeProxy</a> or an <a href="./../Classes/Ndef.html">Ndef</a> - can be added through <a href="#-addOutProxy">-addOutProxy</a> which allows you to build an effects chain and to do other kinds of NodeProxy trickery.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>keyboardDefName: 'keyboard'</span>, <span class='argstr'>srcID</span>, <span class='argstr'>chan</span>, <span class='argstr'>addRecorder: true</span>, <span class='argstr'>touchOSCAddr</span>)</h3>
<div class='method'>
<p>Instanciate a new keyboard under <code>keyboardName</code>. The keyboard will be accessible under <code>CVCenterKeyboard.all[keyboardName]</code><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>keyboardDefName<td class='argumentdesc'>
<p>a <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a>, denoting the name of the new keyboard<tr><td class='argumentname'>srcID<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> corresponding to the unique ID of the MIDI device. If omitted the keyboard will be usable on any currently connected MIDI keyboard. To find out the unique numeric ID of your MIDI device you could use thefollowing code:<textarea class='editor'>MIDIClient.init;
MIDIClient.sources.do { |source| [source, source.uid].postln };</textarea>

<p>(See also: <a href="./../Guides/UsingMIDI.html#MIDIFunc%20and%20MIDIdef:%20Filtering%20based%20on%20device%20or%20message%20data">Using MIDI: MIDIFunc and MIDIdef: Filtering based on device or message data</a>)<tr><td class='argumentname'>chan<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> denoting the MIDI channel the keyboard should use. If omitted the keyboard can be played on any MIDI channel (See also: <a href="./../Guides/UsingMIDI.html#MIDIFunc%20and%20MIDIdef:%20Filtering%20based%20on%20device%20or%20message%20data">Using MIDI: MIDIFunc and MIDIdef: Filtering based on device or message data</a>)<tr><td class='argumentname'>addRecorder<td class='argumentdesc'>
<p>Optional - this argument will be set to <code>true</code> by default and adds a sampler that records all keystrokes on the keyboard upon calling <a href="#-record">-record</a>. Calling <a href="#-record">-record</a> again will stop recording and the just recorded sequence will immediately start playing. See <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> for more information on the recording mechanism and the structure of the recorded sequences.<tr><td class='argumentname'>touchOSCAddr<td class='argumentdesc'>
<p>Optional - a <a href="./../Classes/NetAddr.html">NetAddr</a> instance, refering to an installation of a TouchOSC app on a mobile phone or tablet computer. The device must be in the same network as the computer. The IP address must be the device' IP address, the port is the "incoming" port as set in TouchOSC's OSC setup. Included with the distribution of this class (library) you should find a TouchOSC layout that can be edited in the TouchOSCEditor - download at <a href="https://hexler.net/touchosc-mk1#resources">https://hexler.net/touchosc-mk1#resources</a> . The layout is built for a resolution of 800 x 1280 pixels, so you might have to adapt it to the resolution of your device.<div class='note'><span class='notelabel'>NOTE:</span> You might want to use a different OSC app for control, using different OSC command names. Though the class is named <a href="./../Classes/CVCenterKeyboardTouchOSC.html">CVCenterKeyboardTouchOSC</a> it is not necessarily bound to the TouchOSC app. You should be able to set your own command names, either in the class or one of its instances. See <a href="./../Classes/CVCenterKeyboardTouchOSC.html#Predefined%20OSC%20commands">CVCenterKeyboardTouchOSC: Predefined OSC commands</a> or <a href="./../Classes/CVCenterKeyboardTouchOSC.html#Predefined%20OSC%20commands%20in%20instances">CVCenterKeyboardTouchOSC: Predefined OSC commands in instances</a></div></table></div><h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*newSynthDef' href='./../Overviews/Methods.html#newSynthDef'>newSynthDef</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>keyboardDefName: 'keyboard'</span>, <span class='argstr'>srcID</span>, <span class='argstr'>chan</span>, <span class='argstr'>addRecorder: true</span>, <span class='argstr'>touchOSCAddr</span>)</h3>
<div class='method'>
<p>Instantiate a new CVCenterKeyboard holding the SynthDef denoted by <code>synthDefName</code>. The SynthDef must have beem compiled in advance.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> or a <a href="./../Classes/String.html">String</a> denoting the <a href="./../Classes/SynthDef.html">SynthDef</a> that should be added to the keyboard. Note that the SynthDef <strong>must</strong> have a gated envelope (i.e. executing <code>SynthDescLib.at(synthDefName).hasGate</code> must return <code>true</code>. <code>synthDefName</code> must be given as <code>Symbol</code> to return the expected result. See <a href="./../Classes/EnvGen.html">EnvGen</a> for an explanation of how to create an envelope with a gate).<tr><td class='argumentname'>keyboardDefName<td class='argumentdesc'>
<p>a <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a>, denoting the name of the new keyboard<tr><td class='argumentname'>srcID<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> corresponding to the unique ID of the MIDI device. If omitted the keyboard will be usable on any currently connected MIDI keyboard. See <a href="#*new">*new</a> for how to determine the unique ID of your MIDI device. (See also: <a href="./../Guides/UsingMIDI.html#MIDIFunc%20and%20MIDIdef:%20Filtering%20based%20on%20device%20or%20message%20data">Using MIDI: MIDIFunc and MIDIdef: Filtering based on device or message data</a>)<tr><td class='argumentname'>chan<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> denoting the MIDI channel the keyboard should use. If omitted the keyboard can be played on any MIDI channel (See also: <a href="./../Guides/UsingMIDI.html#MIDIFunc%20and%20MIDIdef:%20Filtering%20based%20on%20device%20or%20message%20data">Using MIDI: MIDIFunc and MIDIdef: Filtering based on device or message data</a>)<tr><td class='argumentname'>addRecorder<td class='argumentdesc'>
<p>Optional - this argument will be set to <code>true</code> by default and adds a sampler that records all keystrokes on the keyboard upon calling <a href="#-record">-record</a>. Calling <a href="#-record">-record</a> again will stop recording and the just recorded sequence will immediately start playing. See <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> for more information on the recording mechanism and the structure of the recorded sequences.<tr><td class='argumentname'>touchOSCAddr<td class='argumentdesc'>
<p>Optional - a NetAddr instance, refering to an installation of a TouchOSC app on a mobile phone or tablet computer. For detailed description see <a href="#*new">*new</a> argument <code>touchOSC</code>.</table></div><h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*at' href='./../Overviews/Methods.html#at'>at</a>(<span class='argstr'>keyboardDefName</span>)</h3>
<div class='method'>
<p>A simple convenience method, same as <code>CVCenterKeyboard.all[keyboardDefName]</code> except for the fact that <code>keyboardDefName</code> can be given as <a href="./../Classes/String.html">String</a> as well (will be converted to a <a href="./../Classes/Symbol.html">Symbol</a> internally).<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>keyboardDefName<td class='argumentdesc'>
<p>A <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a> denoting the name of the CVCenterKeyboard instance.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>The CVCenterKeyboard instance under the given name if it exists or <code>nil</code>.</div></div><h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*all' href='./../Overviews/Methods.html#all'>all</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Event.html">Event</a>, containing all CVCenterKeyboard instances.</div></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addSynthDef' href='./../Overviews/Methods.html#addSynthDef'>addSynthDef</a>(<span class='argstr'>synthDefName</span>)</h3>
<div class='method'>
<p>Add a new <a href="./../Classes/SynthDef.html">SynthDef</a> to an existing CVCenterKeyboard instance. The SynthDef must already have been compiled and contain a gated envelope.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>A <a href="./../Classes/String.html">String</a> or an <a href="./../Classes/Symbol.html">Symbol</a>, denoting the name of the SynthDef.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-removeSynthDef' href='./../Overviews/Methods.html#removeSynthDef'>removeSynthDef</a>(<span class='argstr'>synthDefName</span>)</h3>
<div class='method'>
<p>Remove a <a href="./../Classes/SynthDef.html">SynthDef</a> to an existing CVCenterKeyboard instance.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>A <a href="./../Classes/String.html">String</a> or an <a href="./../Classes/Symbol.html">Symbol</a>, denoting the name of the SynthDef.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setUpControls' href='./../Overviews/Methods.html#setUpControls'>setUpControls</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>prefix</span>, <span class='argstr'>pitchControl: 'freq'</span>, <span class='argstr'>velocControl: 'veloc'</span>, <span class='argstr'>bendControl: 'bend'</span>, <span class='argstr'>outControl: 'out'</span>, <span class='argstr'>tuning</span>, <span class='argstr'>theServer</span>, <span class='argstr'>outbus: 0</span>, <span class='argstr'>deactivateDefaultWidgetActions: true</span>, <span class='argstr'>tab</span>, <span class='argstr'>setSynthDef: false</span>)</h3>
<div class='method'>
<p>Whenever a new <a href="./../Classes/SynthDef.html">SynthDef</a> is added, either by creating a new instance by calling <a href="#*newSynthDef">*newSynthDef</a> or adding a <a href="./../Classes/SynthDef.html">SynthDef</a> with <a href="#-addSynthDef">-addSynthDef</a>, the CVCenterKeyboard instance must be set up for the new <a href="./../Classes/SynthDef.html">SynthDef</a>. This will configure <code>outControl</code>, <code>keyboardControl</code>, <code>velocControl</code> and <code>bendControl</code> as well as it will create <a href="./../Classes/CVWidget.html">CVWidget</a>s for all other controls in the <a href="./../Classes/SynthDef.html">SynthDef</a>. It should be possible to call this method repeatedly, so you can update an existing <a href="./../Classes/SynthDef.html">SynthDef</a> while it's already being used.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>The <a href="./../Classes/SynthDef.html">SynthDef</a>'s name, given as <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a><tr><td class='argumentname'>prefix<td class='argumentdesc'>
<p>An optional <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> for <a href="./../Classes/CVCenter.html">CVCenter</a>, to make sure the resulting widgets get a unique name.<tr><td class='argumentname'>pitchControl<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> referencing the keyboard key, incoming note. Default: <code>\freq</code>.<tr><td class='argumentname'>velocControl<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> referencing velocity (the physical pressure on a keyboard key) coming with the note. Default: <code>\veloc</code>.<tr><td class='argumentname'>bendControl<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> referencing the control to be set by the pitch bend wheel. Default: <code>\bend</code>.<tr><td class='argumentname'>outControl<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> referencing the output bus. Default: <code>\out</code>.<tr><td class='argumentname'>tuning<td class='argumentdesc'>
<p>An <a href="./../Classes/ControlSpec.html">ControlSpec</a>. If set the given SynthDef may be 'tuned' using an extra <a href="./../Classes/CVWidget.html">CVWidget</a>. The given ControlSpec determines the range of possible tuning.<tr><td class='argumentname'>theServer<td class='argumentdesc'>
<p>Optional - the <a href="./../Classes/Server.html">Server</a> to run the <a href="./../Classes/Synth.html">Synth</a>s on produced with every keystroke.<tr><td class='argumentname'>outbus<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> denoting a default output bus (can be set in the SynthDef beforehand as well).<tr><td class='argumentname'>deactivateDefaultWidgetActions<td class='argumentdesc'>
<p>When <a href="./../Classes/CVWidget.html">CVWidget</a>s are created from a running <code>Classes/Synth</code> these widgets will be added default actions to set the regarding controls in the Synth, which is not desirable in this case. However, actions will just get deactivated and can get re-activated at any time. Default: <code>true</code>.<tr><td class='argumentname'>tab<td class='argumentdesc'>
<p>Optional - a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> denoting the tab in which the <a href="./../Classes/CVWidget.html">CVWidget</a>s for the <a href="./../Classes/Synth.html">Synth</a> instances will appear. If none is given the tab name will default the the SynthDef's name.<tr><td class='argumentname'>setSynthDef<td class='argumentdesc'>
<p>A <a href="./../Classes/Boolean.html">Boolean</a>. If set to <code>true</code> the CVCenterKeyboard instance can be played using the given <a href="./../Classes/SynthDef.html">SynthDef</a> immediately (otherwise you will have to call <a href="#-setSynthDef">-setSynthDef</a> explicitly). Default: <code>false</code>.</table><h4>Discussion:</h4>
<textarea class='editor'>// define SynthDef with a gated envelope
(
SynthDef(\multi, {
    var env = EnvGen.ar(
        Env.adsr(\atk.kr(0.01), \dec.kr(0.3), \sust.kr(0.5), \rel.kr(0.7)),
        \gate.kr(1), // we need a gated envelope!
        doneAction: Done.freeSelf // free the Synth when done
    );
    var freq = \freq.kr(220);
    var son = [SinOsc.ar(freq), Saw.ar(freq), Pulse.ar(freq)];
    var which = SelectX.ar(\which.kr(0!2) * son.size, son); // stereo select
    Out.ar(\out.kr(0), which * \veloc.kr(1) * \amp.kr(0.5) * env);
}).add
)

// a few specs for the controls
// specs with the same name as the regarding control
// will automatically be assigned to the control in CVCenter
(
Spec.add(\atk, #[0.01, 1.0], \exp);
Spec.add(\dec, #[0.1, 2.0]);
Spec.add(\sust, #[0.1, 1.0]);
Spec.add(\rel, #[0.1, 2.0, \exp]);
Spec.add(\which, #[0, 2]);
)

// create new keyboard, using pre-defined SynthDef
// will initialize MIDI and open CVCenter
~kb = CVCenterKeyboard.newSynthDef(\multi, \myKeyboard);

// set up controls and add CVWidgets for Synth controls
// this will boot the server and open a dialog for setting specs
// you will hear a short tone generated from a Synth instance of
// the given SynthDef which is needed by CVCenter to determine
// the Synth controls
(
~kb.setUpControls(
    \multi, // the SynthDef
    \kb, // a prefix for CVCenter, should make shure the resulting widgets have a unique names
    \freq, // the pitch argument, to be controlled through the MIDI keyboard keys
    \veloc, // the velocity argument
    \freq, // the bend argument - will often be the same as the pitch argument
    \out, // the argument setting the out bus
    setSynthDef: true // start keyboard using the given SynthDef immediately
)
)

// play some notes on your keyboard *after* having confirmed the CVCenter specs dialog</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setSynthDef' href='./../Overviews/Methods.html#setSynthDef'>setSynthDef</a>( <span class='argstr'>... synthDefName</span>)</h3>
<div class='method'>
<p>This method may be called <em>implicitly</em> for every new <a href="./../Classes/SynthDef.html">SynthDef</a> in <a href="#-setUpControls">-setUpControls</a> by adding an argument <code>setSynthDef</code> set to <code>true</code> or it may be called <em>explicitly</em> to switch between currently stored SynthDefs or to play more than one SynthDef at the same time within the CVCenterKeyboard instance.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>... synthDefName<td class='argumentdesc'>
<p>One or more <a href="./../Classes/String.html">String</a>s or a <a href="./../Classes/Symbol.html">Symbol</a>s, denoting the <a href="./../Classes/SynthDef.html">SynthDef</a>(s) to be selected. If more than one SynthDef is given the keys triggering one of the SynthDefs will be equally distributed over the <a href="#-keysBlockSize">-keysBlockSize</a>. I.e. by default the <a href="#-keysBlockSize">-keysBlockSize</a> will extend over 24 keys on the keyboard (two octaves). The keys triggering one of the given SynthDefs will (more or less) be equally distributed over the given block (the <code>keysBlockSize</code> may not be divisible by the number of SynthDefs and therefore the number of keys for each SynthDef may not be exactly equal). Note that the order of arguments matters: The first argument (SynthDef) will take the lowest keys, the next one the keys to the right of the first one and the last one the highest keys in the block.</table><h4>Discussion:</h4>
<textarea class='editor'>// define another SynthDef
(
SynthDef(\syncSaw, {
    var sig, env;
    env = EnvGen.kr(Env.adsr(
        \atk.kr(0.03),
        \dec.kr(0.5),
        \sust.kr(0.5),
        \rel.kr(0.7)
    ), \gate.kr(1), doneAction: Done.freeSelf);
    sig = SyncSaw.ar(
        \freq.kr(220),
        \sawFreq.kr(220!2, spec: \midfreq.asSpec) // specs can also be set implicitly
    );
    Out.ar(\out.kr(0), sig * env * \veloc.kr(1) * \amp.kr(0.5) * env)
}).add;
)

// add the SynthDef to the CVCenterKeyboard instance
~kb.addSynthDef(\syncSaw);

// set up controls
(
~kb.setUpControls(
    \syncSaw, // the SynthDef name
    \ss, // prefix in CVCenter
    \freq, // control played by the keyboard
    \veloc, // velocity argument
    \freq, // bend argument
    \out // out bus
)
)

// switch to the just added new SynthDef and play...
~kb.setSynthDef(\syncSaw)

// play two different SynthDefs on the same keyboard
~kb.setSynthDef(\syncSaw, \multi)

// switch back to a single SynthDef
~kb.setSynthDef(\multi)

// swap order of the SynthDefs on the keyboard
~kb.setSynthDef(\multi, \syncSaw)</textarea>
</div><h3><a class='anchor' name='Using%20multiple%20SynthDefs%20on%20one%20keyboard'>Using multiple SynthDefs on one keyboard</a></h3>

<p>As you may already have recognized you can use more than one SynthDef on one physical keyboard. When doing so by calling <a href="#-setSynthDef">-setSynthDef</a> with more than one SynthDef the keys are being equally distributed over a predefined block of keys (by default 24 keys or two octaves). The blocks will repeat over the full range of 128 MIDI notes, beginning at MIDI note <code>0</code>. Here are some schematic examples using two SynthDefs on a three-octaves keyboard<a class='footnote anchor' name='footnote_org_1' href='#footnote_1'><sup>1</sup></a> :<div class='image'><img src='3-octaves-2-synths-blocksize-24-ratio-12-12.png'/></div>

<p><div class='image'><img src='3-octaves-2-synths-blocksize-24-ratio-8-16.png'/></div>

<p><div class='image'><img src='3-octaves-2-synths-blocksize-12-ratio-6-6.png'/></div>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-keysBlockSize' href='./../Overviews/Methods.html#keysBlockSize'>keysBlockSize</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-keysBlockSize' href='./../Overviews/Methods.html#keysBlockSize'>keysBlockSize</a> = <span class='argstr'>size</span></h3>
<div class='method'>
<p>This method lets you either read or set the number of keys over which two or more <a href="./../Classes/SynthDef.html">SynthDef</a>s are being distributed that have been set by calling <a href="#-setSynthDef">-setSynthDef</a>. By default it will be 24 (two octaves). You can set a new value at any time and the CVCenterKeyboard instance should pick up the new value immediately.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Integer.html">Integer</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-keysDistribution' href='./../Overviews/Methods.html#keysDistribution'>keysDistribution</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-keysDistribution' href='./../Overviews/Methods.html#keysDistribution'>keysDistribution</a> = <span class='argstr'>ratios</span></h3>
<div class='method'>
<p>By default keys for different <a href="./../Classes/SynthDef.html">SynthDef</a>s in a CVCenterKeyboard instance that has been set to more than one SynthDef by calling <a href="#-setSynthDef">-setSynthDef</a> will be distributed (more or less) equally over the given <a href="#-keysBlockSize">-keysBlockSize</a>. This method, however, allows you to set the number of keys for the SynthDefs unequally. If you e.g. have two SynthDefs distributed over 24 keys each of them will occupy twelve keys within that <a href="#-keysBlockSize">-keysBlockSize</a>. You can change that by executing
<p><code>~kb.keysDistribution_([8, 16])</code>
<p>to eight keys for the first SynthDef and 16 keys for the second SynthDef. If the given array sums to the <a href="#-keysBlockSize">-keysBlockSize</a> it should be guaranteed that the number of keys playing one of the SynthDefs is exactly equal to the number given in the array <code>ratios</code>. If you change the <a href="#-keysBlockSize">-keysBlockSize</a> later, however, <em>the ratio of the keys should be kept</em>. I.e. executing the following to line will first change the <a href="#-keysBlockSize">-keysBlockSize</a> and subsequently change the number of keys for the first SynthDef to 4 and the number of keys for the second SynthDef to 8.<textarea class='editor'>// should result in 4 keys for the first SynthDef and 8 keys for the second
~kb.keysBlockSize_(12)
~kb.keysDistribution // [4.0, 8.0] - adapted automatically</textarea>

<p>If <code>ratios</code> sums up to an even number and <a href="#-keysBlockSize">-keysBlockSize</a> is set to an odd number, the ratio of the number of keys will be approximated.<h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Integer.html">Integer</a>s</div></div><h3><a class='anchor' name='Other%20utility%20methods'>Other utility methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clear' href='./../Overviews/Methods.html#clear'>clear</a>( <span class='argstr'>... synthDefName</span>)</h3>
<div class='method'>
<p>Clear one or more <a href="./../Classes/SynthDef.html">SynthDef</a>(s) from a CVCenterKeyboard instance but don't remove it from the keyboard. This is used internally by <a href="#-setSynthDef">-setSynthDef</a> before switching to a new SynthDef. You will usually not call this method directly.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>... synthDefName<td class='argumentdesc'>
<p>One or more <a href="./../Classes/String.html">String</a>s or a <a href="./../Classes/Symbol.html">Symbol</a>s, denoting the <a href="./../Classes/SynthDef.html">SynthDef</a>(s) to be cleared.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-free' href='./../Overviews/Methods.html#free'>free</a></h3>
<div class='method'>
<p>Free the CVCenterKeyboard instance. You will not be able to use the CVCenterKeyboard instance any longer after calling this method.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-freeHangingNodes' href='./../Overviews/Methods.html#freeHangingNodes'>freeHangingNodes</a></h3>
<div class='method'>
<p>Frees all currently playing <a href="./../Classes/Node.html">Node</a>s (<a href="./../Classes/Synth.html">Synth</a> instances) on the <a href="./../Classes/Server.html">Server</a> belonging to the CVCenterKeyboard instance. This can be useful if, for some reason, a note "hangs" after releasing a key on the keyboard which could happen e.g. if the server is under heavy load. A CVCenterKeyboard instance will create all its <a href="./../Classes/Synth.html">Synth</a>s in a dedicated <a href="./../Classes/Group.html">Group</a> (respectively <a href="./../Classes/ParGroup.html">ParGroup</a> if supernova is used as audio engine) which allows control the playing nodes via the group's interface.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addTouchOSC' href='./../Overviews/Methods.html#addTouchOSC'>addTouchOSC</a>(<span class='argstr'>addr</span>)</h3>
<div class='method'>
<p>Assosciate an instance of <a href="./../Classes/CVCenterKeyboardTouchOSC.html">CVCenterKeyboardTouchOSC</a> which allows the CVCenterKeyboard instance and an assigned <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> instance (if it exists. See also: <a href="#-addRecorder">-addRecorder</a>) to be controlled via pre-defined OSC commands comming and gong to TouchOSC or a different OSC control app installed on some external device within the current network. The <a href="./../Classes/CVCenterKeyboardTouchOSC.html">CVCenterKeyboardTouchOSC</a> instance can also be created by passing a <a href="./../Classes/NetAddr.html">NetAddr</a> in the argument <code>touchOSC</code> when calling <a href="#*new">*new</a> or <a href="#*newSynthDef">*newSynthDef</a>. The <a href="./../Classes/CVCenterKeyboardTouchOSC.html">CVCenterKeyboardTouchOSC</a> instance will be accessible by calling <a href="#-touchOSC">-touchOSC</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>addr<td class='argumentdesc'>
<p>A class <a href="./../Classes/NetAddr.html">NetAddr</a></table></div><h3><a class='anchor' name='MIDI%20related%20Instance%20variables'>MIDI related Instance variables</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-on' href='./../Overviews/Methods.html#on'>on</a></h3>
<div class='method'>
<p>The default <a href="./../Classes/MIDIFunc.html#*noteOn">noteOn</a> function, added when creating a new CVCenterKeyboard instance. By default the function will only hold some debug code that gets executed when <a href="#-debug">-debug</a> is set to <code>true</code>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-off' href='./../Overviews/Methods.html#off'>off</a></h3>
<div class='method'>
<p>The default <a href="./../Classes/MIDIFunc.html#*noteOff">noteOff</a> function, added when creating a new CVCenterKeyboard instance. By default the function will only hold some debug code that gets executed when <a href="#-debug">-debug</a> is set to <code>true</code>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bend' href='./../Overviews/Methods.html#bend'>bend</a></h3>
<div class='method'>
<p>The default <a href="./../Classes/MIDIFunc.html#*bend">bend</a> function, added when creating a new CVCenterKeyboard instance. By default the function will only hold some debug code that gets executed when <a href="#-debug">-debug</a> is set to <code>true</code>.</div><h3><a class='anchor' name='MIDIFunc%20storage%20for%20added%20SynthDefs'>MIDIFunc storage for added SynthDefs</a></h3>

<p>The following three variables all implement an <a href="./../Classes/Event.html">Event</a>, holding the individual <code>noteOn</code>, <code>noteOff</code> and <code>bend</code> <a href="./../Classes/Function.html">Function</a>s at a key identical to the corresponding <a href="./../Classes/SynthDef.html">SynthDef</a>. When calling <a href="./../Classes/MIDIFunc.html">MIDIFunc</a> instance when calling <a href="#-setSynthDef">setSynthDef(\mySynthDef)</a> the corresponding Function in the Event will be <a href="./../Classes/AbstractResponderFunc.html#-add">added</a> to the CVCenterKeyboard instance's default <a href="./../Classes/MIDIFunc.html">MIDIFunc</a> instance (<a href="#-on">-on</a>, <a href="#-off">-off</a> or <a href="#-bend">-bend</a>).<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-onFuncs' href='./../Overviews/Methods.html#onFuncs'>onFuncs</a></h3>
<div class='method'>
<p>The functions to be executed for a <code>noteOn</code>. To each of these functions the arguments <code>veloc</code> (velocity), <code>num</code> (the MIDI value for the key played on the keyboard), <code>chan</code> (the MIDI channel, if defined) and <code>src</code> (the MIDI device' unique ID, if defined) will be passed. If <a href="#-debug">-debug</a> has been set to <code>true</code> the following output will be posted:<ul>
<li>The name of the CVCenterKeyboard instance (<a href="#-keyboardDefName">-keyboardDefName</a>)<li>The current <a href="./../Classes/SynthDef.html">SynthDef</a>'s name (as stored within <a href="#-synthDefNames">-synthDefNames</a>)<li>The MIDI value (<code>num</code>) of the currently played key<li>The MIDI channel (<code>chan</code>)<li>The unique ID of the MIDI device (<code>src</code>)<li>The names and current values of <strong>all</strong> controls within the current <a href="./../Classes/SynthDef.html">SynthDef</a> (respectively <a href="./../Classes/Synth.html">Synth</a> instanced with the current keystroke)</ul>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-offFuncs' href='./../Overviews/Methods.html#offFuncs'>offFuncs</a></h3>
<div class='method'>
<p>The functions to be executed for a <code>noteOff</code>. To each of these functions the arguments <code>veloc</code> (velocity), <code>num</code> (the MIDI value for the key played on the keyboard), <code>chan</code> (the MIDI channel, if defined) and <code>src</code> (the MIDI device' unique ID, if defined) will be passed. If <a href="#-debug">-debug</a> has been set to <code>true</code> the following output will be posted:<ul>
<li>The name of the CVCenterKeyboard instance (<a href="#-keyboardDefName">-keyboardDefName</a>)<li>The current <a href="./../Classes/SynthDef.html">SynthDef</a>'s name (as stored within <a href="#-synthDefNames">-synthDefNames</a>)<li>The MIDI value (<code>num</code>) of the currently played key<li>The MIDI channel (<code>chan</code>)<li>The unique ID of the MIDI device (<code>src</code>)</ul>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bendFuncs' href='./../Overviews/Methods.html#bendFuncs'>bendFuncs</a></h3>
<div class='method'>
<p>The functions to be executed for a <code>bend</code> (when moving the the bend wheel). To each of these functions the arguments <code>bendVal</code> (the value coming from the bend wheel), <code>chan</code> (the MIDI channel, if defined) and <code>src</code> (the MIDI device' unique ID, if defined) will be passed. If <a href="#-debug">-debug</a> has been set to <code>true</code> the following output will be posted:<ul>
<li>The name of the CVCenterKeyboard instance (<a href="#-keyboardDefName">-keyboardDefName</a>)<li>The current <a href="./../Classes/SynthDef.html">SynthDef</a>'s name (as stored within <a href="#-synthDefNames">-synthDefNames</a>)<li>The MIDI value (<code>bend</code>) coming from the bend wheel<li>The MIDI channel (<code>chan</code>)<li>The unique ID of the MIDI device (<code>src</code>)</ul>
</div><h3><a class='anchor' name='Instance%20variables'>Instance variables</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a> = value</h3>
<div class='method'>
<p>Acttivate or deactivate debugging. If set to <code>true</code> various output from <code>noteOn</code>, <code>noteOff</code> and <code>bend</code> events will be posted.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-currentSynthDef' href='./../Overviews/Methods.html#currentSynthDef'>currentSynthDef</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The name(s) of the currently used SynthDef(s) as an <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Symbol.html">Symbol</a>s.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-synthParams' href='./../Overviews/Methods.html#synthParams'>synthParams</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Event.html">Event</a> holding all <a href="./../Classes/ControlName.html">ControlName</a>s of all currently stored <a href="./../Classes/SynthDef.html">SynthDef</a>s within a CVCenterKeyboard instance.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-synthDefNames' href='./../Overviews/Methods.html#synthDefNames'>synthDefNames</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/List.html">List</a>, filled with the names of the SynthDefs currently stored with the CVCenterKeyboard instance.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-keyboardDefName' href='./../Overviews/Methods.html#keyboardDefName'>keyboardDefName</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> representing the name of the CVCenterKeyboard instance. The name can will be set in <a href="#*new">*new</a> or <a href="#*newSynthDef">*newSynthDef</a>. If no name has been given it will default to <code>\keyboard</code>.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-group' href='./../Overviews/Methods.html#group'>group</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="./../Classes/Group.html">Group</a> or <a href="./../Classes/ParGroup.html">ParGroup</a> in which all <a href="./../Classes/Synth.html">Synth</a>s generated by the CVCenterKeyboard instance will be playing.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-namesCVs' href='./../Overviews/Methods.html#namesCVs'>namesCVs</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Event.html">Event</a>, holding a <a href="./../Classes/List.html">List</a> with the <a href="./../Classes/CVWidget.html">CVWidget</a> instance names, the <a href="./../Classes/ControlName.html">ControlName</a>s and the <a href="./../Classes/CV.html">CV</a>s of all <a href="./../Classes/SynthDef.html">SynthDef</a>s currently stored with the CVCenterKeyboard instance. Usually this will not be of any use for the user but it is needed for sampling keyboard sequences. Hence, this variable must be public and can be used for introspection.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bendSpec' href='./../Overviews/Methods.html#bendSpec'>bendSpec</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bendSpec' href='./../Overviews/Methods.html#bendSpec'>bendSpec</a> = value</h3>
<div class='method'>
<p>Set or get the <a href="./../Classes/ControlSpec.html">ControlSpec</a> for the pitch bend wheel. By default:<textarea class='editor'>ControlSpec(0.midicps.neg, 0.midicps, \lin, 0, 0, " hz")</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pairs' href='./../Overviews/Methods.html#pairs'>pairs</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Array.html">Array</a> containing all controls and <a href="./../Classes/CV.html">CV</a> instances of the currently used <a href="./../Classes/SynthDef.html">SynthDef</a> (see: <a href="#-currentSynthDef">-currentSynthDef</a>) that appear in <a href="./../Classes/CVCenter.html">CVCenter</a>.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-valuePairs' href='./../Overviews/Methods.html#valuePairs'>valuePairs</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Array.html">Array</a> containing all controls and their current values of the <a href="./../Classes/SynthDef.html">SynthDef</a> (see: <a href="#-currentSynthDef">-currentSynthDef</a>) that appear in <a href="./../Classes/CVCenter.html">CVCenter</a>.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-out' href='./../Overviews/Methods.html#out'>out</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-out' href='./../Overviews/Methods.html#out'>out</a> = value</h3>
<div class='method'>
<p>Set or get the out <a href="./../Classes/Bus.html">Bus</a> of the currently used <a href="./../Classes/SynthDef.html">SynthDef</a>.<h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Integer.html">Integer</a>.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-server' href='./../Overviews/Methods.html#server'>server</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="./../Classes/Server.html">Server</a> used by the CVCenterKeyboard instance.</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-touchOSC' href='./../Overviews/Methods.html#touchOSC'>touchOSC</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="./../Classes/CVCenterKeyboardTouchOSC.html">CVCenterKeyboardTouchOSC</a> instance associated with the CVCenterKeyboard instance if it exists.</div></div><h3><a class='anchor' name='Adding%20an%20effects%20chain'>Adding an effects chain</a></h3>

<p>Building an effects chain is accomplished by adding a <a href="./../Classes/NodeProxy.html">NodeProxy</a> or an <a href="./../Classes/Ndef.html">Ndef</a> catching the output of the <a href="./../Classes/Synth.html">Synth</a>s played with the keyboard. These can then be filtered by using <a href="./../Reference/NodeProxy_roles.html">NodeProxy roles</a>. Only adding the NodeProxy or Ndef by calling <a href="#-addOutProxy">-addOutProxy</a> will have no audible effect - the keyboard should just play as before adding the proxy.<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addOutProxy' href='./../Overviews/Methods.html#addOutProxy'>addOutProxy</a>(<span class='argstr'>numChannels: 2</span>, <span class='argstr'>useNdef: false</span>, <span class='argstr'>transbus</span>, <span class='argstr'>outbus</span>)</h3>
<div class='method'>
<p>Add a <a href="./../Classes/NodeProxy.html">NodeProxy</a> or an <a href="./../Classes/Ndef.html">Ndef</a>, catching the audio output of the CVCenterKeyboard instance.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>numChannels<td class='argumentdesc'>
<p>An <a href="./../Classes/Integer.html">Integer</a> representing the number of output channels. Default: <code>2</code>.<tr><td class='argumentname'>useNdef<td class='argumentdesc'>
<p>If set to <code>true</code> the proxy will be created as <a href="./../Classes/Ndef.html">Ndef</a>. By default the proxy will be a <a href="./../Classes/NodeProxy.html">NodeProxy</a>.<tr><td class='argumentname'>transbus<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> represeting a <a href="./../Classes/Bus.html">Bus</a> allowing the user to isolate effects and filters. This is handled by setting output bus of the CVCenterKeyboard instance to this bus. Ideally one will use a private bus, e.g: <code>s.options.firstPrivateBus</code>.<tr><td class='argumentname'>outbus<td class='argumentdesc'>
<p>Optional - an <a href="./../Classes/Integer.html">Integer</a> represeting the <a href="./../Classes/Bus.html">Bus</a> on which the filtered sound of the CVCenterKeyboard shall play. By default this will be the out bus of the CVCenterKeyboard instance.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-removeOutProxy' href='./../Overviews/Methods.html#removeOutProxy'>removeOutProxy</a>(<span class='argstr'>outbus</span>)</h3>
<div class='method'>
<p>Remove the <a href="./../Classes/NodeProxy.html">NodeProxy</a> or <a href="./../Classes/Ndef.html">Ndef</a> added by <a href="#-addOutProxy">-addOutProxy</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>outbus<td class='argumentdesc'>
<p>If the argument <code>transbus</code> in <a href="#-addOutProxy">-addOutProxy</a> has been given one needs to re-set the out bus of the CVCenterKeyboard instance.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-outProxy' href='./../Overviews/Methods.html#outProxy'>outProxy</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The proxy created by calling <a href="#-addOutProxy">-addOutProxy</a>.</div></div><h3><a class='anchor' name='Recording%20sequences'>Recording sequences</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addRecorder' href='./../Overviews/Methods.html#addRecorder'>addRecorder</a></h3>
<div class='method'>
<p>To be able to record keystrokes on the keyboard a <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> has to be assigned. By default this is already done when calling <a href="#*new">*new</a> or <a href="#*newSynthDef">*newSynthDef</a> if the argument <code>addRecorder</code> hasn't explicitly been set to <code>false</code> (given that <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> is installed, which should be the case as its part of the CVCenterKeyboard library).</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-record' href='./../Overviews/Methods.html#record'>record</a>(<span class='argstr'>onOff</span>)</h3>
<div class='method'>
<p>A convenience method, calling <a href="./../Classes/CVCenterKeyboardRecorder.html#-record">CVCenterKeyboardRecorder: -record</a>. Start or stop recording keyboard sequences. The <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> instance should keep track of its state internally (is currently it recording or not), so, the argument <code>onOff</code> should be optional. However, it might be convenient to tell the recorder explicitly to start or stop in some situations.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>onOff<td class='argumentdesc'>
<p>Optional - by default the <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> should remember its internal state (is it currently sampling or not). The parameter allows you to set the state explicitly.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-recorder' href='./../Overviews/Methods.html#recorder'>recorder</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>The <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> instance, giving access to all methods of the <a href="./../Classes/CVCenterKeyboardRecorder.html">CVCenterKeyboardRecorder</a> instance.</div></div><h3><a class='anchor' name='Setting%20synth%20controls%20through%20busses'>Setting synth controls through busses</a></h3>

<p>Controls within <a href="./../Classes/Synth.html">Synth</a> instances created when playing the keyboard may also be controlled through busses.<textarea class='editor'>// using the CVCenterKeyboard instance that has been created above,
// controlling 'which' in SynthDef 'multi'
(
Ndef(\sawFreq, {
    LFNoise2.ar([30, 30]).range(20, 300)
})
)

~kb.setSynthDef(\syncSaw);
~kb.mapBus(\sawFreq, Ndef(\sawFreq).bus);</textarea>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-mapBus' href='./../Overviews/Methods.html#mapBus'>mapBus</a>(<span class='argstr'>ctrlname</span>, <span class='argstr'>bus</span>)</h3>
<div class='method'>
<p>Map a <a href="./../Classes/Bus.html">Bus</a> to a <a href="./../Classes/Synth.html">Synth</a> control. The bus can be <code>control</code> or <code>audio</code> rate.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>ctrlname<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> referencing the control in the <a href="./../Classes/Synth.html">Synth</a> that shall be set by the <a href="./../Classes/Bus.html">Bus</a>.<tr><td class='argumentname'>bus<td class='argumentdesc'>
<p>The audio or control rate <a href="./../Classes/Bus.html">Bus</a> that will set the control in the <a href="./../Classes/Synth.html">Synth</a> instance.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-unmapBus' href='./../Overviews/Methods.html#unmapBus'>unmapBus</a>(<span class='argstr'>ctrlname</span>)</h3>
<div class='method'>
<p>The opposite to <a href="#-mapBus">-mapBus</a> - delegate control over the given <a href="./../Classes/ControlName.html">ControlName</a> back to manual control by the user.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>ctrlname<td class='argumentdesc'>
<p>A <a href="./../Classes/Symbol.html">Symbol</a> referencing the <a href="./../Classes/ControlName.html">ControlName</a> whose control should be delegated to the user again.</table></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-mappedBusses' href='./../Overviews/Methods.html#mappedBusses'>mappedBusses</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>An <a href="./../Classes/Event.html">Event</a> holding all currently mapped busses. The keys will be <a href="./../Classes/ControlName.html">ControlName</a>s that get set by the bus(ses) referenced by the assigned bus indexes.</div></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><div class='footnotes'>
<a class='anchor' name='footnote_1'/><div class='footnote'>[<a href='#footnote_org_1'>1</a>] - Original illustration by Tobias R., licensed under <a href="https://creativecommons.org/licenses/by-sa/2.5">CC BY-SA 2.5</a>, <a href="https://en.wikipedia.org/wiki/Musical_keyboard#/media/File:Klaviatur-3-en.svg">https://en.wikipedia.org/wiki/Musical_keyboard#/media/File:Klaviatur-3-en.svg</a></div></div><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/HelpSource/Classes/CVCenterKeyboard.schelp'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/HelpSource/Classes/CVCenterKeyboard.schelp</a><br>link::Classes/CVCenterKeyboard::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>