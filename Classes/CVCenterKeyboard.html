<!doctype html><html lang='en'><head><title>CVCenterKeyboard | SuperCollider 3.10.3-rc2 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'CVCenterKeyboard';
var scdoc_sc_version = '3.10.3-rc2';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>CVCenterKeyboard:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*all'>all</a> </li>
<li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*newSynthDef'>newSynthDef</a> </li>
<li class='toc3'><a href='#*at'>at</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-setUpControls'>setUpControls</a> </li>
<li class='toc3'><a href='#-addSynthDef'>addSynthDef</a> </li>
<li class='toc3'><a href='#-reInit'>reInit</a> </li>
<li class='toc3'><a href='#-switchSynthDef'>switchSynthDef</a> </li>
<li class='toc3'><a href='#-bendSpec'>bendSpec</a> </li>
<li class='toc3'><a href='#-out'>out</a> </li>
<li class='toc3'><a href='#-free'>free</a> </li>
<li class='toc2'><a href='#Filtering'>Filtering</a></li>
<ul class='toc'><li class='toc3'><a href='#-addOutProxy'>addOutProxy</a> </li>
<li class='toc3'><a href='#-removeOutProxy'>removeOutProxy</a> </li>
<li class='toc3'><a href='#-outProxy'>outProxy</a> </li>
</ul><li class='toc2'><a href='#Recording%20sequences'>Recording sequences</a></li>
<ul class='toc'><li class='toc3'><a href='#-activateSampling'>activateSampling</a> </li>
<li class='toc3'><a href='#-clearSamples'>clearSamples</a> </li>
</ul><li class='toc2'><a href='#Debugging%20and%20introspection'>Debugging and introspection</a></li>
<ul class='toc'><li class='toc3'><a href='#-debug'>debug</a> </li>
<li class='toc3'><a href='#-currentSynthDef'>currentSynthDef</a> </li>
<li class='toc3'><a href='#-synthDefNames'>synthDefNames</a> </li>
<li class='toc3'><a href='#-keyboardName'>keyboardName</a> </li>
<li class='toc3'><a href='#-server'>server</a> </li>
<li class='toc3'><a href='#-wdgtNames'>wdgtNames</a> </li>
<li class='toc3'><a href='#-pdef'>pdef</a> </li>
</ul><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Conductor'>Conductor</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Conductor>CVCenter'>CVCenter</a> | <a href='./../Browse.html#External Control'>External Control</a>&#8201;&gt;&#8201;<a href='./../Browse.html#External Control>MIDI'>MIDI</a></span>
</div><h1>CVCenterKeyboard<span id='superclasses'> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>A MIDI keyboard implementation for CVCenter</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/CVCenterKeyboard.sc' title='/home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/CVCenterKeyboard.sc'>CVCenterKeyboard.sc</a></div><div id='related'>See also: <a href="./../Classes/CVCenter.html">CVCenter</a>, <a href="./../Guides/UsingMIDI.html">Using MIDI</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>CVCenterKeyboard lets you create a <a href="./../Guides/UsingMIDI.html#Playing%20notes%20on%20your%20MIDI%20keyboard">MIDI keyboard</a> layout instantly from any SynthDef that provides a <code>\gate</code> key, meaning that a Synth that has been instiated upon receiving a note-on message gets finished when it gets a not-off message from an external MIDI keyboard. That allows for playing sustained notes that can be controlled through <code>asr</code> or <code>adsr</code> envelopes.
<p>Setting up the keyboard basically involves to steps: First instantiating a keyboard (through <a href="#-new">-new</a> or <a href="#-newSynthDef">-newSynthDef</a>) and then setting up the keyboard for a given SynthDef through <a href="#-setUpControls">-setUpControls</a> (will start the Server).
<p>You can assign four arbitray controls from your SynthDef to the following standard parameters<dl>
<dt>outControl<dd>the arg that sets the output bus of the Synth<dt>keyboardControl<dd>whatever you want to play with your keyboard (e.g. Frequency). You'll get midi notes back<dt>velocControl<dd>whatever you want to control through keyboard velocity<dt>bendControl<dd>whatever you want to control through the pitch bend wheel (the internal control  will automatically assigned a spec <code>ControlSpec(0.midicps.neg, 0.midicps, \lin, 0, 0, " hz")</code>)</dl>

<p>All other controls you may have defined in your SynthDef will automatically be picked up by the setup process and get assigned appropriate widgets automatically.
<p>Especially after loading an already existing CVCenter setup you possibly have to re-init the keyboard through <a href="#-reInit">-reInit</a>
<p>Additionally an output proxy - a <a href="./../Classes/NodeProxy.html">NodeProxy</a> or an <a href="./../Classes/Ndef.html">Ndef</a> - can be added through <a href="#-addOutProxy">-addOutProxy</a> which allows you to do filtering and all kinds of NodeProxy trickery.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*all' href='./../Overviews/Methods.html#all'>all</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Event.html">Event</a>, containing all instantiated Keyboards</div></div><h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*new' href='./../Overviews/Methods.html#new'>new</a>(<span class='argstr'>keyboardName: 'keyboard'</span>)</h3>
<div class='method'>
<p>Instanciate a new keyboard under <code>keyboardName</code>. The keyboard will be accessible under <code>CVCenterKeyboard.all[name]</code><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>keyboardName<td class='argumentdesc'>
<p>a <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a>, denoting the name of the new keyboard</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*newSynthDef' href='./../Overviews/Methods.html#newSynthDef'>newSynthDef</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>keyboardName: 'keyboard'</span>, <span class='argstr'>connectMidi: true</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a>, identifying an already declared <a href="./../Classes/SynthDef.html">SynthDef</a> to be used with the new CVCenterKeyboard instance. The SynthDef must have defined an envelop and a <code>\gate</code> argument.<tr><td class='argumentname'>keyboardName<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a>, identifying the CVCenterKeyboard. The keyboard will be accessible at this key within the <code>CVCenter.all</code> variable.<tr><td class='argumentname'>connectMidi<td class='argumentdesc'>
<p>if set to <code>true</code> immediately connect the external MIDI keyboard (default: <code>true</code>)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3 class='method-code'><span class='method-prefix'>CVCenterKeyboard.</span><a class='method-name' name='*at' href='./../Overviews/Methods.html#at'>at</a>(<span class='argstr'>keyboardName</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>keyboardName<td class='argumentdesc'></table><h4>Returns:</h4>
<div class='returnvalue'>
<p>CVCenterKeyboard.all[keyboardName] (a CVCenterKeyboard instance)</div></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-setUpControls' href='./../Overviews/Methods.html#setUpControls'>setUpControls</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>prefix</span>, <span class='argstr'>pitchControl: 'freq'</span>, <span class='argstr'>velocControl: 'veloc'</span>, <span class='argstr'>bendControl: 'bend'</span>, <span class='argstr'>outControl: 'out'</span>, <span class='argstr'>includeInCVCenter: [  ]</span>, <span class='argstr'>theServer</span>, <span class='argstr'>outbus: 0</span>, <span class='argstr'>deactivateDefaultWidgetActions: true</span>, <span class='argstr'>srcID</span>, <span class='argstr'>tab</span>)</h3>
<div class='method'>
<p>Set up the keyboard for the specified <a href="./../Classes/SynthDef.html">SynthDef</a>. The SynthDef must already have been added beforehand, either when creating the keyboard with <a href="#*newSynthDef">*newSynthDef</a> or <a href="#-addSynthDef">-addSynthDef</a>. <code>setUpControls</code> will analyze the internal control structure of the SynthDef and create a set of appropriate <a href="./../Classes/CVWidget.html">CVWidget</a>s within <a href="./../Classes/CVCenter.html">CVCenter</a>. Some controls, however, must be reserved for the control through the MIDI keyboard keys: an argument for pitch, one for velocity and a bend argument as well as one for the output bus.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>the <a href="./../Classes/SynthDef.html">SynthDef</a>'s name<tr><td class='argumentname'>prefix<td class='argumentdesc'>
<p>an optional <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> for CVCenter, to make sure the resulting widgets get a unique name.<tr><td class='argumentname'>pitchControl<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> denoting the keyboard key, incoming note. Default: <code>\freq</code><tr><td class='argumentname'>velocControl<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> denoting velocity coming with the note. Default: <code>\veloc</code><tr><td class='argumentname'>bendControl<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> denoting the pitch bend wheel. Default: <code>\bend</code><tr><td class='argumentname'>outControl<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> denoting the output bus. Default: <code>\out</code><tr><td class='argumentname'>includeInCVCenter<td class='argumentdesc'>
<p>an <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Symbol.html">Symbol</a>s or <a href="./../Classes/String.html">String</a>s, denoting those of the afore described arguments which <em>should</em> appear in CVCenter though they have already been assigned to the keyboard<tr><td class='argumentname'>theServer<td class='argumentdesc'>
<p>optional: the <a href="./../Classes/Server.html">Server</a> to rum the <a href="./../Classes/Synth.html">Synth</a> on<tr><td class='argumentname'>outbus<td class='argumentdesc'>
<p>optional: an <a href="./../Classes/Integer.html">Integer</a> denoting a default output bus (can be set in the SynthDef beforehand as well)<tr><td class='argumentname'>deactivateDefaultWidgetActions<td class='argumentdesc'>
<p>a <a href="./../Classes/Boolean.html">Boolean</a>, denoting if default widget actions should be deactivated (default: <code>true</code>)<tr><td class='argumentname'>srcID<td class='argumentdesc'>
<p>optional: an <a href="./../Classes/Integer.html">Integer</a>, denoting the source ID of a MIDI device (see also: <a href="./../Guides/UsingMIDI.html">Using MIDI</a>)<tr><td class='argumentname'>tab<td class='argumentdesc'>
<p>optional: a <a href="./../Classes/Symbol.html">Symbol</a> or <a href="./../Classes/String.html">String</a> denoting the tab in which the CVWidgets for this given Synth will appear. If none is given the tab name will default the the SynthDef's name</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div><h4>Discussion:</h4>
<textarea class='editor'>// define a SynthDef
// notice the enevlope and gate
(
SynthDef(\pmosc, {
    var env = Env.adsr(\atk.kr(0.01), \dec.kr(0.3), \sust.kr(0.5), \rel.kr(0.7));
    var son = PMOsc.ar(
        \carfreq.kr(100),
        \modfreq.kr(300!2, 0.02),
        \pmindex.kr(0!2, 0.02),
        \modphase.kr(0!2, 0.02)
    );
    env = EnvGen.ar(env, \gate.kr(1), doneAction: Done.freeSelf);
    Out.ar(\out.kr(0), son * \veloc.kr(1) * \amp.kr(0.5) * env);
}).add;
)

// set a couple of useful specs ahead from keyboard creation
(
Spec.add(\atk, #[0.01, 1.0]);
Spec.add(\dec, #[0.1, 2.0]);
Spec.add(\sust, #[0.1, 1.0]);
Spec.add(\rel, #[0.1, 2.0, \exp]);
Spec.add(\carfreq, #[40, 2000, \exp]);
Spec.add(\modfreq, #[40, 2000, \exp]);
Spec.add(\pmindex, #[0, 30]);
Spec.add(\modphase, \phase);
)

// create a new keyboard and add the given SynthDef
~kb = CVCenterKeyboard.newSynthDef(\pmosc, \myKeyboard);

(
~kb.setUpControls(
    \pmosc, // the SynthDef
    \kb, // a prefix for CVCenter, should make shure the resulting widgets have a unique names
    \carfreq, // the pitch argument, to be controlled through the MIDI keyboard keys
    \veloc, // the velocity argument
    \carfreq, // the bend argument - will often be the same as the pitch argument
    \out, // the argument setting the out bus
);
)
// in case a keyboard doesn't play. Or if controls are not set properly... won't do no harm
~kb.reInit(\pmosc);</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addSynthDef' href='./../Overviews/Methods.html#addSynthDef'>addSynthDef</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>connectMidi: false</span>)</h3>
<div class='method'>
<p>Add a new <a href="./../Classes/SynthDef.html">SynthDef</a> to an already existing CVCenterKeyboard.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>A <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a>, denoting the name of the SynthDef. The SynthDef must already exist.<tr><td class='argumentname'>connectMidi<td class='argumentdesc'>
<p>A <a href="./../Classes/Boolean.html">Boolean</a>, indicating whether the given SynthDef should immediately be connected to the physical keyboard. Default: <code>false</code>.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-reInit' href='./../Overviews/Methods.html#reInit'>reInit</a>(<span class='argstr'>synthDefName</span>)</h3>
<div class='method'>
<p>It may happen that the physical keyboard doesn't respond, e.g. after loading a <a href="./../Classes/CVCenter.html#*loadSetup">CVCenter setup</a>. This short command will recreate the keyboard internally without any further user interaction. Optionally the name of the SynthDef for which the keyboard shall recreated may be given.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>optional - a <a href="./../Classes/Symbol.html">Symbol</a>, denoting the <a href="./../Classes/SynthDef.html">SynthDef</a> you want to reinitialize.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-switchSynthDef' href='./../Overviews/Methods.html#switchSynthDef'>switchSynthDef</a>(<span class='argstr'>synthDefName</span>)</h3>
<div class='method'>
<p>Switch to a different SynthDef. The SynthDef must have been added <em>and</em> set up beforehand.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'></table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div><h4>Discussion:</h4>
<textarea class='editor'>// Create a new SynthDef
(
SynthDef.new(\square, {
    var sig, env;
    env = EnvGen.kr(Env.adsr(\atk.kr(0.03), \dec.kr(0.5), \sust.kr(0.5), \rel.kr(0.7)), \gate.kr(1), doneAction: Done.freeSelf);
    sig = Pulse.ar(\freq.kr(220), \width.kr(0.5));
    sig = sig!2 * env;
    Out.ar(\out.kr(0), sig * \veloc.kr(1) * \amp.kr(0.5));
}).add;
)

~kb.addSynthDef(\square);
~kb.setUpControls(\square, \sq, bendControl: \freq);
// switch keyboard to new SynthDef
~kb.switchSynthDef(\square);
// if controls are not set properly
~kb.reInit;
// ... and back
~kb.switchSynthDef(\pmosc);
~kb.reInit;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bendSpec' href='./../Overviews/Methods.html#bendSpec'>bendSpec</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-bendSpec' href='./../Overviews/Methods.html#bendSpec'>bendSpec</a> = value</h3>
<div class='method'>
<p>Set or get the <a href="./../Classes/ControlSpec.html">ControlSpec</a> for the 'bend' arg within the currently used SynthDef, denoted by the arg <code>bendControl</code> in <a href="#-setUpControls">-setUpControls</a>, usually controlled through pitch bend wheel on a MIDI keyboard. By default this will be
<p><code>ControlSpec(0.midicps.neg, 0.midicps, \lin, 0, 0, " hz")</code>
<p>which results in
<p><code>ControlSpec(-8.1757989156437, 8.1757989156437, 'linear', 0, 0, " hz")</code><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/ControlSpec.html">ControlSpec</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-out' href='./../Overviews/Methods.html#out'>out</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-out' href='./../Overviews/Methods.html#out'>out</a> = value</h3>
<div class='method'>
<p>Set or get the CVCenterKeyboard out bus. Changes are picked up immediately, regardless of if the output is wrapped in a NodeProxy or not.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-free' href='./../Overviews/Methods.html#free'>free</a>(<span class='argstr'>synthDefName</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>optional - a <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a>, denoting the SynthDef that should be removed from the keyboard. If not given all SynthDef currently stored with the keyboard will be removed</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3><a class='anchor' name='Filtering'>Filtering</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-addOutProxy' href='./../Overviews/Methods.html#addOutProxy'>addOutProxy</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>numChannels: 2</span>, <span class='argstr'>useNdef: false</span>, <span class='argstr'>outbus</span>)</h3>
<div class='method'>
<p>The method creates a <a href="./../Classes/NodeProxy.html">NodeProxy</a> or optionally an <a href="./../Classes/Ndef.html">Ndef</a> and routes the keyboard's output through it. This means one can easily add filters (e.g. through a <a href="./../Reference/NodeProxy_roles.html">NodeProxy role</a>) and do other kinds of NodeProxy trickery. If <code>useNdef</code> is set to <code>true</code> the resulting Ndef will also appear in an <a href="./../Classes/NdefMixer.html">NdefMixer</a>.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>a <a href="./../Classes/String.html">String</a> or <a href="./../Classes/Symbol.html">Symbol</a>, denoting a SynthDef, optional - if not given the SynthDef name that is returned by <a href="#-currentSynthDef">-currentSynthDef</a> will be used. This is important in so far as the method needs to know the name of the out argument in the SynthDef.<tr><td class='argumentname'>numChannels<td class='argumentdesc'>
<p>an <a href="./../Classes/Integer.html">Integer</a>, denoting the number of output channels<tr><td class='argumentname'>useNdef<td class='argumentdesc'>
<p>if set to <code>true</code> the resulting proxy will be an Ndef rather than a NodeProxy<tr><td class='argumentname'>outbus<td class='argumentdesc'>
<p>the output bus to which the proxy should play. If omitted the out bus of the SynthDef is assumed</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div><h4>Discussion:</h4>
<textarea class='editor'>~kb.addOutProxy(useNdef: true);
~kb.outProxy; // an Ndef

// add a filter
(
~kb.outProxy[1] = \filter -&gt; { |in|
    FreqShift.ar(in, \freq.kr(100!2), \phase.kr(0!2));
}
)

// add controls to CVCenter
// add a prefix to the resulting CVWidgets to avoid name clashes
~kb.outProxy.cvcGui(prefix: \filt);

// instanciate an NdefMixer
// the Ndef should appear under a key which is the combination of
// keyboardName and 'Out'. E.g. Ndef(\myFunkyKeyboardOut)
NdefMixer.new;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-removeOutProxy' href='./../Overviews/Methods.html#removeOutProxy'>removeOutProxy</a>(<span class='argstr'>synthDefName</span>, <span class='argstr'>outbus</span>)</h3>
<div class='method'>
<p>The complementary method to <code>addOutProxy</code> which removes a once created proxy again. Calling this method should work seemlessly like <code>addOutProxy</code>, meaning the playing the keyboard should produce the same sound without filters applied.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>a <a href="./../Classes/String.html">String</a> or a <a href="./../Classes/Symbol.html">Symbol</a>, denoting the SynthDef name. If not given the <a href="#~currentSynthDef">~currentSynthDef</a> is assumed<tr><td class='argumentname'>out<td class='argumentdesc'>
<p>the output bus to which the keyboard should play. If none is given <code>0</code> is assumed</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-outProxy' href='./../Overviews/Methods.html#outProxy'>outProxy</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/NodeProxy.html">NodeProxy</a> or an <a href="./../Classes/Ndef.html">Ndef</a> or <code>nil</code> if not output proxy exists</div></div><h3><a class='anchor' name='Recording%20sequences'>Recording sequences</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-activateSampling' href='./../Overviews/Methods.html#activateSampling'>activateSampling</a>(<span class='argstr'>onOff: true</span>, <span class='argstr'>synthDefName</span>)</h3>
<div class='method'>
<p>Calling this method will start (or stop) recording strokes on the external MIDI keyboard into a <a href="./../Classes/Pattern.html">Pattern</a> sequencer. For each note on the external keyboard (0-127) a separate <a href="./../Classes/Pseq.html">Pseq</a> is created where <code>noteOn</code> and <code>notOff</code> will create a sequence of durations composed of numbers (as long as a note is held) and <a href="./../Classes/Rest.html">Rest</a>s. Current control values should also be respected. Each of the recorded notes and the Synth control's current values are put into a <a href="./../Classes/Pbind.html">Pbind</a> (128 separate Pbinds) and get wrapped into a <a href="./../Classes/Ppar.html">Ppar</a> which in turn gets wrapped in a <a href="./../Classes/Pdef.html">Pdef</a>. The generated sequence should start playing immediately after calling <code>&lt;CVCenterKeyboard instance&gt;.activateSampling(false)</code>. The resulting Pdefs can be queried with <a href="#-pdef">-pdef</a>. You may record as many sequences as you like. Each of them will be stored in a Pdef under a key that is a combination of the SynthDef's name and a numerical counter (e.g. <code>Pdef('pmosc-0')</code>).<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>onOff<td class='argumentdesc'>
<p>a <a href="./../Classes/Boolean.html">Boolean</a>, indicating whether to start or stop sampling (default: <code>true</code>).<tr><td class='argumentname'>synthDefName<td class='argumentdesc'>
<p>optional - a <a href="./../Classes/String.html">String</a>, denoting the SynthDef to be used with recording.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div><h4>Discussion:</h4>
<textarea class='editor'>~kb.activateSampling;
// play some notes on your keyboard
~kb.activateSampling(false);
// you should hear the sequence that you've just played

// introspection into the generated Pdef
// should post [ Pdef('pmosc-0') ]
~kb.pdef;
// each Pdef can be handled like any regular Pdef
// i.e. they should respond to methods like 'pause', 'resume', 'play', 'stop', etc.
// as convenience method you may use 'clearSamples' to clear Pdefs at given indices
// or all of them at once (if no indices are provided)
~kb.clearSamples;</textarea>
</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clearSamples' href='./../Overviews/Methods.html#clearSamples'>clearSamples</a>( <span class='argstr'>... indices</span>)</h3>
<div class='method'>
<p>Calling this method will clear the <a href="./../Classes/Pdef.html">Pdef</a>s that have been generated through <a href="#-activateSampling">-activateSampling</a>. If one or more indices are given only the Pdefs at the given indices will be cleared.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>... indices<td class='argumentdesc'>
<p>One or more comma-separated <a href="./../Classes/Integer.html">Integer</a>s, denoting the Pdefs that should be cleared from the currently recorded sequences (optional)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a CVCenterKeyboard</div></div><h3><a class='anchor' name='Debugging%20and%20introspection'>Debugging and introspection</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-debug' href='./../Overviews/Methods.html#debug'>debug</a> = value</h3>
<div class='method'>
<p>Show some useful debugging info when playing the keyboard (triggered by <code>noteOn</code>, <code>noteOff</code> and <code>bend</code> messages coming from the external MIDI keyboard)</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-currentSynthDef' href='./../Overviews/Methods.html#currentSynthDef'>currentSynthDef</a></h3>
<div class='method'>
<p>The CVCenterKeyboard must have been set up through calling <a href="#-setUpControls">-setUpControls</a> before.<h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a>, denoting the SynthDef currently used with the CVCenterKeyboard instance</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-synthDefNames' href='./../Overviews/Methods.html#synthDefNames'>synthDefNames</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Symbol.html">Symbol</a>s, denoting all SynthDefs that have been added to the CVCenterKeyboard instance</div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-keyboardName' href='./../Overviews/Methods.html#keyboardName'>keyboardName</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a> representing the name of the CVCenterKeyboard. The name serves as key in <code>CVCenterkeyboard.all</code></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-server' href='./../Overviews/Methods.html#server'>server</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>the <a href="./../Classes/Server.html">Server</a> to be used with the CVCenterKeyboard. If none is passed in with <a href="#-setUpControls">-setUpControls</a> it will default to <code>Server.default</code></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-wdgtNames' href='./../Overviews/Methods.html#wdgtNames'>wdgtNames</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Symbol.html">Symbol</a>s, denoting the <a href="./../Classes/CVWidget.html">CVWidget</a>S that have been created with <a href="#-setUpControls">-setUpControls</a></div></div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-pdef' href='./../Overviews/Methods.html#pdef'>pdef</a></h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>an <a href="./../Classes/Array.html">Array</a> of <a href="./../Classes/Pdef.html">Pdef</a>s that represent the currently recorded sequences or <code>nil</code> if no sequences exist</div></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/HelpSource/Classes/CVCenterKeyboard.schelp'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenterKeyboard/HelpSource/Classes/CVCenterKeyboard.schelp</a><br>link::Classes/CVCenterKeyboard::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>