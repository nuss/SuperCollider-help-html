<html><head><title>MasterFX</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Control>Effects'>Control>Effects</a></div>
<h1>MasterFX<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>a highly configurable chain of effects on the main outputs</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/JITLibExtensions/classes/ProxyChain/MasterFX.sc'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/JITLibExtensions/classes/ProxyChain/MasterFX.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='related'>See also: <a href="./../Classes/ProxyChain.html">ProxyChain</a>, <a href="./../Classes/ProxyChainGui.html">ProxyChainGui</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*initClass'>initClass</a> </li>
<li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*all'>all</a> </li>
<li class='toc3'><a href='#*default'>default</a> </li>
<li class='toc3'><a href='#*maxNumChans'>maxNumChans</a> </li>
<li class='toc3'><a href='#*clear'>clear</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
<li class='toc2'><a href='#Undocumented%20class%20methods'>Undocumented class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*make'>make</a> </li>
</ul></ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-gui'>gui</a> </li>
<li class='toc3'><a href='#-show'>show</a> </li>
<li class='toc3'><a href='#-hide'>hide</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
<li class='toc3'><a href='#-pxChain'>pxChain</a> </li>
<li class='toc3'><a href='#-numChannels'>numChannels</a> </li>
<li class='toc3'><a href='#-server'>server</a> </li>
<li class='toc3'><a href='#-busIndex'>busIndex</a> </li>
<li class='toc3'><a href='#-bus'>bus</a> </li>
<li class='toc3'><a href='#-group'>group</a> </li>
<li class='toc3'><a href='#-add'>add</a> </li>
<li class='toc3'><a href='#-remove'>remove</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-badSynth'>badSynth</a> </li>
<li class='toc3'><a href='#-checkBad'>checkBad</a> </li>
<li class='toc3'><a href='#-checkingBadValues'>checkingBadValues</a> </li>
<li class='toc3'><a href='#-cmdPeriod'>cmdPeriod</a> </li>
<li class='toc3'><a href='#-makeGroup'>makeGroup</a> </li>
<li class='toc3'><a href='#-makeName'>makeName</a> </li>
<li class='toc3'><a href='#-wakeUp'>wakeUp</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*initClass' href='./../Overviews/Methods.html#initClass'>initClass</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>server</span>, <span class='argstr'>numChannels</span>, <span class='argstr'>slotNames</span>, <span class='argstr'>busIndex: 0</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>server<td class='argumentdesc'>
<p>the server on which the MasterFX chain will run; default is server.numOutputBusChannels<tr><td class='argumentname'>numChannels<td class='argumentdesc'>
<p>the number of channels it will work on<tr><td class='argumentname'>slotNames<td class='argumentdesc'>
<p>the names of the filters/functions to be used, in order of execution;<tr><td class='argumentname'>busIndex<td class='argumentdesc'>
<p>the bus index where it will process audio.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*all' href='./../Overviews/Methods.html#all'>all</a> </h3>
<div class='method'>
<p>all masterFX, one per server, live here.<h4>Returns:</h4>
<div class='returnvalue'>
<p>A dictionary</div></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*default' href='./../Overviews/Methods.html#default'>default</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>returns the MasterFX instance for the default server.</div></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*maxNumChans' href='./../Overviews/Methods.html#maxNumChans'>maxNumChans</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>maximum number of channels supported.</div></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*clear' href='./../Overviews/Methods.html#clear'>clear</a> (<span class='argstr'>name</span>)</h3>
<div class='method'>
<p>clear a specific masterfx<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'></table></div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h3><a class='anchor' name='Undocumented%20class%20methods'>Undocumented class methods</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*make' href='./../Overviews/Methods.html#make'>make</a> (<span class='argstr'>server</span>, <span class='argstr'>numChannels</span>, <span class='argstr'>slotNames</span>)</h3>
<h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-gui' href='./../Overviews/Methods.html#gui'>gui</a> (<span class='argstr'>name</span>, <span class='argstr'>numItems</span>, <span class='argstr'>buttonList</span>, <span class='argstr'>parent</span>, <span class='argstr'>bounds</span>, <span class='argstr'>makeSkip: true</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>numItems<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>buttonList<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>parent<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>bounds<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>makeSkip<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-show' href='./../Overviews/Methods.html#show'>show</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-hide' href='./../Overviews/Methods.html#hide'>hide</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clear' href='./../Overviews/Methods.html#clear'>clear</a> </h3>
<div class='method'>
<p>clear this MasterFX</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-pxChain' href='./../Overviews/Methods.html#pxChain'>pxChain</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>internally used ProxyChain.</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-numChannels' href='./../Overviews/Methods.html#numChannels'>numChannels</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-server' href='./../Overviews/Methods.html#server'>server</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>server on which this MasterFX operates</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-busIndex' href='./../Overviews/Methods.html#busIndex'>busIndex</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>bus index on which the MasterFX operates</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-bus' href='./../Overviews/Methods.html#bus'>bus</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>bus</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-group' href='./../Overviews/Methods.html#group'>group</a> </h3>
<div class='method'><h4>Returns:</h4>
<div class='returnvalue'>
<p>the group</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-add' href='./../Overviews/Methods.html#add'>add</a> (<span class='argstr'>key</span>, <span class='argstr'>wet</span>, <span class='argstr'>func</span>)</h3>
<div class='method'>
<p>kick in effect<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>key<td class='argumentdesc'>
<p>name of effect<tr><td class='argumentname'>wet<td class='argumentdesc'>
<p>wet-level of effect<tr><td class='argumentname'>func<td class='argumentdesc'>
<p>an optional func that can locally replace the global func with that name.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-remove' href='./../Overviews/Methods.html#remove'>remove</a> (<span class='argstr'>key</span>)</h3>
<div class='method'>
<p>kick out effect<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>key<td class='argumentdesc'>
<p>name of effect</table></div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-badSynth' href='./../Overviews/Methods.html#badSynth'>badSynth</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-checkBad' href='./../Overviews/Methods.html#checkBad'>checkBad</a> (<span class='argstr'>flag: true</span>)</h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-checkingBadValues' href='./../Overviews/Methods.html#checkingBadValues'>checkingBadValues</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-cmdPeriod' href='./../Overviews/Methods.html#cmdPeriod'>cmdPeriod</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeGroup' href='./../Overviews/Methods.html#makeGroup'>makeGroup</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-makeName' href='./../Overviews/Methods.html#makeName'>makeName</a> </h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-wakeUp' href='./../Overviews/Methods.html#wakeUp'>wakeUp</a> </h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>(
s.boot;

// define which FX are going to be used.
// As MasterFX is based on ProxyChain, these FX are the same as in ProxyChain.
ProxyChain.add(
    \leakDC,  \filter -&gt; { |in, leak=0.99| LeakDC.ar(in, leak) },
    \rollClip, \filter -&gt; { |in, clip=0.99, pole=0.2|
        OnePole.ar(in.clip2(clip), pole ** 0.7);
    },
    \krush, \filter -&gt; { |in, bits=16, downsamp=2|
        var down;
        in = in.round(0.5 ** bits);
        down = Latch.ar(in, Impulse.ar(SampleRate.ir / downsamp.max(2)));
        // below 1/2 downsamp, do xfade:
        blend(in, down, (downsamp - 1).clip(0, 1));
    },
    \ampFin, \filter -&gt; { |in, limDrive=1, ampLimit=0.8, postAmp=1 |
        Limiter.ar(in * limDrive, ampLimit) * postAmp;
    }
);

// and specs for them (e.g. for gui control)
Spec.add(\leak, [0.5, 0.999, \exp]);
Spec.add(\clip, [0.0, 1, \amp]);
Spec.add(\pole, [0, 0.95, \lin]);
Spec.add(\bits, [16, 1]);
Spec.add(\downsamp, [1, 100, \exp]);
Spec.add(\limDrive, \ampx4);
Spec.add(\ampLimit, \amp);
Spec.add(\postAmp, \ampx4);
)


(
// An 8-channel MasterFX on server s.
// The order in slotNames determines order of execution of the efx.
m = MasterFX.new(server: s,
    numChannels: 8,
    slotNames: [\leakDC, \krush, \rollClip, \ampFin],
    busIndex: 0
);

g = m.gui; // a GUI
s.scope(8);
)

// a test signal
x = { PinkNoise.ar(0.5) * LFNoise2.kr([5, 8, 13, 21]).max(0); }.play;


// all MasterFX live here:
MasterFX.all;

// kick in predefined effects (at full wet level)
m.add(\leakDC, 1);
m.add(\rollClip, 1);
m.add(\dualComp, 1);
m.add(\ampFin, 1);

// kick out predefined effects (at full wet level)
m.remove(\leakDC);
m.remove(\rollClip);
m.remove(\krush);
m.remove(\ampFin);


(
// make a more specific GUI - see ProxyChainGui for details
m.gui(\Mestre, 20, [
    [\leakDC, \slotCtl, 1],
    [\rollClip, \slotCtl, 1],
    [\krush, \slotCtl, 1],
    [\ampFin, \slotCtl, 1],
    [\RESET, \extra, { m.pxChain.add(\leakDC, 1).add(\ampFin, 1) }],
])
)


// make a MasterFX on the internal server
MasterFX(Server.internal, 8, [\leakDC, \rollClip, \dualComp, \ampFin]);

// now there are two MasterFX, one localhost, one internal
MasterFX.all;

// removing a MasterFX by server name
MasterFX.clear(\localhost); // clear one specific masterfx

// or simply by
m.clear

// or clear all MasterFX
MasterFX.clear; // clear all mfxes


// all gone now:
MasterFX.all;</pre>
<div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/JITLibExtensions/HelpSource/Classes/MasterFX.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/JITLibExtensions/HelpSource/Classes/MasterFX.schelp</a><br>link::Classes/MasterFX::<br>sc version: 3.9dev</div></div></body></html>