<html><head><title>CV</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Conductor'>Conductor</a>, <a href='./../Browse.html#Control'>Control</a>, <a href='./../Browse.html#Libraries'>Libraries</a>, <a href='./../Browse.html#Quarks'>Quarks</a>, <a href='./../Browse.html#Streams-Events-Patterns'>Streams-Events-Patterns</a></div>
<h1>CV</h1>
<div id='summary'>A single floating point value or an array of such values constrained to a specific numerical range by a ControlSpec.</div>
</div>
<div class='subheader'>
<div id='filename'>Source: /home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/classes/CV/<a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/classes/CV/CV.sc'>CV.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Stream.html">Stream</a> : <a href="../Classes/AbstractFunction.html">AbstractFunction</a> : <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/EV.html">EV</a>, <a href="../Classes/SV.html">SV</a>, <a href="../Classes/TV.html">TV</a></div>
<div id='related'>See also: <a href="./../Classes/Conductor.html">Conductor</a>, <a href="./../Classes/ControlSpec.html">ControlSpec</a>, <a href="./../Classes/Stream.html">Stream</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Creation'>Creation</a></li>
<ul class='toc'><li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*viewDictionary'>viewDictionary</a> </li>
<li class='toc3'><a href='#*initClass'>initClass</a> </li>
<li class='toc3'><a href='#*buildViewDictionary'>buildViewDictionary</a> </li>
</ul><li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Setting the range of values on existing CVs'>Setting the range of values on existing CVs</a></li>
<ul class='toc'><li class='toc3'><a href='#-spec'>spec</a> </li>
<li class='toc3'><a href='#-sp'>sp</a> </li>
<li class='toc3'><a href='#-connect'>connect</a> </li>
</ul><li class='toc2'><a href='#Accessing'>Accessing</a></li>
<ul class='toc'><li class='toc3'><a href='#-value'>value</a> </li>
<li class='toc3'><a href='#-input'>input</a> </li>
<li class='toc3'><a href='#-windex'>windex</a> </li>
<li class='toc3'><a href='#-indexedBy'>indexedBy</a> </li>
</ul><li class='toc2'><a href='#CV connections using SimpleControllers'>CV connections using SimpleControllers</a></li>
<ul class='toc'><li class='toc3'><a href='#-action'>action</a> </li>
</ul><li class='toc2'><a href='#GUI connections'>GUI connections</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Server connections'>Server connections</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Summary of Node related connection methods'>Summary of Node related connection methods</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#Reading and writing CVs in functions and patterns'>Reading and writing CVs in functions and patterns</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#CVs and external input'>CVs and external input</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#more undocumented methods'>more undocumented methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-put'>put</a> </li>
<li class='toc3'><a href='#-asInput'>asInput</a> </li>
<li class='toc3'><a href='#-db'>db</a> </li>
<li class='toc3'><a href='#-cvWidgetConnect'>cvWidgetConnect</a> </li>
<li class='toc3'><a href='#-embedInStream'>embedInStream</a> </li>
<li class='toc3'><a href='#-asOSCArgEmbeddedArray'>asOSCArgEmbeddedArray</a> </li>
<li class='toc3'><a href='#-reset'>reset</a> </li>
<li class='toc3'><a href='#-draw'>draw</a> </li>
<li class='toc3'><a href='#-setValue'>setValue</a> </li>
<li class='toc3'><a href='#-split'>split</a> </li>
<li class='toc3'><a href='#-connect'>connect</a> </li>
<li class='toc3'><a href='#-cvWidgetDisconnect'>cvWidgetDisconnect</a> </li>
<li class='toc3'><a href='#-touch'>touch</a> </li>
<li class='toc3'><a href='#-asControlInput'>asControlInput</a> </li>
<li class='toc3'><a href='#-next'>next</a> </li>
<li class='toc3'><a href='#-windex'>windex</a> </li>
<li class='toc3'><a href='#-size'>size</a> </li>
<li class='toc3'><a href='#-at'>at</a> </li>
</ul><li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented instance methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-cvSplit'>cvSplit</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>A CV models a single <a href="./../Classes/Float.html">Float</a> or an <a href="./../Classes/Array.html">Array</a> of such values constrained to a specific numerical range by a <a href="./../Classes/ControlSpec.html">ControlSpec</a>.
<p>CV is derived from <a href="./../Classes/Stream.html">Stream</a> so it can be used directly in Stream and <a href="./../Classes/Pattern.html">Pattern</a> definitions. <code class='code prettyprint lang-sc'>CV:connect(view)</code> will connect a CV to a GUI ControlView in both Cocoa and Qt (as well as Swing).
<p>GUI representations. A similar set of methods have been defined that connect argument arrays consisting of keys and CVs to <a href="./../Classes/Node.html">Node</a>s, <a href="./../Classes/Bus.html">Bus</a>es, <a href="./../Classes/Buffer.html">Buffer</a>s, and <a href="./../Classes/NodeProxy.html">NodeProxy</a>s.
<p>An <a href="./../Classes/SV.html">SV</a> is a CV that models an index into an array of <a href="./../Classes/Symbol.html">Symbol</a>s. The array is held in the instance variable items. The symbol corresponding to the CV's current value can be accessed with the method <a href="./../Classes/SV.html#-item">SV: -item</a>.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Creation'>Creation</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>spec: 'unipolar'</span>, <span class='argstr'>default</span>)</h3>
<div class='method'>
<p><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>spec<td class='argumentdesc'>
<p>Any object that responds to <code class='code prettyprint lang-sc'>asSpec</code> (<code class='code prettyprint lang-sc'>nil</code>, a <a href="./../Classes/Symbol.html">Symbol</a>, a <a href="./../Classes/ControlSpec.html">ControlSpec</a>, an <a href="./../Classes/Array.html">Array</a>) with a <a href="./../Classes/ControlSpec.html">ControlSpec</a>. Some common ControlSpecs include:<pre class='code prettyprint lang-sc'>\unipolar, \bipolar, \freq, \lofreq, \midfreq, \widefreq, \phase, \rq, \audiobus, \controlbus, \midi, \midinote, \midivelocity, \db, \amp, \boostcut, \pan, \detune, \rate, \beats, \delay</pre>
<tr><td class='argumentname'>default<td class='argumentdesc'>
<p>The initial value is constrained to lie within the range of the spec.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <code class='code prettyprint lang-sc'>CV</code></div></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*viewDictionary' href='./../Overviews/Methods.html#viewDictionary'>viewDictionary</a></h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*viewDictionary' href='./../Overviews/Methods.html#viewDictionary'>viewDictionary</a> = value</h3>
<div class='method'>
<p>An <a href="./../Classes/IdentityDictionary.html">IdentityDictionary</a>, holding the various view-classes for various gui-elements that may be used with CV as its keys and the class that syncs the view's value to the CV's value as its values:<pre class='code prettyprint lang-sc'>// Qt
IdentityDictionary[
    (RangeSlider -&gt; CVSyncProps.new),
    (EZGui -&gt; CVSyncValue),
    (NumberBox -&gt; CVSyncValue),
    (Slider -&gt; CVSyncInput),
    (PopUpMenu -&gt; SVSync),
    (ListView -&gt; SVSync),
    (Knob -&gt; CVSyncInput),
    (Slider2D -&gt; CVSyncProps.new),
    (Button -&gt; CVSyncValue),
    (MultiSliderView -&gt; CVSyncMulti)
]</pre>
</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*initClass' href='./../Overviews/Methods.html#initClass'>initClass</a> </h3>
<div class='method'>
<p>Calls <a href="#*buildViewDictionary">*buildViewDictionary</a> on startup.</div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*buildViewDictionary' href='./../Overviews/Methods.html#buildViewDictionary'>buildViewDictionary</a> </h3>
<div class='method'>
<p>As the name suggests this method builds the <a href="#*viewDictionary">viewDictionary</a> and prepares the various connectable view-elements (sliders, number-boxes etc.) for the use with CV. The method also takes care of the different GUI-schemes (Cocoa, Qt, Swing).</div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Setting the range of values on existing CVs'>Setting the range of values on existing CVs</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-spec' href='./../Overviews/Methods.html#spec'>spec</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-spec' href='./../Overviews/Methods.html#spec'>spec</a>_ (<span class='argstr'>s</span>, <span class='argstr'>v</span>)</h3>
<div class='method'>
<p>Set the <a href="./../Classes/ControlSpec.html">ControlSpec</a> and (optionally) a default value - see also <a href="#*new">*new</a><pre class='code prettyprint lang-sc'>a = CV(\freq);
a.spec;
a.spec_(\bipolar, -1);
a.spec;</pre>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>s<td class='argumentdesc'>
<p>any object that responds to asSpec (<code class='code prettyprint lang-sc'>nil</code>, a <a href="./../Classes/Symbol.html">Symbol</a>, a <a href="./../Classes/ControlSpec.html">ControlSpec</a> or an <a href="./../Classes/Array.html">Array</a>) with a ControlSpec<tr><td class='argumentname'>v<td class='argumentdesc'>
<p>the initial value of the CV</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-sp' href='./../Overviews/Methods.html#sp'>sp</a> (<span class='argstr'>default: 0</span>, <span class='argstr'>lo: 0</span>, <span class='argstr'>hi: 0</span>, <span class='argstr'>step: 0</span>, <span class='argstr'>warp: 'lin'</span>)</h3>
<div class='method'>
<p>Set the values of the CV's <a href="./../Classes/ControlSpec.html">ControlSpec</a> explicitely.<pre class='code prettyprint lang-sc'>a = CV(\freq);
a.spec;
a.sp(0, 0, 100);
a.spec;</pre>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>default<td class='argumentdesc'>
<p>inital value<tr><td class='argumentname'>lo<td class='argumentdesc'>
<p>smallest possible value<tr><td class='argumentname'>hi<td class='argumentdesc'>
<p>highest possible value<tr><td class='argumentname'>step<td class='argumentdesc'>
<p>smallest incremental change<tr><td class='argumentname'>warp<td class='argumentdesc'>
<p>either 'linear' or 'exponential'
<p>In the case of exponential warp, min and max must be non-zero and the same sign.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-connect' href='./../Overviews/Methods.html#connect'>connect</a> (<span class='argstr'>view</span>)</h3>
<div class='method'>
<p>Connects a CV to a view. <a href="./../Classes/Array.html">Array</a> defines connect to allow a set of CVs to be connected to a view with multiple control values (i.e., <a href="./../Classes/Slider2D.html">Slider2D</a>).<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>view<td class='argumentdesc'>
<p>a <a href="./../Classes/View.html">View</a>, usable with a CV. See <a href="#*viewDictionary">*viewDictionary</a> to for an overview of qualified views.</table></div><h3><a class='anchor' name='Accessing'>Accessing</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a> = <span class='argstr'>val</span></h3>
<div class='method'>
<p>Set or get the current value of the CV.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>val<td class='argumentdesc'>
<p>Usually a <a href="./../Classes/Float.html">Float</a> or an <a href="./../Classes/Integer.html">Integer</a>. If the CV's ControlSpec's <code class='code prettyprint lang-sc'>minval</code>, <code class='code prettyprint lang-sc'>maxval</code>, <code class='code prettyprint lang-sc'>step</code> and/or <code class='code prettyprint lang-sc'>default</code> is an array it may also be an <a href="./../Classes/Array.html">Array</a> of numeric values.</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>if used as a getter the current value of the CV</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-input' href='./../Overviews/Methods.html#input'>input</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-input' href='./../Overviews/Methods.html#input'>input</a> = <span class='argstr'>in</span></h3>
<div class='method'>
<p>Similar as <a href="#-value">-value</a> but requires or returns a number ranging form 0 to 1 that corresponds to postion of the current value between min and max.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>in<td class='argumentdesc'>
<p>a number between 0 and 1</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>if used as a getter the current value of the CV normalized to a value between 0 and 1</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-windex' href='./../Overviews/Methods.html#windex'>windex</a> (<span class='argstr'>key</span>)</h3>
<div class='method'>
<p>Interprets the value of the CV as a probability table and returns a weighted random value.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-indexedBy' href='./../Overviews/Methods.html#indexedBy'>indexedBy</a> (<span class='argstr'>key</span>)</h3>
<div class='method'>
<p>For use in Patterns: uses the value of key in the current Event as an index and returns the indexed value<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>key<td class='argumentdesc'>
<p>a <a href="./../Classes/Symbol.html">Symbol</a></table><h4>Returns:</h4>
<div class='returnvalue'>
<p>the value indexed by <code class='code prettyprint lang-sc'>key</code></div></div><h3><a class='anchor' name='CV connections using SimpleControllers'>CV connections using SimpleControllers</a></h3>

<p>When a CV's value is changed a changed message (with <code class='code prettyprint lang-sc'>\synch</code> as the identifier) is send to update any dependant objects. For example, <code class='code prettyprint lang-sc'>action_(function)</code> creates a <a href="./../Classes/SimpleController.html">SimpleController</a> which is added to the dependants of the CV and evaluated whenever the CV changes value. This same basic mechanism is used to connect the CV to GUIs, server, objects, and some other objects in the language. Most of this is more or less hidden from view.
<p>Under normal circumstances, CV connections are automatically removed when the targeted <a href="./../Classes/Control.html">Control</a>, <a href="./../Classes/Bus.html">Bus</a> or <a href="./../Classes/View.html">View</a> is deleted. If there is a program error, it is possible that connections will persist and will need to be explicitly removed.<h3 class='imethodname'><span class='methprefix'>-</span><a name='-action' href='./../Overviews/Methods.html#action'>action</a><h3 class='imethodname'><span class='methprefix'>-</span><a name='-action' href='./../Overviews/Methods.html#action'>action</a> = <span class='argstr'>function</span></h3>
<div class='method'>
<p>Create a dependant SimpleController that evaluates the function whenever the CV's value is altered.<div class='note'><span class='notelabel'>NOTE:</span> Though the method appears as setter <em>and</em> getter it is <em>not</em> a getter/setter in terms of sclang. calling <code class='code prettyprint lang-sc'>action</code> as getter will throw an error!</div><pre class='code prettyprint lang-sc'>a = CV(\freq);
// action_ returns a SimpleController
// for an explicit removal it may be stored in a variable
c = a.action_({ |cv| "the value of a is now %\n".postf(cv.value) });
a.input_(0.7); // try with different values between 0 and 1
a.value_(456); // or set the value explicitely
// only remove c
c.remove;
a.input_(0.3); // no posts anymore
// add the SimpleController again
c = a.action_({ |cv| "the value of a is now %\n".postf(cv.value) });
// and another one
d = a.action_({ |cv| "the input of a is now %\n".postf(cv.input) });
a.value_(456); // both, c and d's functions are triggered
a.release; // remove all dependants at once</pre>
<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>an arbitrary <a href="./../Classes/Function.html">Function</a></table><h4>Returns:</h4>
<div class='returnvalue'>
<p>a <a href="./../Classes/SimpleController.html">SimpleController</a></div></div><h3><a class='anchor' name='GUI connections'>GUI connections</a></h3>

<p>The following methods establish connections <a href="./../Classes/View.html">View</a>s and CVs.<pre class='code prettyprint lang-sc'>// pseudo-code
Slider-connect(aCV)
NumberBox-connect(aCV)
Slider2D-connect([xCV, yCV])
RangeSlider-connect([loCV, hiCV])
MultiSliderView-connect(aCV)    // for CVs with multiple values
PopupMenu-connect(aCV)    // for SVs, displays SV-items
ListView-connect(aCV)    // for SVs</pre>

<p>One CV can be connected to many views but each view is connected to only one CV. When a CV's value changes, it is relayed to all of its dependants including the source of the the change. That way, the GUI accurately reflects the new value of the CV. See the behavior of 'b' in the following example.<div class='note'><span class='notelabel'>NOTE:</span> The following example provides a generic graphic interface to two CVs. Subsequent examples depend on that window, so leave it open until you are finished working through the help file. (The interpreter variables 'a' and 'b' contain the CVs used by the examples, so they should be left unaltered.)</div><pre class='code prettyprint lang-sc'>(
// create a couple of CVs
a = CV(\freq);
b = CV.new.sp(-10,-100,20, 10);

// make a window
w = Window("CV Demo", Rect(64, 0, 400, 300)).front;
w.view.decorator = FlowLayout(w.view.bounds);

// CVs can be connected to Slider and NumberBox.
z = NumberBox(w, Rect(0, 0, 50, 20));
a.connect(z);

y = Slider(w, Rect(50, 0, 150, 20));
a.connect(y);

w.view.decorator.nextLine;

b.connect(NumberBox(w, Rect(0, 0, 50, 20)));
b.connect(Slider(w, Rect(50, 0, 150, 20)));

w.view.decorator.nextLine;

//    Pairs of CVs can be connected to RangeSlider, Slider2D
[a,b].connect(RangeSlider(w, Rect(0, 0, 200, 20)));

w.view.decorator.nextLine;
[a,b].connect(Slider2D(w, Rect(0, 0, 200, 200)));
)</pre>

<p>An example connecting a MultiSliderView<pre class='code prettyprint lang-sc'>(
// create a CV with a 'multi-dimensional' ControlSpec
c = CV([20, 20000, \exp, 0.0, { 20.rrand(20000) }!7, " hz"].asSpec);

x = Window("CV MultiSlider Demo", Rect(100, 100, 400, 300)).front;
x.view.decorator = f = FlowLayout(x.view.bounds);
m = MultiSliderView(x, f.innerBounds.width@f.innerBounds.height);
c.connect(m);
c.action_({ |cv| "the value of c is now %\n".postf(cv.value) });
)</pre>
<h3><a class='anchor' name='Server connections'>Server connections</a></h3>

<p>OSC commands (i.e., <code class='code prettyprint lang-sc'>/n_set</code>,  <code class='code prettyprint lang-sc'>/s_new</code>) specify initial values of parameters as a flat <a href="./../Classes/Array.html">Array</a> of pairs consisting of a name and its initial value:<pre class='code prettyprint lang-sc'>[frequency: 440, amplitude: 1, ...]</pre>

<p>"Extended argument arrays" allow CVs to be used in place of the initial value. This is the standard syntax for establishing connections between CVs and a server. In an extended argument array, the CV's value can be altered before being sent, multiple CV's can determine the value to be sent, and the value to be sent can be determined by a function (here <code class='code prettyprint lang-sc'>freq</code> is just meant as an example key):<table>
<tr><td><strong>value</strong><td>[freq: 440]<tr><td><strong>CV</strong><td>[freq: aCV]<tr><td><strong>altered CV</strong><td>[freq: [aCV, aCV.midicps]]<tr><td><strong>combination</strong><td>[freq: [[aCV, bCV], aCV.midicps + bCV]]<tr><td><strong>function</strong><td><code class='code prettyprint lang-sc'>[freq: [aCV, { aCV.midicps.value + 33.rand }]</code></table>

<p>For example, the method <a href="./../Classes/Synth.html#*controls">Synth: *controls</a> is identical to <a href="./../Classes/Synth.html#*new">Synth: *new</a> except the <code class='code prettyprint lang-sc'>args</code> parameter is extended:<pre class='code prettyprint lang-sc'>// basic CV connection
(
Synth.controls("default", [
    freq: a
]);
)

// modified CV connection
(
Synth.controls("default", [
    amp: [b, b.dbamp],
    freq: a
]);
)

// multiple modified connection
(
Synth.controls("default", [
    freq: [
        [a,b], a + b
    ],
    amp: [
        [a,b], (a.cpsmidi.neg/4 + b).dbamp
    ]
]);
)</pre>

<p>In the previous two examples, the modifying expression is actually a combination of <a href="./../Classes/Stream.html">Stream</a>s altered with <a href="./../Overviews/Operators.html#Binary Operators">binary</a> and <a href="./../Overviews/Operators.html#Unary Operators">unary operators</a>. This is concise, but in some cases, it may be necessary to use a <a href="./../Classes/Function.html">Function</a> to define the modification.<div class='note'><span class='notelabel'>NOTE:</span> Within a function definition it is necessary to explicitly extract the value of the CV using a <a href="./../Classes/CV.html#-value">value</a> message.</div><pre class='code prettyprint lang-sc'>// a Function modifying the CV connection
(
Synth.controls("default", [
    freq: [b, {
        var index;
        (index = b.value + 100 /12 ).asInteger;
        [100,200,300,400,500, 600].mirror.at(index)
    }],
    amp: [
        [a,b], { (a.value.cpsmidi.neg/4 + b.value).dbamp }
    ]
])
)</pre>
<h3><a class='anchor' name='Summary of Node related connection methods'>Summary of Node related connection methods</a></h3>
<dl>
<dt>Array<dd><a href="./../Classes/Array.html#-connectToNode">Array: -connectToNode</a>: the receiver is a flat array of name/value pairs
<p><a href="./../Classes/Array.html#-connectToBuffer">Array: -connectToBuffer</a>: the receiver is an array of CVs
<p><a href="./../Classes/Array.html#-connectToBus">Array: -connectToBus</a>: the receiver is an array of CVs.<dt>Node<dd><a href="./../Classes/Node.html#-setControls">Node: -setControls</a>: connects CVs to named controls<dt>NodeProxy<dd><a href="./../Classes/NodeProxy.html#-setControls">NodeProxy: -setControls</a>: connects CVs to named controls<pre class='code prettyprint lang-sc'>(
c = CV.new.sp(-20, -100, 120);
p = NodeProxy.audio(s, 2);
p.play; //play to hardware output, return a group with synths
p.setControls([f: a, c: [b, { \freq.asSpec.map(b.input)}]]);
b.input_(0.5);
p.source = { arg f=400, c = 400; PMOsc.ar(f , c, 4, 0, 0.1) };
)</pre>

<p><dt>Synth<dd><a href="./../Classes/Synth.html#*controls">Synth: *controls</a>: the same as <a href="./../Classes/Synth.html#*new">Synth: *new</a> but allows CVs to be used in the args array<dt>Bus<dd><a href="./../Classes/Bus.html#*controls">Bus: *controls</a>:<pre class='code prettyprint lang-sc'>(
c = { arg f = 400,  a = -20, pan = 0; Pan2.ar(SinOsc.ar(f, 0, a.dbamp), pan) }.play;
d = Bus.controls([a, b], s);
[a, b].connectToBus(d.server, d.index);
Routine({
    // need to make sure the synth has been created...
    s.sync;
    c.map(\f, d.index, \a, d.index + 1);
}).play;
)</pre>

<p><a href="./../Classes/Bus.html#-setControls">Bus: -setControls</a>: connects CVs to consecutive buses<pre class='code prettyprint lang-sc'>(
c = { arg f = 400, a = -20, pan = 0; Pan2.ar(SinOsc.ar(f, 0, a.dbamp), pan) }.play;
d = Bus.control(s, 3);
d.setControls([a, b]);
[a, b].connectToBus(d.server, d.index);
Routine({
    // need to make sure the synth has been created...
    s.sync;
    c.map(\f, d.index, \a, d.index + 1);
}).play;
)</pre>
</dl>
<h3><a class='anchor' name='Reading and writing CVs in functions and patterns'>Reading and writing CVs in functions and patterns</a></h3>
<dl>
<dt>Tasks<dd>Within a <a href="./../Classes/Function.html">Function</a>, CVs are accessed using <a href="#-value">value</a> and <a href="#-input">value</a> and altered using <a href="#-value">value_</a> and <a href="#-input">input_</a>.<pre class='code prettyprint lang-sc'>(
Task({
    10.do({
        // print the value scaled to the range [0, 1]
        a.input.post; " ".post;
        // print the actual value
        a.value.postln;
        // select a new value at random
        a.input_(1.0.rand);
        // the weighting of values will conform to the warp
        // with \exp, values fall uniformly in each octave
        wait(0.1);
    })
}).play(AppClock)
)</pre>

<p><dt>Patterns<dd>Within a pattern definition, a CV can directly substitute for a <a href="./../Classes/Pattern.html">Pattern</a>:<pre class='code prettyprint lang-sc'>(
SynthDescLib.global.read;
Pbind(
    \instrument, \default,
    \freq, a,
    \db, b,
    \dur, 0.2
).play(quant: 0);
)</pre>

<p><a href="./../Classes/Pfunc.html">Pfunc</a> can be used to change the CV from within a Pattern:<pre class='code prettyprint lang-sc'>(
SynthDescLib.global.read;
Pbind(
    \instrument, \default,
    \freq, Pwhite(100, 1000).round(100),
    \placeholder, Pfunc({ arg ev; a.value_(ev.at(\freq)) }),
    \db, b,
    \dur, 0.2
).play;
)</pre>
</dl>
<h3><a class='anchor' name='CVs and external input'>CVs and external input</a></h3>

<p>The <a href="#-input">input_(in)</a> method makes it easy to connect a CV to any control source:<pre class='code prettyprint lang-sc'>// MIDI
(
MIDIClient.init;
MIDIIn.connect(0, 0);
MIDIIn.control = { arg src, chan, num, val;    a.input_(val/127) }
)</pre>

<p>The methods <a href="#-input">input and input_</a> are also used by <a href="./../Classes/CVPreset.html">CVPreset</a> to allow interpolations between settings that follow warp of the CV's <a href="./../Classes/ControlSpec.html">ControlSpec</a>.<h3><a class='anchor' name='more undocumented methods'>more undocumented methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-put' href='./../Overviews/Methods.html#put'>put</a> (<span class='argstr'>index</span>, <span class='argstr'>val</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>val<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-asInput' href='./../Overviews/Methods.html#asInput'>asInput</a> (<span class='argstr'>val</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>val<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-db' href='./../Overviews/Methods.html#db'>db</a> (<span class='argstr'>default: 0</span>, <span class='argstr'>lo: -100</span>, <span class='argstr'>hi: 20</span>, <span class='argstr'>step: 1</span>, <span class='argstr'>warp: 'lin'</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>default<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>lo<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>hi<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>step<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>warp<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-cvWidgetConnect' href='./../Overviews/Methods.html#cvWidgetConnect'>cvWidgetConnect</a> (<span class='argstr'>view</span>)</h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/CVCenter/extCV.sc'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenter/CVCenter/extCV.sc</a></div>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>view<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-embedInStream' href='./../Overviews/Methods.html#embedInStream'>embedInStream</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-asOSCArgEmbeddedArray' href='./../Overviews/Methods.html#asOSCArgEmbeddedArray'>asOSCArgEmbeddedArray</a> (<span class='argstr'>array</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>array<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-reset' href='./../Overviews/Methods.html#reset'>reset</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-draw' href='./../Overviews/Methods.html#draw'>draw</a> (<span class='argstr'>win</span>, <span class='argstr'>name: ">"</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>win<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>name<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-setValue' href='./../Overviews/Methods.html#setValue'>setValue</a> (<span class='argstr'>v</span>)</h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/classes/CV/extCVForTouch.sc'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/classes/CV/extCVForTouch.sc</a></div>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>v<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-split' href='./../Overviews/Methods.html#split'>split</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-connect' href='./../Overviews/Methods.html#connect'>connect</a> (<span class='argstr'>view</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>view<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-cvWidgetDisconnect' href='./../Overviews/Methods.html#cvWidgetDisconnect'>cvWidgetDisconnect</a> (<span class='argstr'>object</span>)</h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/CVCenter/extCV.sc'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenter/CVCenter/extCV.sc</a></div>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>object<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-touch' href='./../Overviews/Methods.html#touch'>touch</a> (<span class='argstr'>dur</span>, <span class='argstr'>delta</span>)</h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/classes/CV/extCVForTouch.sc'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/classes/CV/extCVForTouch.sc</a></div>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>dur<td class='argumentdesc'>
<p>(describe argument here)<tr><td class='argumentname'>delta<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-asControlInput' href='./../Overviews/Methods.html#asControlInput'>asControlInput</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-next' href='./../Overviews/Methods.html#next'>next</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-windex' href='./../Overviews/Methods.html#windex'>windex</a> (<span class='argstr'>key</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>key<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-size' href='./../Overviews/Methods.html#size'>size</a> </h3>
<div class='method'>
<p>(describe method here)<h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-at' href='./../Overviews/Methods.html#at'>at</a> (<span class='argstr'>index</span>)</h3>
<div class='method'>
<p>(describe method here)<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>index<td class='argumentdesc'>
<p>(describe argument here)</table><h4>Returns:</h4>
<div class='returnvalue'>
<p>(describe returnvalue here)</div></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented instance methods'>Undocumented instance methods</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-cvSplit' href='./../Overviews/Methods.html#cvSplit'>cvSplit</a> </h3>
<div class='extmethod'>From extension in <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/CVCenter/extCV.sc'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenter/CVCenter/extCV.sc</a></div>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>(some example code)</pre>
<div class='doclink'>source: <a href='file:///home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/HelpSource/Classes/CV.schelp'>/home/stefan/.local/share/SuperCollider/Extensions/CVCenter/Conductor/HelpSource/Classes/CV.schelp</a><br>link::Classes/CV::<br>sc version: 3.7alpha0</div></div></body></html>