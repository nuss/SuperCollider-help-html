<html><head><title>ProcMod</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Libraries>JoshUGens'>Libraries>JoshUGens</a></div>
<h1>ProcMod</h1>
<div id='summary'>A real-time control structure</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/ProcMod.sc'>/usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/classes/ProcMod.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='subclasses'>Subclasses: <a href="../Classes/ProcModR.html">ProcModR</a></div>
<div id='related'>See also: <a href="./../Classes/ProcModR.html">ProcModR</a>, <a href="./../Classes/ProcEvent">ProcEvent</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*initClass'>initClass</a> </li>
<li class='toc3'><a href='#*new'>new</a> </li>
<li class='toc3'><a href='#*play'>play</a> </li>
<li class='toc3'><a href='#*midiDevices'>midiDevices</a> </li>
<li class='toc2'><a href='#Inherited class methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-isRunning'>isRunning</a> </li>
<li class='toc3'><a href='#-button'>button</a> </li>
<li class='toc3'><a href='#-window'>window</a> </li>
<li class='toc3'><a href='#-server'>server</a> </li>
<li class='toc3'><a href='#-envbus'>envbus</a> </li>
<li class='toc3'><a href='#-releasetime'>releasetime</a> </li>
<li class='toc3'><a href='#-about'>about</a> </li>
<li class='toc3'><a href='#-play'>play</a> </li>
<li class='toc3'><a href='#-value'>value</a> </li>
<li class='toc3'><a href='#-gui'>gui</a> </li>
<li class='toc3'><a href='#-recordpath'>recordpath</a> </li>
<li class='toc3'><a href='#-stopprocess'>stopprocess</a> </li>
<li class='toc3'><a href='#-function'>function</a> </li>
<li class='toc3'><a href='#-release'>release</a> </li>
<li class='toc3'><a href='#-data'>data</a> </li>
<li class='toc3'><a href='#-responder'>responder</a> </li>
<li class='toc3'><a href='#-timeScale'>timeScale</a> </li>
<li class='toc3'><a href='#-clock'>clock</a> </li>
<li class='toc3'><a href='#-mapAmpToCC'>mapAmpToCC</a> </li>
<li class='toc3'><a href='#-releaseFunc'>releaseFunc</a> </li>
<li class='toc3'><a href='#-info'>info</a> </li>
<li class='toc3'><a href='#-starttime'>starttime</a> </li>
<li class='toc3'><a href='#-addAction'>addAction</a> </li>
<li class='toc3'><a href='#-processPlay'>processPlay</a> </li>
<li class='toc3'><a href='#-group'>group</a> </li>
<li class='toc3'><a href='#-kill'>kill</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
<li class='toc3'><a href='#-id'>id</a> </li>
<li class='toc3'><a href='#-envnode'>envnode</a> </li>
<li class='toc3'><a href='#-now'>now</a> </li>
<li class='toc3'><a href='#-tempo'>tempo</a> </li>
<li class='toc3'><a href='#-initProcMod'>initProcMod</a> </li>
<li class='toc3'><a href='#-lag'>lag</a> </li>
<li class='toc3'><a href='#-env'>env</a> </li>
<li class='toc3'><a href='#-process'>process</a> </li>
<li class='toc3'><a href='#-isReleasing'>isReleasing</a> </li>
<li class='toc3'><a href='#-target'>target</a> </li>
<li class='toc3'><a href='#-onReleaseFunc'>onReleaseFunc</a> </li>
<li class='toc3'><a href='#-pevents'>pevents</a> </li>
<li class='toc3'><a href='#-composite'>composite</a> </li>
<li class='toc3'><a href='#-amp'>amp</a> </li>
<li class='toc3'><a href='#-saveToData'>saveToData</a> </li>
<li class='toc2'><a href='#Inherited instance methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>A structure for controlling modular processes.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*initClass' href='./../Overviews/Methods.html#initClass'>initClass</a> </h3>
<div class='method'>
<p></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*new' href='./../Overviews/Methods.html#new'>new</a> (<span class='argstr'>env</span>, <span class='argstr'>amp: 1</span>, <span class='argstr'>id</span>, <span class='argstr'>group</span>, <span class='argstr'>addAction: 0</span>, <span class='argstr'>target: 1</span>, <span class='argstr'>function</span>, <span class='argstr'>releaseFunc</span>, <span class='argstr'>onReleaseFunc</span>, <span class='argstr'>responder</span>, <span class='argstr'>timeScale: 1</span>, <span class='argstr'>lag: 0.01</span>, <span class='argstr'>clock</span>, <span class='argstr'>server</span>)</h3>
<div class='method'></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*play' href='./../Overviews/Methods.html#play'>play</a> (<span class='argstr'>env</span>, <span class='argstr'>amp: 1</span>, <span class='argstr'>id</span>, <span class='argstr'>group</span>, <span class='argstr'>addAction: 0</span>, <span class='argstr'>target: 1</span>, <span class='argstr'>function</span>, <span class='argstr'>releaseFunc</span>, <span class='argstr'>onReleaseFunc</span>, <span class='argstr'>responder</span>, <span class='argstr'>timeScale: 1</span>, <span class='argstr'>lag: 0.01</span>, <span class='argstr'>clock</span>, <span class='argstr'>server</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>env<td class='argumentdesc'>
<p>An overall amplitude envelope that synths created in a ProcMod function can access. This will run a .kr env on ProcMod.envbus that can be read by other synths in the ProcMod through the creation of a procmodenv synth. There is a max of 20 breakpoints to the env. If the Env has a releaseNode, ProcMod will continue to process events until .release is called.<tr><td class='argumentname'>amp<td class='argumentdesc'>
<p>An overall amplitude control for an instance of ProcMod.<tr><td class='argumentname'>id<td class='argumentdesc'>
<p>A \symbol or "string" to be used later to identify an instance of ProcMod.<tr><td class='argumentname'>group<td class='argumentdesc'>
<p>A group for an instance of ProcMod to run in. Defaults to nil and a new group is created. If ProcMod creates the group, a new one is created on each .play call.<tr><td class='argumentname'>addAction<td class='argumentdesc'>
<p>An addAction for this instance of ProcMod. Defaults to 0.<tr><td class='argumentname'>target<td class='argumentdesc'>
<p>A target for this instance of ProcMod. Defaults to 1.<tr><td class='argumentname'>function<td class='argumentdesc'>
<p>A Function, Task or Routine to be evaluated on the playing of this instance of ProcMod. If a Function is passed in that returns a Task or Routine, the ProcMod will become 're-triggerable' and will allow for overlapping getures (it can be released and restarted immediately). All Functions, when evaluated, will have the current group id and envbus passed in as an argument.<tr><td class='argumentname'>releaseFunc<td class='argumentdesc'>
<p>A Function, Task or Routine to be evaluated after the ProcMod has finished its release.<tr><td class='argumentname'>onReleaseFunc<td class='argumentdesc'>
<p>A Function, Task or Routine to be evaluated at release time.<tr><td class='argumentname'>responder<td class='argumentdesc'>
<p>An instance of OSCresponder or OSCresponderNode for use by this instance of ProcMod. It is automatically added when the ProcMod starts, and released after the ProcMod finishes its release.<tr><td class='argumentname'>timeScale<td class='argumentdesc'>
<p>Applies a scale function to the ProcMod envelope. Defaults to 1.<tr><td class='argumentname'>lag<td class='argumentdesc'>
<p>Applies to chages to the amp value passed into this instance of ProcMod.<tr><td class='argumentname'>clock<td class='argumentdesc'>
<p>An intance of Clock to run this instance of ProcMod. Defaults to SystemClock.<tr><td class='argumentname'>server<td class='argumentdesc'>
<p>an instance of Server to run this ProcMod on. Useful for remote servers. Defaults to Server.default.</table></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*midiDevices' href='./../Overviews/Methods.html#midiDevices'>midiDevices</a> </h3>
<div class='method'></div><h3><a class='anchor' name='Inherited class methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-isRunning' href='./../Overviews/Methods.html#isRunning'>isRunning</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-button' href='./../Overviews/Methods.html#button'>button</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-window' href='./../Overviews/Methods.html#window'>window</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-server' href='./../Overviews/Methods.html#server'>server</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-server' href='./../Overviews/Methods.html#server'>server</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-envbus' href='./../Overviews/Methods.html#envbus'>envbus</a> </h3>
<div class='method'>
<p>Return the current control bus id the global envelope is written to for this instance of ProcMod.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-releasetime' href='./../Overviews/Methods.html#releasetime'>releasetime</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-about' href='./../Overviews/Methods.html#about'>about</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-about' href='./../Overviews/Methods.html#about'>about</a> = <span class='argstr'>aboutString</span></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aboutString<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-play' href='./../Overviews/Methods.html#play'>play</a> </h3>
<div class='method'>
<p>Avaluates this instance of ProcMod. ProcMod.function is evaluated, and ProcMod.responder is set up if they are declared.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-value' href='./../Overviews/Methods.html#value'>value</a> (<span class='argstr'>recpath</span>, <span class='argstr'>timestamp</span>, <span class='argstr'>headerFormat</span>, <span class='argstr'>sampleFormat</span>)</h3>
<div class='method'>
<p>Same as .play.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>recpath<td class='argumentdesc'><tr><td class='argumentname'>timestamp<td class='argumentdesc'><tr><td class='argumentname'>headerFormat<td class='argumentdesc'><tr><td class='argumentname'>sampleFormat<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-gui' href='./../Overviews/Methods.html#gui'>gui</a> (<span class='argstr'>bounds</span>, <span class='argstr'>upperLevel: 6</span>, <span class='argstr'>lowerLevel: -inf</span>, <span class='argstr'>parent</span>, <span class='argstr'>trig</span>, <span class='argstr'>showMeters: false</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>bounds<td class='argumentdesc'><tr><td class='argumentname'>upperLevel<td class='argumentdesc'><tr><td class='argumentname'>lowerLevel<td class='argumentdesc'><tr><td class='argumentname'>parent<td class='argumentdesc'><tr><td class='argumentname'>trig<td class='argumentdesc'><tr><td class='argumentname'>showMeters<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-recordpath' href='./../Overviews/Methods.html#recordpath'>recordpath</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-recordpath' href='./../Overviews/Methods.html#recordpath'>recordpath</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-stopprocess' href='./../Overviews/Methods.html#stopprocess'>stopprocess</a> (<span class='argstr'>oldproc</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>oldproc<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-function' href='./../Overviews/Methods.html#function'>function</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-function' href='./../Overviews/Methods.html#function'>function</a> = value</h3>
<div class='method'>
<p>An instance of Function, Task or Routine to be evaluated on ProcMod.play. If a Function is passed in, the ProcMod will become 're-triggerable' and can be restarted after it has been released. If a Function is passed in, it may return a Task or Routine. The function is passed the ProcMod's current group and envbus as args.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-release' href='./../Overviews/Methods.html#release'>release</a> (<span class='argstr'>reltime</span>)</h3>
<div class='method'>
<p>Aeleases an instance of ProcMod. If ProcMod.env has a release section, functions and OSCresponders wait until this has executed before releasing the ProcMods functionality.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>reltime<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-data' href='./../Overviews/Methods.html#data'>data</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-responder' href='./../Overviews/Methods.html#responder'>responder</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-responder' href='./../Overviews/Methods.html#responder'>responder</a> = <span class='argstr'>aResponder</span></h3>
<div class='method'>
<p>An instance of OSCresponder or OSCresponderNode for use by an instance of ProcMod.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>aResponder<td class='argumentdesc'>
<p>OSCresponder.</table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-timeScale' href='./../Overviews/Methods.html#timeScale'>timeScale</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-timeScale' href='./../Overviews/Methods.html#timeScale'>timeScale</a> = <span class='argstr'>newtimeScale</span></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newtimeScale<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-clock' href='./../Overviews/Methods.html#clock'>clock</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-mapAmpToCC' href='./../Overviews/Methods.html#mapAmpToCC'>mapAmpToCC</a> (<span class='argstr'>control</span>, <span class='argstr'>maxamp: 6</span>, <span class='argstr'>minamp: -90</span>, <span class='argstr'>clientPort: 0</span>, <span class='argstr'>midiChannel: 0</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>control<td class='argumentdesc'><tr><td class='argumentname'>maxamp<td class='argumentdesc'><tr><td class='argumentname'>minamp<td class='argumentdesc'><tr><td class='argumentname'>clientPort<td class='argumentdesc'><tr><td class='argumentname'>midiChannel<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-releaseFunc' href='./../Overviews/Methods.html#releaseFunc'>releaseFunc</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-releaseFunc' href='./../Overviews/Methods.html#releaseFunc'>releaseFunc</a> = value</h3>
<div class='method'>
<p>An instance of Function, Task or Routine to be evaluated after a ProcMod has released.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-info' href='./../Overviews/Methods.html#info'>info</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-info' href='./../Overviews/Methods.html#info'>info</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-starttime' href='./../Overviews/Methods.html#starttime'>starttime</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-addAction' href='./../Overviews/Methods.html#addAction'>addAction</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-addAction' href='./../Overviews/Methods.html#addAction'>addAction</a> = <span class='argstr'>newaddAction</span></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newaddAction<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-processPlay' href='./../Overviews/Methods.html#processPlay'>processPlay</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-group' href='./../Overviews/Methods.html#group'>group</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-group' href='./../Overviews/Methods.html#group'>group</a> = value</h3>
<div class='method'>
<p>Return the current group of this instance of ProcMod.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-kill' href='./../Overviews/Methods.html#kill'>kill</a> </h3>
<div class='method'>
<p>Immediately free the ProcMod, regardless of ProcMod.env.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-clear' href='./../Overviews/Methods.html#clear'>clear</a> (<span class='argstr'>oldproc</span>, <span class='argstr'>oldresp</span>, <span class='argstr'>oldgroup</span>, <span class='argstr'>oldrelfunc</span>, <span class='argstr'>oldclock</span>, <span class='argstr'>oldhdr</span>, <span class='argstr'>oldroute</span>, <span class='argstr'>oldccctrl</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>oldproc<td class='argumentdesc'><tr><td class='argumentname'>oldresp<td class='argumentdesc'><tr><td class='argumentname'>oldgroup<td class='argumentdesc'><tr><td class='argumentname'>oldrelfunc<td class='argumentdesc'><tr><td class='argumentname'>oldclock<td class='argumentdesc'><tr><td class='argumentname'>oldhdr<td class='argumentdesc'><tr><td class='argumentname'>oldroute<td class='argumentdesc'><tr><td class='argumentname'>oldccctrl<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-id' href='./../Overviews/Methods.html#id'>id</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-id' href='./../Overviews/Methods.html#id'>id</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-envnode' href='./../Overviews/Methods.html#envnode'>envnode</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-now' href='./../Overviews/Methods.html#now'>now</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-tempo' href='./../Overviews/Methods.html#tempo'>tempo</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-tempo' href='./../Overviews/Methods.html#tempo'>tempo</a> = <span class='argstr'>newTempo</span></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newTempo<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-initProcMod' href='./../Overviews/Methods.html#initProcMod'>initProcMod</a> (<span class='argstr'>argClock</span>, <span class='argstr'>argServer</span>, <span class='argstr'>argEnv</span>, <span class='argstr'>argNumChannels</span>, <span class='argstr'>argProcout</span>)</h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>argClock<td class='argumentdesc'><tr><td class='argumentname'>argServer<td class='argumentdesc'><tr><td class='argumentname'>argEnv<td class='argumentdesc'><tr><td class='argumentname'>argNumChannels<td class='argumentdesc'><tr><td class='argumentname'>argProcout<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-lag' href='./../Overviews/Methods.html#lag'>lag</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-lag' href='./../Overviews/Methods.html#lag'>lag</a> = <span class='argstr'>newlag</span></h3>
<div class='method'>
<p>If there is an envelope controlling the overall amplitude of events, set the lag time for changes of amplitude to take effect (with the amp_ instance method).<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newlag<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-env' href='./../Overviews/Methods.html#env'>env</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-env' href='./../Overviews/Methods.html#env'>env</a> = <span class='argstr'>newenv</span></h3>
<div class='method'>
<p>An instance of Env to be sent to the synthdef controlling an instance of ProcMods overall amplitude and event control. If a Number is passed in, it will represent a releasetime for the ProcMod.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newenv<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-process' href='./../Overviews/Methods.html#process'>process</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-isReleasing' href='./../Overviews/Methods.html#isReleasing'>isReleasing</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-target' href='./../Overviews/Methods.html#target'>target</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-target' href='./../Overviews/Methods.html#target'>target</a> = <span class='argstr'>newtarget</span></h3>
<div class='method'><h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newtarget<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-onReleaseFunc' href='./../Overviews/Methods.html#onReleaseFunc'>onReleaseFunc</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-onReleaseFunc' href='./../Overviews/Methods.html#onReleaseFunc'>onReleaseFunc</a> = value</h3>
<div class='method'>
<p>An instance of Function, Task or Routine to be evaluated the moment a ProcMod is released.</div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-pevents' href='./../Overviews/Methods.html#pevents'>pevents</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-pevents' href='./../Overviews/Methods.html#pevents'>pevents</a> = value</h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-composite' href='./../Overviews/Methods.html#composite'>composite</a> </h3>
<div class='method'>
<p></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-amp' href='./../Overviews/Methods.html#amp'>amp</a></h3>
<h3 class='imethodname'><span class='methprefix'>-</span><a name='-amp' href='./../Overviews/Methods.html#amp'>amp</a>_ (<span class='argstr'>newamp</span>, <span class='argstr'>sendMidi: true</span>)</h3>
<div class='method'>
<p>If there is an envelope controlling the overall amplitude of events, set the amplitude to val.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>newamp<td class='argumentdesc'><tr><td class='argumentname'>sendMidi<td class='argumentdesc'></table></div><h3 class='imethodname'><span class='methprefix'>-</span><a name='-saveToData' href='./../Overviews/Methods.html#saveToData'>saveToData</a> (<span class='argstr'>anAssociation</span>)</h3>
<div class='method'>
<p>places the Association into a Dictionary for later access. Any Association may be stored.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>anAssociation<td class='argumentdesc'></table></div><h3><a class='anchor' name='Inherited instance methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>SynthDef(\singrain, {arg freq, amp, dur, envbus;
    OffsetOut.ar(0,
        Pan2.ar(
            SinOsc.ar(freq, 0, amp) *
                EnvGen.kr(Env.sine(dur, amp), doneAction: 2) *
                In.kr(envbus),
            Rand.new(-1.0, 1.0)
        )
    ) // read off the overall env control of the ProcMod
}).add;

// create a new proc mod, and assign a function to it
a = ProcMod.new(Env([0, 1, 0], [1, 1], \sin, 1), server: s);
a.function_({arg group, envbus, server;
    Task({
        inf.do({
            // start a new synth... run it inside this ProcMod's group,
            // and read control values off the envbus
            server.sendMsg(\s_new, \singrain, server.nextNodeID, 0, group,
                \freq, 440.rrand(1760), \amp, 0.1, \dur, 5, \envbus, envbus);
            0.5.wait;
            })
        });
    });

// play it
a.play;
// change the amp
a.amp_(2);
// change the lag
a.lag_(0.5);
// change the amp again
a.amp_(5);
// release it
a.release;

// creating ProcMods in a functional way

a = {arg amp, env, high, low, winsize, overlaps;
    var proc;
    // defaults to Server.default if no Server is supplied
    proc = ProcMod.new(env, amp);
    proc.function_({arg group, envbus, server;
        Task({
            inf.do({
                // start a new synth... run it inside this ProcMod's group,
                // and read control values off the envbus
                server.sendMsg(\s_new, \singrain, server.nextNodeID, 0, group,
                    \freq, high.rrand(low), \amp, 1, \dur, winsize,
                    \envbus, envbus);
                (winsize / overlaps).wait;
                })
            });
        });
    };

// create new instances of ProcMod... store it to the variables 'b' and 'c'
b = a.value(0.2, Env([0, 1, 0], [1, 1], \sin, 1), 2000, 1000, 0.1, 4);
c = a.value(0.3, Env([0, 1, 0], [10, 0.1], [5, -10], 1), 440, 880, 0.4, 2);

b.play; c.play;

b.release;
c.release;</pre>

<p>Re-triggerable ProcMods
<p>ProcMods are meant for the most part, to be played and released. However, if the function slot is passed a Function object, they can be re-triggered after they have been released. If the Function returns a Task or Routine, the ProcMod will function as though a Task or Routine were placed in the function slot (it will be started and released in the same way). Re-triggered events will be assigned a new group and envbus, so these are made available to the Function through arguments. If an OSCresponderNode or releaseFunc are needed for each re-triggered event, they should be assigned inside the Function:<pre class='code prettyprint lang-sc'>SynthDef(\trig, {arg id, val;
    SendTrig.kr(Impulse.kr(10), id, val);
    }).add;

SynthDef(\singrain, {arg freq, amp, dur, envbus;
    OffsetOut.ar(0,
        Pan2.ar(
            SinOsc.ar(freq, 0, amp) *
                EnvGen.kr(Env.sine(dur, amp), doneAction: 2) *
                In.kr(envbus),
            -1.0.rrand(1.0)
        )
    ) // read off the overall env control of the ProcMod
}).add;

i = 0;
s.boot;
a = ProcMod.new(Env([0, 1, 0], [1, 3], \sin, 1), server: s);
// use a function. This one returns the Task. group and envbus are passed in as args
a.function_({arg group, envbus, server;
    a.responder_(
            OSCresponderNode(a.server.addr, '/tr', {arg time, resp, msg;
                (msg[2] == group).if({msg[3].postln})
                })
        );
    Task({
        s.sendMsg(\s_new, \trig, a.server.nextNodeID, 0, group, \id, group,
            \val, i);
        i = i + 1;
        inf.do({
            // start a new synth... run it inside this ProcMod's group,
            // and read control values off the envbus
            server.sendMsg(\s_new, \singrain, server.nextNodeID, 0,
                group, \freq, 440.rrand(880) * i, \amp, 0.1, \dur, 5,
                \envbus, envbus);
            0.05.wait;
            });
        });
    });

a.play; // play the ProcMod
// release the current event, and start a new one immediately. These will overlap.
a.release; a.play; // watch the posted values from the OSCresponderNode
a.release;</pre>

<p><div class='doclink'>helpfile source: <a href='file:///usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/ProcMod.schelp'>/usr/local/share/SuperCollider/Extensions/SC3plugins/JoshUGens/HelpSource/Classes/ProcMod.schelp</a><br>link::Classes/ProcMod::<br>sc version: 3.8dev</div></div></body></html>