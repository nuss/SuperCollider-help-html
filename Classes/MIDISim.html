<html><head><title>MIDISim</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='./../prettify.js' type='text/javascript'></script>
<script src='./../lang-sc.js' type='text/javascript'></script>
<script type='text/javascript'>var helpRoot='./..';</script>
</head>
<ul id='menubar'></ul>
<body onload='fixTOC();prettyPrint()'>
<div class='contents'>
<div class='header'>
<div id='label'>SuperCollider CLASSES (extension)</div>
<div id='categories'><a href='./../Browse.html#Modality'>Modality</a></div>
<h1>MIDISim<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>a class to simulate input from MIDI controllers</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/Modality-toolkit/Modality/Classes/MIDI/MIDISim.sc'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/Modality-toolkit/Modality/Classes/MIDI/MIDISim.sc</a></div><div id='superclasses'>Inherits from: <a href="../Classes/Object.html">Object</a></div>
<div id='related'>See also: <a href="./../Overviews/Modality.html">Modality</a>, <a href="./../Classes/MKtl.html">MKtl</a>, <a href="./../Classes/MIDIMKtlDevice.html">MIDIMKtlDevice</a>, <a href="./../Classes/MIDIIn.html">MIDIIn</a>, <a href="./../Classes/MIDIClient.html">MIDIClient</a></div>
</div>
<div id='toc'>
<ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc3'><a href='#*value'>value</a> </li>
<li class='toc3'><a href='#*noteOn'>noteOn</a>  <a href='#*noteOff'>noteOff</a> </li>
<li class='toc3'><a href='#*control'>control</a>  <a href='#*polytouch'>polytouch</a> </li>
<li class='toc3'><a href='#*touch'>touch</a>  <a href='#*bend'>bend</a>  <a href='#*program'>program</a> </li>
<li class='toc3'><a href='#*status'>status</a> </li>
<li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
</ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'></ul></ul></div><h2><a class='anchor' name='description'>Description</a></h2>

<p>MIDISim is intended for testing controller setups without requiring the device to be there. It can create any kind of midi message, thus simplifying the development and automatic testing of complex controller setups. It uses an Event which is passed through so it can be used in Patterns as well.<pre class='code prettyprint lang-sc'>MIDISim.value((midiMsgType: \control, numbers: [0,0,64]));
MIDISim.((midiMsgType: \touch, numbers: [0, 80]));</pre>
<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*value' href='./../Overviews/Methods.html#value'>value</a> (<span class='argstr'>ev</span>)</h3>
<div class='method'>
<p>This method creates a MIDIIn event, based on the event given.<h4>Arguments:</h4>
<table class='arguments'>
<tr><td class='argumentname'>ev<td class='argumentdesc'><pre class='code prettyprint lang-sc'>// control, noteOn, noteOff, polytouch expect 3 values:
// midiChan, midiNum, midiValue
(midiMsgType: \control, numbers: [midiChan, midiNum, midiValue]);

// channel-only messages like touch, bend, program expect 2 values:
(midiMsgType: \touch, numbers: [midiChan, midiValue]);</pre>
</table></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*noteOn' href='./../Overviews/Methods.html#noteOn'>noteOn</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>num</span>, <span class='argstr'>vel</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*noteOff' href='./../Overviews/Methods.html#noteOff'>noteOff</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>num</span>, <span class='argstr'>vel</span>)</h3>
<div class='method'></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*control' href='./../Overviews/Methods.html#control'>control</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>num</span>, <span class='argstr'>val</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*polytouch' href='./../Overviews/Methods.html#polytouch'>polytouch</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>num</span>, <span class='argstr'>val</span>)</h3>
<div class='method'></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*touch' href='./../Overviews/Methods.html#touch'>touch</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>val</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*bend' href='./../Overviews/Methods.html#bend'>bend</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>val</span>)</h3>
<h3 class='cmethodname'><span class='methprefix'>*</span><a name='*program' href='./../Overviews/Methods.html#program'>program</a> (<span class='argstr'>src</span>, <span class='argstr'>chan</span>, <span class='argstr'>val</span>)</h3>
<div class='method'></div><h3 class='cmethodname'><span class='methprefix'>*</span><a name='*status' href='./../Overviews/Methods.html#status'>status</a> (<span class='argstr'>src</span>, <span class='argstr'>status</span>, <span class='argstr'>a</span>, <span class='argstr'>b</span>, <span class='argstr'>c</span>)</h3>
<div class='method'>
<p>These methods are redirected to MIDIIn methods.</div><h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h2><a class='anchor' name='examples'>Examples</a></h2>
<pre class='code prettyprint lang-sc'>MIDISim.value((midiMsgType: \control, numbers: [0,0,64]));
MIDISim.((midiMsgType: \noSuchMsg, numbers: [0,0,64]));

Tdef(\spoof, {
    loop {
        MIDISim.value((
            \midiMsgType: \control,
            // varying ccnums, single control value
            \numbers: [0, { rrand(10, 24) }, 64]
        ));
        0.5.wait;
    };
}).play;

// test all the elements of a device
// device has to be phyiscally present!
MKtl.find(\midi);
m = MKtl('lpd', "akai-lpd8");
m.elAt.action = { |el| el.postln };

(
Tdef(\spoof, {
    // play five events for every element
    m.elementsDict.do { |elem|
        var desc = elem.elemDesc;
        var midiChan = desc[\midiChan];
        var midiNum = desc[\midiNum];
        var msgType = desc[\midiMsgType];
        if (msgType == \cc) { msgType == \control };

        5.do {
            MIDISim.value((
                \midiMsgType: msgType,
                \numbers: [midiChan, midiNum, rrand(0, 127)]
            ).postcs);
            0.5.wait;
        };
    };
}).play;
)</pre>

<p><div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/Modality-toolkit/Modality/HelpSource/Classes/MIDISim.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/Modality-toolkit/Modality/HelpSource/Classes/MIDISim.schelp</a><br>link::Classes/MIDISim::<br>sc version: 3.9dev</div></div></body></html>