<!doctype html><html lang='en'><head><title>ShannonFinger | SuperCollider 3.11.1-rc1 Help</title>
<link rel='stylesheet' href='./../scdoc.css' type='text/css' />
<link rel='stylesheet' href='./../codemirror.css' type='text/css' />
<link rel='stylesheet' href='./../editor.css' type='text/css' />
<link rel='stylesheet' href='./../frontend.css' type='text/css' />
<link rel='stylesheet' href='./../custom.css' type='text/css' />
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<script src='./../lib/jquery.min.js'></script>
<script src='./../lib/codemirror-5.39.2.min.js' type='text/javascript'></script>
<script src='./../lib/codemirror-addon-simple-5.39.2.min.js' type='text/javascript'></script>
<script>
var helpRoot = './..';
var scdoc_title = 'ShannonFinger';
var scdoc_sc_version = '3.11.1-rc1';
</script>
<script src='./../scdoc.js' type='text/javascript'></script>
<script src='./../docmap.js' type='text/javascript'></script>
<script src='qrc:///qtwebchannel/qwebchannel.js' type='text/javascript'></script>
</head>
<body onload='fixTOC()'>
<div id='toc'>
<div id='toctitle'>ShannonFinger:</div>
<span class='toc_search'>Filter: <input id='toc_search'></span><ul class='toc'><li class='toc1'><a href='#description'>Description</a></li>
<ul class='toc'></ul><li class='toc1'><a href='#classmethods'>Class methods</a></li>
<ul class='toc'><li class='toc2'><a href='#Inherited%20class%20methods'>Inherited class methods</a></li>
</ul><li class='toc1'><a href='#instancemethods'>Instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-next'>next</a> </li>
<li class='toc3'><a href='#-put'>put</a> </li>
<li class='toc3'><a href='#-wrapPut'>wrapPut</a> </li>
<li class='toc3'><a href='#-parse'>parse</a> </li>
<li class='toc3'><a href='#-asStream'>asStream</a> </li>
<li class='toc2'><a href='#Inherited%20instance%20methods'>Inherited instance methods</a></li>
<li class='toc2'><a href='#Undocumented%20instance%20methods'>Undocumented instance methods</a></li>
<ul class='toc'><li class='toc3'><a href='#-chooseIndex'>chooseIndex</a> </li>
<li class='toc3'><a href='#-clear'>clear</a> </li>
<li class='toc3'><a href='#-indexOf'>indexOf</a> </li>
<li class='toc3'><a href='#-initDict'>initDict</a> </li>
<li class='toc3'><a href='#-lookUp'>lookUp</a> </li>
<li class='toc3'><a href='#-nextIndex'>nextIndex</a> </li>
</ul></ul><li class='toc1'><a href='#examples'>Examples</a></li>
<ul class='toc'><li class='toc2'><a href='#setting%20the%20data'>setting the data</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#using%20the%20set%20with%20the%20message%20-next'>using the set with the message -next</a></li>
<ul class='toc'></ul><li class='toc2'><a href='#generating%20a%20stream'>generating a stream</a></li>
<ul class='toc'></ul></ul><li class='toc1'><a href='#Authors'>Authors</a></li>
<ul class='toc'></ul></ul></div><div id='menubar'></div>
<div class='contents'>
<div class='header'>
<div id='label'>
<span id='folder'>Classes (extension)</span>
 | <span id='categories'><a href='./../Browse.html#Collections'>Collections</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Collections>Unordered'>Unordered</a> | <a href='./../Browse.html#Libraries'>Libraries</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>MathLib'>MathLib</a>&#8201;&gt;&#8201;<a href='./../Browse.html#Libraries>MathLib>Markov & Fuzzy'>Markov & Fuzzy</a></span>
</div><h1>ShannonFinger<span id='superclasses'> : <a href="../Classes/ShannonMarkovSet.html">ShannonMarkovSet</a> : <a href="../Classes/Object.html">Object</a></span>
<div class='extension-indicator-ctr' title='This help file originates from a third-party quark or plugin for SuperCollider.'><img class='extension-indicator-icon' alt='Extension' src='./../images/plugin.png'><span class='extension-indicator-text'>Extension</span></div></h1>
<div id='summary'>shannon implementation of a markov set</div>
</div>
<div class='subheader'>
<div id='filename'>Source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/MathLib/classes/MarkovSet/ShannonMarkovSet.sc' title='/home/stefan/.local/share/SuperCollider/downloaded-quarks/MathLib/classes/MarkovSet/ShannonMarkovSet.sc'>ShannonMarkovSet.sc</a></div><div id='related'>See also: <a href="./../Classes/MarkovSet.html">MarkovSet</a>, <a href="./../Classes/MarkovSetN.html">MarkovSetN</a>, <a href="./../Classes/ShannonMarkovSet.html">ShannonMarkovSet</a></div>
</div>
<h2><a class='anchor' name='description'>Description</a></h2>

<p>The basic shannon implementation of a markov set is to simply leave the data as it is and to iterate over it by doing random jumps and looking for the next matching item. The item that follows that one is the next item of the chain. As this requires searching the data, which can be of very irregular efficiency, this current implementation uses an identity dictionary to find the indices of items in constant time. Higher order is slightly more costly, but still this is a major speed increase.
<p>This implementation allows to vary the order at each step and it is very fast in reading. In difference to <a href="./../Classes/MarkovSet.html">MarkovSet</a> and <a href="./../Classes/MarkovSetN.html">MarkovSetN</a> it can only read data as a chain, not as single nodes. Also it does not compress data, as the standard implementation does.
<p>Part of <a href="./../Guides/MathLib.html">MathLib</a>, a diverse library of mathematical functions.<h2><a class='anchor' name='classmethods'>Class Methods</a></h2>
<h3><a class='anchor' name='Inherited%20class%20methods'>Inherited class methods</a></h3>
<div id='inheritedclassmets'></div><h2><a class='anchor' name='instancemethods'>Instance Methods</a></h2>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-next' href='./../Overviews/Methods.html#next'>next</a>(<span class='argstr'>object</span>, <span class='argstr'>order: 1</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/ShannonMarkovSet.html'>ShannonMarkovSet</a></div>
<div class='method'>
<p>Return the next node for the input obj, using nth order (default = 1).</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-put' href='./../Overviews/Methods.html#put'>put</a>(<span class='argstr'>index</span>, <span class='argstr'>obj</span>)</h3>
<div class='method'>
<p>Put object in the data at index <code>i</code>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-wrapPut' href='./../Overviews/Methods.html#wrapPut'>wrapPut</a>(<span class='argstr'>i</span>, <span class='argstr'>item</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/ShannonMarkovSet.html'>ShannonMarkovSet</a></div>
<div class='method'>
<p>wrapPut object in the data at index <code>i</code>.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-parse' href='./../Overviews/Methods.html#parse'>parse</a>(<span class='argstr'>pattern</span>, <span class='argstr'>length</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/ShannonMarkovSet.html'>ShannonMarkovSet</a></div>
<div class='method'>
<p>Read <strong>length</strong> items of stream.</div><h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-asStream' href='./../Overviews/Methods.html#asStream'>asStream</a>(<span class='argstr'>order: 1</span>, <span class='argstr'>repeats: inf</span>)</h3>
<div class='supmethod'>From superclass: <a href='./../Classes/ShannonMarkovSet.html'>ShannonMarkovSet</a></div>
<div class='method'>
<p>Return a stream that reads from this set. <strong>order</strong> can be any object that returns a stream on .asStream, returning integers.</div><h3><a class='anchor' name='Inherited%20instance%20methods'>Inherited instance methods</a></h3>
<div id='inheritedinstmets'></div><h3><a class='anchor' name='Undocumented%20instance%20methods'>Undocumented instance methods</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-chooseIndex' href='./../Overviews/Methods.html#chooseIndex'>chooseIndex</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-clear' href='./../Overviews/Methods.html#clear'>clear</a>(<span class='argstr'>size</span>)</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-indexOf' href='./../Overviews/Methods.html#indexOf'>indexOf</a>(<span class='argstr'>obj</span>)</h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-initDict' href='./../Overviews/Methods.html#initDict'>initDict</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-lookUp' href='./../Overviews/Methods.html#lookUp'>lookUp</a></h3>
<h3 class='method-code'><span class='method-prefix'>.</span><a class='method-name' name='-nextIndex' href='./../Overviews/Methods.html#nextIndex'>nextIndex</a>(<span class='argstr'>prevIndex</span>, <span class='argstr'>order: 1</span>)</h3>
<h2><a class='anchor' name='examples'>Examples</a></h2>
<h3><a class='anchor' name='setting%20the%20data'>setting the data</a></h3>
<textarea class='editor'>m = ShannonFinger(16); // create a new instance with 16 slots.

"abc".do { |item,i| m.put(i, item) }; // fill the first 3 slots

m.data;

"abcdefghij".do { |item,i| m.put(i, item) }; // fill all 10 slots

m.data;

// fill the set directly:

m.data = "abcdefghij";

// setting higher indices throws an error:

m.put(20, $x);

// wrapPut:

m.wrapPut(20, $x);
m.data;</textarea>
<h3><a class='anchor' name='using%20the%20set%20with%20the%20message%20-next'>using the set with the message -next</a></h3>
<textarea class='editor'>m.next($b); // returns c.
m.next($c); // returns d

// now put a "c" at index 8:

m.put(8, $c);
m.data;

// generate some output on basis of c:

10.do { m.next($c).postln }; // returns sometimes j and d</textarea>
<h3><a class='anchor' name='generating%20a%20stream'>generating a stream</a></h3>
<textarea class='editor'>// crete a new, independent stream from m:
x = m.asStream;
60.do { x.next.post; Char.tab.post }

// whenever there is no next (at the last index), a random index is chosen
// to notify of this, set notify to true:

m.notify = true;


// minimal test:
m.data = (0..20);
m.next(2);
m.next(3);
m.data
m.lookUp;


x = m.asStream;
60.do { x.next.post; Char.tab.post }

// minimal test:
m.data = "abcdefghij";
m.next($a);
m.next($i);
m.data
m.lookUp;
m.put(0, $x);

x = m.asStream;
60.do { x.next.post; Char.tab.post }


// with stream
m = ShannonFinger.fill(30, Pseq([1, 2, Prand([3, 7])],inf).asStream);
m.data
m.lookUp;
x = m.asStream;
60.do { x.next.post; Char.tab.post }

SynthDescLib.read;

// listen to the set
(
Pbind(
    \degree, Pn(x),
    \dur, 0.25
).play;
)

// change the data slowly

m.parse(Pseq([1, 2, Prand([6, 9], 2)], inf), 20);
m.parse(Pseq([1, 5], inf), 20);
m.parse(Pseq([5, 0, -2], inf), 20);
m.data = [3, 4, 5, 4, 5, 6];
m.data</textarea>
<h2><a class='anchor' name='Authors'>Authors</a></h2>

<p>Julian Rohrhuber, et al, 2003.<div class='doclink'>helpfile source: <a href='file:///home/stefan/.local/share/SuperCollider/downloaded-quarks/MathLib/HelpSource/Classes/ShannonFinger.schelp'>/home/stefan/.local/share/SuperCollider/downloaded-quarks/MathLib/HelpSource/Classes/ShannonFinger.schelp</a><br>link::Classes/ShannonFinger::<br></div></div><script src='./../editor.js' type='text/javascript'></script>
</body></html>